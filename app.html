<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>NutriTrack</title>
<meta name="description" content="Traccia peso, dieta e macro ogni giorno">
<meta name="theme-color" content="#4a7a35">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="NutriTrack">

<!-- ═══ OPEN GRAPH — anteprima social/WhatsApp ═══ -->
<meta property="og:type"        content="website">
<meta property="og:url"         content="https://jefebcn.github.io/dietapp/app.html">
<meta property="og:title"       content="NutriTrack — Traccia macro, dimagrisci, vinci">
<meta property="og:description" content="L'app italiana gratuita per tracciare calorie e macro. Barcode scanner, AI foto, NutriPoints. Provala subito.">
<meta property="og:image"       content="https://jefebcn.github.io/dietapp/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height"content="630">
<meta property="og:locale"      content="it_IT">
<meta name="twitter:card"       content="summary_large_image">
<meta name="twitter:title"      content="NutriTrack — Traccia macro, dimagrisci, vinci">
<meta name="twitter:description"content="L'app italiana gratuita per tracciare calorie e macro. Barcode scanner, AI foto, NutriPoints.">
<meta name="twitter:image"      content="https://jefebcn.github.io/dietapp/og-image.png">

<link rel="manifest" id="pwa-manifest">
<link rel="apple-touch-icon" href="data:image/jpeg;base64,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">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=DM+Mono:wght@400;500&family=DM+Sans:wght@300;400;500;600&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>

<!-- ═══ FIREBASE ═══ -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, sendPasswordResetEmail, signOut, onAuthStateChanged }
  from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, collection, doc, setDoc, getDoc, getDocs, addDoc, query, orderBy, onSnapshot,
         updateDoc, deleteDoc, where, serverTimestamp, limit }
  from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyA7R-rCJ1B63j95qPctFf0gYgCiVtOvvOw",
  authDomain: "dietapp-8ad72.firebaseapp.com",
  projectId: "dietapp-8ad72",
  storageBucket: "dietapp-8ad72.firebasestorage.app",
  messagingSenderId: "903928286116",
  appId: "1:903928286116:web:84a2013356a2740fed8f31"
};

const app   = initializeApp(firebaseConfig);
const auth  = getAuth(app);
const db    = getFirestore(app);

window._fb = { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword,
               sendPasswordResetEmail, signOut, onAuthStateChanged,
               collection, doc, setDoc, getDoc, getDocs, addDoc, query,
               orderBy, onSnapshot, updateDoc, deleteDoc, where, serverTimestamp, limit };

// Auth state listener → bootstrap app
onAuthStateChanged(auth, async user => {
  if (user) {
    const snap = await getDoc(doc(db, 'users', user.uid));
    if (snap.exists()) {
      window._currentUser = { uid: user.uid, email: user.email, ...snap.data() };
    } else {
      window._currentUser = { uid: user.uid, email: user.email, name: user.email.split('@')[0], role: 'user' };
    }
    showApp();
  } else {
    window._currentUser = null;
    showAuth();
  }
});
</script>

<style>
/* ══════════════════════════════════
   BRAND TOKENS
══════════════════════════════════ */
:root {
  --green:    #4a7a35;
  --green-l:  #5c9642;
  --green-bg: #eef4eb;
  --orange:   #e07020;
  --orange-l: #f08030;
  --orange-bg:#fdf0e6;
  --cream:    #f3ede2;
  --cream2:   #ece5d8;
  --white:    #ffffff;
  --card:     #ffffff;
  --border:   #ddd6c8;
  --text:     #2a2420;
  --text2:    #5a5048;
  --muted:    #9a8f85;
  --danger:   #dc4a3a;
  --danger-bg:#fdecea;
  --shadow:   0 2px 12px rgba(0,0,0,0.07);
  --shadow-md:0 4px 20px rgba(0,0,0,0.10);
  --radius:   16px;
  --radius-sm:10px;

  --font-brand: 'Nunito', sans-serif;
  --font-body:  'DM Sans', sans-serif;
  --font-mono:  'DM Mono', monospace;
}

/* ── DARK MODE ── */
[data-theme="dark"] {
  --green:    #6aad55;
  --green-l:  #7dc466;
  --green-bg: #1a2e16;
  --orange:   #f08030;
  --orange-l: #f59040;
  --orange-bg:#2e1e0a;
  --cream:    #1e1a16;
  --cream2:   #252118;
  --white:    #2a2520;
  --card:     #2a2520;
  --border:   #3d3830;
  --text:     #f0ebe3;
  --text2:    #c8bfb5;
  --muted:    #8a8075;
  --danger:   #f06050;
  --danger-bg:#2e1510;
  --shadow:   0 2px 12px rgba(0,0,0,0.3);
  --shadow-md:0 4px 20px rgba(0,0,0,0.4);
}
[data-theme="dark"] body { background: #161310; }
[data-theme="dark"] .auth-box { background: var(--card); }
[data-theme="dark"] .sidebar { background: var(--card); }
[data-theme="dark"] input,
[data-theme="dark"] select,
[data-theme="dark"] textarea { background: var(--cream); color: var(--text); border-color: var(--border); }
[data-theme="dark"] input:focus,
[data-theme="dark"] select:focus { background: var(--white); border-color: var(--green); }
[data-theme="dark"] .ac-list { background: var(--card); }
[data-theme="dark"] .modal-box { background: var(--card); }
[data-theme="dark"] .legenda-table tr:nth-child(even) td { background: var(--cream); }

* { box-sizing: border-box; margin: 0; padding: 0; }

html {
  overflow-x: hidden;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

body {
  background: var(--cream);
  color: var(--text);
  font-family: var(--font-body);
  min-height: 100vh;
  overflow-x: hidden;
  width: 100%;
  -webkit-overflow-scrolling: touch;
}

/* ── SCROLLBAR ── */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

/* ══════════════════════════════════
   AUTH SCREEN
══════════════════════════════════ */
#auth-screen {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  background: var(--cream);
  background-image: radial-gradient(ellipse at 20% 80%, rgba(74,122,53,0.08) 0%, transparent 50%),
                    radial-gradient(ellipse at 80% 20%, rgba(224,112,32,0.08) 0%, transparent 50%);
}

.auth-box {
  background: var(--white);
  border-radius: 24px;
  padding: 48px 40px;
  width: 100%;
  max-width: 420px;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border);
}

/* Logo SVG */
.logo-wrap {
  text-align: center;
  margin-bottom: 32px;
}

.logo-svg-nutri { font-family: var(--font-brand); font-weight: 900; font-size: 44px; fill: var(--green); letter-spacing: -1px; }
.logo-svg-track { font-family: var(--font-brand); font-weight: 900; font-size: 44px; fill: var(--orange); letter-spacing: -1px; }

.auth-tabs {
  display: flex;
  background: var(--cream);
  border-radius: var(--radius-sm);
  padding: 4px;
  gap: 4px;
  margin-bottom: 28px;
}
.auth-tab {
  flex: 1;
  padding: 10px;
  border: none;
  background: transparent;
  border-radius: 8px;
  font-family: var(--font-brand);
  font-weight: 700;
  font-size: 14px;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.2s;
}
.auth-tab.active { background: var(--white); color: var(--green); box-shadow: var(--shadow); }

.auth-form { display: flex; flex-direction: column; gap: 14px; }
.auth-form.hidden { display: none; }

.form-group { display: flex; flex-direction: column; gap: 6px; }
.form-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--text2);
  letter-spacing: 0.5px;
  text-transform: uppercase;
  font-family: var(--font-brand);
}

input, select, textarea {
  background: var(--cream);
  border: 1.5px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text);
  font-family: var(--font-body);
  font-size: 15px;
  padding: 11px 14px;
  outline: none;
  transition: border-color 0.2s, box-shadow 0.2s;
  width: 100%;
}
input:focus, select:focus, textarea:focus {
  border-color: var(--green);
  box-shadow: 0 0 0 3px rgba(74,122,53,0.12);
  background: var(--white);
}
input::placeholder { color: var(--muted); }
select option { background: var(--white); }
textarea { resize: vertical; min-height: 80px; }

.btn {
  border: none;
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-family: var(--font-brand);
  font-weight: 700;
  font-size: 15px;
  padding: 12px 22px;
  transition: all 0.2s;
  white-space: nowrap;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 7px;
}

.btn-green  { background: var(--green); color: white; }
.btn-green:hover { background: var(--green-l); transform: translateY(-1px); box-shadow: 0 4px 14px rgba(74,122,53,0.3); }
.btn-orange { background: var(--orange); color: white; }
.btn-orange:hover { background: var(--orange-l); transform: translateY(-1px); box-shadow: 0 4px 14px rgba(224,112,32,0.3); }
.btn-ghost  { background: transparent; border: 1.5px solid var(--border); color: var(--text2); }
.btn-ghost:hover { background: var(--cream); border-color: var(--green); color: var(--green); }
.btn-danger { background: var(--danger-bg); color: var(--danger); border: 1px solid rgba(220,74,58,0.25); }
.btn-danger:hover { background: #fad5d0; }
.btn-sm { padding: 7px 14px; font-size: 13px; border-radius: 8px; }
.btn-xs { padding: 5px 10px; font-size: 12px; border-radius: 7px; }
.btn-icon { width: 34px; height: 34px; padding: 0; border-radius: 8px; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }

.forgot-link {
  text-align: center;
  font-size: 13px;
  color: var(--muted);
  cursor: pointer;
  text-decoration: underline;
  margin-top: -4px;
}
.forgot-link:hover { color: var(--green); }

.auth-error {
  padding: 10px 14px;
  background: var(--danger-bg);
  border: 1px solid rgba(220,74,58,0.25);
  border-radius: 8px;
  font-size: 13px;
  color: var(--danger);
  display: none;
}

/* ══════════════════════════════════
   APP SHELL
══════════════════════════════════ */
#app-screen { display: none; }

.sidebar {
  position: fixed;
  left: 0; top: 0;
  width: 76px;
  height: 100vh;
  background: var(--white);
  border-right: 1.5px solid var(--border);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px 0;
  gap: 4px;
  z-index: 100;
  box-shadow: 2px 0 12px rgba(0,0,0,0.04);
}

.sidebar-logo {
  margin-bottom: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  line-height: 1;
}
.sidebar-logo span:first-child { font-family: var(--font-brand); font-weight: 900; font-size: 15px; color: var(--green); letter-spacing: -0.5px; }
.sidebar-logo span:last-child  { font-family: var(--font-brand); font-weight: 900; font-size: 15px; color: var(--orange); letter-spacing: -0.5px; }

.nav-btn {
  width: 52px; height: 52px;
  border-radius: 14px;
  border: none;
  background: transparent;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 3px;
  transition: all 0.2s;
}
.nav-btn svg { width: 20px; height: 20px; stroke: var(--muted); fill: none; stroke-width: 2; transition: stroke 0.2s; }
.nav-btn span { font-family: var(--font-brand); font-weight: 700; font-size: 8px; color: var(--muted); letter-spacing: 0.5px; transition: color 0.2s; }
.nav-btn:hover { background: var(--cream); }
.nav-btn:hover svg { stroke: var(--green); }
.nav-btn:hover span { color: var(--green); }
.nav-btn.active { background: var(--green-bg); }
.nav-btn.active svg { stroke: var(--green); }
.nav-btn.active span { color: var(--green); }

.sidebar-bottom {
  margin-top: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}
.user-avatar {
  width: 36px; height: 36px;
  border-radius: 50%;
  background: var(--green-bg);
  border: 2px solid var(--green);
  display: flex; align-items: center; justify-content: center;
  font-family: var(--font-brand);
  font-weight: 800;
  font-size: 14px;
  color: var(--green);
  cursor: pointer;
}
.logout-btn {
  width: 36px; height: 36px;
  border-radius: 10px;
  border: 1.5px solid var(--border);
  background: transparent;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.2s;
}
.logout-btn svg { width: 16px; height: 16px; stroke: var(--muted); fill: none; stroke-width: 2; }
.logout-btn:hover { background: var(--danger-bg); border-color: var(--danger); }
.logout-btn:hover svg { stroke: var(--danger); }

/* ══════════════════════════════════
   MAIN CONTENT
══════════════════════════════════ */
.main {
  margin-left: 76px;
  min-height: 100vh;
  padding: 32px;
  max-width: 1200px;
}

.page { display: none; }
.page.active { display: block; animation: fadeUp 0.3s ease; }

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ── PAGE HEADER ── */
.page-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 28px;
  flex-wrap: wrap;
  gap: 12px;
}
.page-title-tag {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 1.5px;
  text-transform: uppercase;
  margin-bottom: 4px;
}
h1 { font-family: var(--font-brand); font-weight: 900; font-size: 30px; color: var(--text); letter-spacing: -0.5px; }
h2 { font-family: var(--font-brand); font-weight: 800; font-size: 20px; color: var(--text); }
h3 { font-family: var(--font-brand); font-weight: 700; font-size: 16px; color: var(--text); }

/* ── CARD ── */
.card {
  background: var(--card);
  border: 1.5px solid var(--border);
  border-radius: var(--radius);
  padding: 22px;
  box-shadow: var(--shadow);
}
.card-sm { padding: 14px 18px; border-radius: 12px; }

/* ── GRID ── */
.grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; }
.grid-4 { display: grid; grid-template-columns: repeat(4,1fr); gap: 14px; }

/* ── STAT CHIP ── */
.stat-chip {
  background: var(--cream);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  padding: 14px 18px;
  text-align: center;
}
.stat-chip .val { font-family: var(--font-brand); font-weight: 900; font-size: 22px; }
.stat-chip .lbl { font-family: var(--font-mono); font-size: 9px; color: var(--muted); letter-spacing: 1.5px; margin-top: 2px; }

/* ── MACRO PILLS ── */
.macro-pill { font-family: var(--font-mono); font-size: 10px; padding: 3px 8px; border-radius: 6px; white-space: nowrap; }
.mp-kcal { background: rgba(74,122,53,0.1);  color: var(--green); }
.mp-prot { background: rgba(224,112,32,0.1); color: var(--orange); }
.mp-carb { background: rgba(59,130,246,0.1); color: #3b82f6; }
.mp-fat  { background: rgba(234,179,8,0.1);  color: #ca8a04; }

/* ── BANNER ── */
.banner {
  padding: 14px 20px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 20px;
}
.banner-warn { background: rgba(224,112,32,0.08); border: 1.5px solid rgba(224,112,32,0.25); }
.banner-ok   { background: var(--green-bg); border: 1.5px solid rgba(74,122,53,0.25); }

/* ── SECTION HEADER ── */
.sec-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

/* ── DIVIDER ── */
.divider { height: 1.5px; background: var(--border); margin: 20px 0; }

/* ── WEIGHT INPUT ── */
.weight-input-row {
  display: flex;
  align-items: center;
  gap: 10px;
}
.weight-input-row input[type="number"] {
  width: 120px;
  font-family: var(--font-brand);
  font-weight: 900;
  font-size: 26px;
  text-align: center;
}

/* ── CHART ── */
.chart-wrap { position: relative; height: 240px; }

/* ── HISTORY ROW ── */
.hist-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 11px 18px;
  border-bottom: 1.5px solid var(--border);
  transition: background 0.15s;
}
.hist-row:last-child { border-bottom: none; }
.hist-row:hover { background: var(--cream); }

/* ── FOOD AUTOCOMPLETE ── */
.ac-wrap { position: relative; }
.ac-list {
  position: absolute;
  top: calc(100% + 4px);
  left: 0; right: 0;
  background: var(--white);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  z-index: 50;
  max-height: 300px;
  overflow-y: auto;
  box-shadow: var(--shadow-md);
  display: none;
}
.ac-list.open { display: block; }
.ac-item {
  padding: 12px 16px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: 3px;
  border-bottom: 1px solid var(--border);
}
.ac-item:last-child { border-bottom: none; }
.ac-item:hover { background: var(--cream); }
.ac-item:first-child { border-radius: 10px 10px 0 0; }
.ac-item:last-child  { border-radius: 0 0 10px 10px; }
.ac-item-name {
  font-size: 15px;
  font-weight: 600;
  color: var(--text);
  line-height: 1.3;
  word-break: break-word;
}
.ac-item-meta {
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--muted);
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}

/* ── TABS ── */
.tabs {
  display: flex; gap: 4px;
  background: var(--cream);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  padding: 4px;
  margin-bottom: 20px;
}
.tab {
  flex: 1; padding: 8px 14px;
  border: none; background: transparent;
  color: var(--muted); cursor: pointer;
  border-radius: 8px;
  font-family: var(--font-brand);
  font-weight: 700;
  font-size: 13px;
  transition: all 0.2s;
}
.tab:hover { color: var(--green); }
.tab.active { background: var(--white); color: var(--green); box-shadow: var(--shadow); }
.tab-panel { display: none; }
.tab-panel.active { display: block; animation: fadeUp 0.2s ease; }

/* ── BADGE ── */
.badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 4px 10px; border-radius: 20px;
  font-family: var(--font-brand); font-weight: 700; font-size: 11px;
}
.badge-green  { background: var(--green-bg);  color: var(--green); }
.badge-orange { background: var(--orange-bg); color: var(--orange); }
.badge-admin  { background: rgba(220,74,58,0.08); color: var(--danger); }

/* ── PROGRESS BAR ── */
.progress-track { height: 10px; background: var(--cream); border-radius: 100px; overflow: hidden; border: 1.5px solid var(--border); }
.progress-fill  { height: 100%; border-radius: 100px; transition: width 0.6s ease; }

/* ── MODAL OVERLAY ── */
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(3px);
  z-index: 200;
  display: flex; align-items: center; justify-content: center;
  padding: 24px;
  display: none;
}
.modal-overlay.open { display: flex; }
.modal-box {
  background: var(--white);
  border-radius: 20px;
  padding: 32px;
  width: 100%;
  max-width: 480px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.15);
  animation: fadeUp 0.25s ease;
}
.modal-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }

/* ── TOAST ── */
#toast {
  position: fixed; bottom: 24px; right: 24px;
  background: var(--text); color: white;
  border-radius: 12px; padding: 13px 20px;
  font-family: var(--font-brand); font-weight: 600; font-size: 14px;
  z-index: 999;
  transform: translateY(60px); opacity: 0;
  transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
  display: flex; align-items: center; gap: 10px;
  max-width: 320px;
}
#toast.show { transform: translateY(0); opacity: 1; }
#toast .t-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }

/* ── EMPTY ── */
.empty { text-align: center; padding: 40px 20px; color: var(--muted); }
.empty-icon { font-size: 38px; margin-bottom: 10px; opacity: 0.5; }
.empty p { font-size: 13px; }

/* ── ADMIN TABLE ── */
.admin-table { width: 100%; border-collapse: collapse; }
.admin-table th {
  text-align: left; font-family: var(--font-mono); font-size: 10px;
  color: var(--muted); letter-spacing: 1.5px; padding: 8px 14px;
  border-bottom: 1.5px solid var(--border); background: var(--cream);
}
.admin-table td {
  padding: 12px 14px; font-size: 14px;
  border-bottom: 1.5px solid var(--border);
}
.admin-table tr:last-child td { border-bottom: none; }
.admin-table tr:hover td { background: var(--cream); cursor: pointer; }

/* ── DIARY ENTRY ── */
.diary-entry {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 16px;
  background: var(--cream);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  margin-bottom: 8px;
}
.diary-entry:hover { border-color: var(--green); }
.diary-entry .food-name { flex: 1; font-weight: 600; font-size: 14px; }

/* ── LEGENDA TABLE ── */
.legenda-table { width: 100%; border-collapse: collapse; }
.legenda-table th {
  background: var(--green);
  color: white;
  font-family: var(--font-brand);
  font-weight: 700;
  font-size: 12px;
  padding: 10px 16px;
  text-align: left;
}
.legenda-table td {
  padding: 10px 16px;
  font-size: 13px;
  border-bottom: 1.5px solid var(--border);
}
.legenda-table tr:nth-child(even) td { background: var(--cream); }
.legenda-table tr:last-child td { border-bottom: none; }

/* ── FOOD ITEM CARD ── */
.food-card {
  display: flex; align-items: center; gap: 12px;
  padding: 14px 18px;
  background: var(--white);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  margin-bottom: 10px;
  transition: border-color 0.2s;
}
.food-card:hover { border-color: var(--green); }
.food-card .food-name { flex: 1; font-weight: 700; font-size: 14px; }

/* ── DAILY MACRO BAR ── */
.macro-summary {
  display: grid;
  grid-template-columns: repeat(4,1fr);
  gap: 12px;
  margin-bottom: 20px;
}
.macro-box {
  background: var(--card);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  text-align: center;
  box-shadow: var(--shadow);
}
.macro-box .mval { font-family: var(--font-brand); font-weight: 900; font-size: 22px; }
.macro-box .mlbl { font-family: var(--font-mono); font-size: 9px; color: var(--muted); letter-spacing: 1.5px; margin-top: 2px; }

/* ── TABLET ── */
@media (max-width: 768px) {
  .sidebar { width: 58px; }
  .main { margin-left: 58px; padding: 16px; }
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
  .macro-summary { grid-template-columns: 1fr 1fr; }
  .fab { bottom: 20px; right: 20px; }
  .fab-menu { bottom: 90px; right: 20px; }
  .target-edit-grid { grid-template-columns: 1fr 1fr; }
}

/* ── MOBILE: sidebar diventa bottom nav ── */
@media (max-width: 520px) {
  .sidebar {
    width: 100% !important;
    height: 64px;
    flex-direction: row;
    position: fixed;
    bottom: 0; left: 0; top: auto;
    border-right: none;
    border-top: 1.5px solid var(--border);
    z-index: 200;
    padding: 0;
    overflow-x: auto;
    overflow-y: hidden;
    justify-content: space-around;
    align-items: center;
    gap: 0;
  }
  .sidebar .logo-wrap { display: none; }
  .sidebar .sidebar-bottom {
    display: none;
  }
  .nav-btn {
    flex-direction: column;
    padding: 6px 10px;
    gap: 2px;
    min-width: 52px;
    border-radius: 10px;
    font-size: 9px;
  }
  .nav-btn svg { width: 20px; height: 20px; }
  .nav-btn span { font-size: 8px; }
  .main {
    margin-left: 0 !important;
    padding: 14px 12px 80px 12px;
  }
  .page-header { flex-wrap: wrap; gap: 8px; }
  .macro-summary { grid-template-columns: 1fr 1fr; gap: 8px; }
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
  .carb-day-bar { flex-wrap: wrap; gap: 6px; }
  .target-edit-grid { grid-template-columns: 1fr 1fr; }
  .fab { display: none !important; }
  .fab-menu { display: none !important; }
  .pts-toast { bottom: 78px; }
  .card { padding: 16px; }
  h1 { font-size: 24px; }
  .modal-box { margin: 12px; padding: 20px; max-height: 85vh; overflow-y: auto; }
  .auth-wrap { padding: 12px; }
  .auth-box { padding: 24px 20px; }
  .stat-chip { padding: 12px; }
  .reward-card { flex-wrap: wrap; }
}

/* ── TARGET EDIT MODAL ── */
.target-edit-panel {
  display: none;
  background: var(--cream);
  border: 1.5px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 16px 18px;
  margin-top: 10px;
  animation: pageIn 0.2s ease;
}
.target-edit-panel.open { display: block; }
.target-edit-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  gap: 10px;
  margin-bottom: 12px;
}
@media(max-width:600px){ .target-edit-grid{ grid-template-columns:1fr 1fr; } }
.target-edit-field label {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--muted);
  letter-spacing: 1.5px;
  display: block;
  margin-bottom: 4px;
}
.target-edit-field input {
  width: 100%;
  font-size: 14px;
  padding: 8px 10px;
}

/* ── NUTRIPOINTS ── */
.points-bar-wrap {
  background: var(--cream);
  border-radius: 100px;
  height: 8px;
  overflow: hidden;
  margin: 6px 0 2px;
}
.points-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--green), #a3e635);
  border-radius: 100px;
  transition: width 0.6s cubic-bezier(.4,0,.2,1);
}
.badge-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 100px;
  font-family: system-ui, -apple-system, 'Segoe UI', sans-serif;
  font-weight: 500;
  font-size: 12px;
  letter-spacing: 0.3px;
  border: 1.5px solid;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
}
.badge-chip.bronze  { background: linear-gradient(135deg,rgba(205,127,50,0.18),rgba(205,127,50,0.05)); color:#b8742a; border-color:rgba(205,127,50,0.4); }
.badge-chip.silver  { background: linear-gradient(135deg,rgba(160,160,160,0.18),rgba(160,160,160,0.05)); color:#888; border-color:rgba(160,160,160,0.4); }
.badge-chip.gold    { background: linear-gradient(135deg,rgba(255,200,0,0.22),rgba(255,200,0,0.05)); color:#b8860b; border-color:rgba(255,200,0,0.5); }
.badge-chip.platinum{ background: linear-gradient(135deg,rgba(56,189,248,0.18),rgba(56,189,248,0.05)); color:#0ea5e9; border-color:rgba(56,189,248,0.4); }

.points-activity-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 0;
  border-bottom: 1px solid var(--border);
  font-size: 14px;
}
.points-activity-row:last-child { border-bottom: none; }
.pts-pill {
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 500;
  padding: 3px 10px;
  border-radius: 20px;
  background: var(--green-bg);
  color: var(--green);
  letter-spacing: 0.5px;
}
.pts-pill.earned { background: linear-gradient(90deg, var(--green), #a3e635); color: white; }

/* ── MACRO DONUT ── */
.macro-donut-wrap {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  margin: 8px 0;
}
.macro-donut-wrap canvas { display: block; }
.donut-center-label {
  position: absolute;
  text-align: center;
  pointer-events: none;
}
.donut-center-label .dc-val {
  font-family: var(--font-brand);
  font-weight: 900;
  font-size: 20px;
  color: var(--text);
  line-height: 1;
}
.donut-center-label .dc-sub {
  font-family: var(--font-mono);
  font-size: 9px;
  color: var(--muted);
  letter-spacing: 1px;
}

/* ── RING COMPLETE ANIMATION ── */
@keyframes ringGlow {
  0%   { filter: drop-shadow(0 0 0px var(--green)); }
  50%  { filter: drop-shadow(0 0 18px var(--green)); }
  100% { filter: drop-shadow(0 0 0px var(--green)); }
}
.ring-complete { animation: ringGlow 1.2s ease 3; }

/* ── REWARDS HUB NAV ── */
.rewards-btn-label {
  font-family: var(--font-mono);
  font-size: 9px;
  font-weight: 700;
  letter-spacing: 1px;
}

/* ── POINTS TOAST ── */
.pts-toast {
  position: fixed;
  bottom: 90px;
  right: 28px;
  background: linear-gradient(135deg, var(--green), #a3e635);
  color: white;
  font-family: var(--font-brand);
  font-weight: 800;
  font-size: 16px;
  padding: 10px 20px;
  border-radius: 20px;
  z-index: 200;
  opacity: 0;
  transform: translateY(20px) scale(0.9);
  transition: all 0.3s cubic-bezier(.4,0,.2,1);
  pointer-events: none;
  box-shadow: 0 4px 20px rgba(74,122,53,0.4);
}
.pts-toast.show {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* ── CATALOG REWARD CARD ── */
.reward-card {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 18px;
  background: var(--card);
  border: 1.5px solid var(--border);
  border-radius: var(--radius-sm);
  margin-bottom: 10px;
  transition: border-color 0.15s;
}
.reward-card:hover { border-color: var(--green); }
.reward-card.locked { opacity: 0.6; }
.reward-card.unlocked { border-color: var(--green); background: var(--green-bg); }
.reward-icon { font-size: 32px; flex-shrink: 0; }
.reward-cost {
  font-family: var(--font-mono);
  font-size: 11px;
  font-weight: 700;
  color: var(--green);
  margin-top: 2px;
}

/* ── STREAK FLAME ── */
.streak-fire {
  font-size: 18px;
  animation: pulse 1.5s ease infinite;
}

/* ── DIARY NAV ARROWS ── */
.diary-nav {
  display: flex; align-items: center; gap: 10px;
}
.diary-nav-btn {
  background: var(--cream); border: 1.5px solid var(--border);
  border-radius: 8px; width: 32px; height: 32px;
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; font-size: 16px; transition: all 0.15s;
  color: var(--text);
}
.diary-nav-btn:hover { border-color: var(--green); color: var(--green); }
.diary-date-label {
  font-family: var(--font-mono); font-size: 12px;
  color: var(--text); min-width: 110px; text-align: center;
  cursor: pointer; padding: 4px 8px;
  border-radius: 6px; border: 1.5px solid transparent;
  transition: border-color 0.15s;
}
.diary-date-label:hover { border-color: var(--border); }

/* ── SCANNER MODAL ── */
.scanner-modal {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.9); z-index: 600;
  flex-direction: column; align-items: center; justify-content: center;
}
.scanner-modal.open { display: flex; }
.scanner-box {
  width: min(380px, 90vw); background: var(--card);
  border-radius: 20px; overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
}
.scanner-header {
  padding: 16px 20px; display: flex;
  align-items: center; justify-content: space-between;
  border-bottom: 1.5px solid var(--border);
}
#qr-reader { width: 100%; min-height: 240px; }
#qr-reader video { border-radius: 0 !important; }
.scanner-result { padding: 16px 20px; }

/* ── PHOTO ANALYSIS MODAL ── */
.photo-modal {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.85); z-index: 600;
  flex-direction: column; align-items: center; justify-content: center;
  padding: 16px;
}
.photo-modal.open { display: flex; }
.photo-box {
  width: min(440px, 95vw); background: var(--card);
  border-radius: 20px; overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
  max-height: 88vh; overflow-y: auto;
}
.photo-box-header {
  padding: 16px 20px; display: flex;
  align-items: center; justify-content: space-between;
  border-bottom: 1.5px solid var(--border);
  position: sticky; top: 0; background: var(--card); z-index: 2;
}
.photo-preview {
  width: 100%; max-height: 220px; object-fit: cover;
  display: none;
}
.photo-preview.show { display: block; }
.ai-food-result {
  border: 1.5px solid var(--green); border-radius: 12px;
  padding: 14px; margin: 12px 20px; background: var(--green-bg);
}
.ai-loading {
  text-align: center; padding: 28px;
  font-family: var(--font-mono); font-size: 13px; color: var(--muted);
}
@keyframes pulse-dot {
  0%,100% { opacity: 0.3; } 50% { opacity: 1; }
}
.ai-loading span { animation: pulse-dot 1.2s infinite; display: inline-block; }
.ai-loading span:nth-child(2) { animation-delay: 0.2s; }
.ai-loading span:nth-child(3) { animation-delay: 0.4s; }

/* ── SHARE MODAL ── */
.share-modal {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.8); z-index: 600;
  flex-direction: column; align-items: center; justify-content: center;
  padding: 16px;
}
.share-modal.open { display: flex; }
.share-box {
  width: min(420px, 95vw); background: var(--card);
  border-radius: 20px; overflow: hidden;
  box-shadow: 0 20px 60px rgba(0,0,0,0.4);
}
#share-canvas { display: block; width: 100%; border-radius: 0; }
.share-actions { padding: 16px 20px; display: flex; gap: 10px; }

/* ── NOTIFICATION BANNER ── */
.notif-banner {
  background: linear-gradient(135deg, #1e40af, #2563eb);
  color: white; border-radius: 14px; padding: 14px 18px;
  margin-bottom: 16px; display: flex;
  align-items: center; gap: 14px;
}
.notif-banner-icon { font-size: 26px; flex-shrink: 0; }
.notif-banner-text { flex: 1; font-size: 13px; line-height: 1.5; }
.notif-banner-text strong { display: block; font-size: 15px; margin-bottom: 2px; }

/* ── OFFLINE INDICATOR ── */
.offline-bar {
  position: fixed; top: 0; left: 0; right: 0;
  background: #b45309; color: white;
  text-align: center; font-size: 12px; font-family: var(--font-mono);
  padding: 6px; z-index: 1000;
  transform: translateY(-100%); transition: transform 0.3s;
}
.offline-bar.show { transform: translateY(0); }



/* ── PREMIUM SYSTEM ── */
.premium-badge {
  display: inline-flex; align-items: center; gap: 5px;
  background: linear-gradient(135deg, #ca8a04, #f59e0b);
  color: #fff; font-family: var(--font-mono); font-size: 9px;
  font-weight: 700; letter-spacing: 1px; text-transform: uppercase;
  padding: 3px 10px; border-radius: 100px;
}
.premium-locked-overlay {
  position: absolute; inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(2px);
  border-radius: inherit;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 6px; cursor: pointer; z-index: 5;
}
.premium-locked-overlay .lock-icon { font-size: 24px; }
.premium-locked-overlay .lock-txt {
  font-family: var(--font-mono); font-size: 10px;
  color: #f59e0b; letter-spacing: 1px; text-align: center;
  padding: 0 12px;
}
/* Upgrade modal */
.upgrade-modal {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.7); backdrop-filter: blur(6px);
  z-index: 700;
  display: flex; align-items: flex-end; justify-content: center;
  padding: 0 0 0 0;
}
.upgrade-box {
  background: var(--white);
  border-radius: 24px 24px 0 0;
  width: 100%; max-width: 480px;
  padding: 28px 24px 40px;
  text-align: center;
  animation: slideUp 0.3s ease;
}
@keyframes slideUp {
  from { transform: translateY(100%); }
  to   { transform: translateY(0); }
}
.upgrade-hero { font-size: 48px; margin-bottom: 8px; }
.upgrade-title {
  font-family: var(--font-brand); font-weight: 900;
  font-size: 22px; margin-bottom: 8px;
}
.upgrade-sub { font-size: 14px; color: var(--muted); margin-bottom: 20px; line-height: 1.5; }
.upgrade-price {
  font-family: var(--font-brand); font-weight: 900;
  font-size: 40px; color: var(--green); margin-bottom: 4px;
}
.upgrade-period { font-size: 12px; color: var(--muted); margin-bottom: 20px; }
.upgrade-features {
  list-style: none; text-align: left;
  background: var(--cream); border-radius: 12px;
  padding: 14px 18px; margin-bottom: 20px;
}
.upgrade-features li {
  font-size: 13px; padding: 6px 0;
  border-bottom: 1px solid var(--border);
  display: flex; align-items: center; gap: 8px;
}
.upgrade-features li:last-child { border-bottom: none; }
.premium-header-badge {
  background: linear-gradient(135deg, #ca8a04, #f59e0b);
  color: white; font-family: var(--font-mono); font-size: 9px;
  font-weight: 700; letter-spacing: 1px; padding: 2px 8px; border-radius: 100px;
}

/* ── REFERRAL CARD ── */
.referral-card {
  border-top: 3px solid var(--green);
  position: relative;
  overflow: hidden;
}
.referral-card::before {
  content: '';
  position: absolute;
  top: -40px; right: -40px;
  width: 120px; height: 120px;
  background: radial-gradient(circle, rgba(74,122,53,0.12), transparent 70%);
  border-radius: 50%;
  pointer-events: none;
}

/* ── API KEY SETTINGS ── */
.settings-section {
  background: var(--cream); border-radius: 12px;
  padding: 14px 18px; margin-top: 16px;
  border: 1.5px solid var(--border);
}

/* ── WIZARD ACTIVITY OPTION ── */
.wz-activity-opt {
  padding: 12px 16px;
  border: 1.5px solid var(--border);
  border-radius: 12px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.15s;
}
.wz-activity-opt:hover { border-color: var(--green); background: var(--green-bg); }
.wz-activity-opt.selected { border-color: var(--green); background: var(--green-bg); color: var(--green); }

/* ── OPENFOODFACTS BADGE ── */
.off-badge {
  font-family: var(--font-mono);
  font-size: 9px;
  padding: 2px 6px;
  border-radius: 5px;
  background: rgba(59,130,246,0.1);
  color: #3b82f6;
  margin-left: 5px;
}

/* pulse animation */
@keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.7;transform:scale(1.12)} }

/* ── PAGE TRANSITION ── */
@keyframes pageIn {
  from { opacity:0; transform:translateY(14px) scale(0.99); }
  to   { opacity:1; transform:translateY(0)    scale(1); }
}
.page.active { animation: pageIn 0.28s cubic-bezier(0.4,0,0.2,1); }

/* ── CARB DAY SELECTOR ── */
.carb-day-bar {
  display: flex; gap: 8px; flex-wrap: wrap;
  padding: 14px 18px;
  background: var(--card);
  border: 1.5px solid var(--border);
  border-radius: var(--radius);
  margin-bottom: 18px;
  align-items: center;
}
.carb-day-btn {
  padding: 7px 16px; border-radius: 20px;
  border: 1.5px solid var(--border);
  background: transparent; cursor: pointer;
  font-family: var(--font-brand); font-weight: 700; font-size: 12px;
  color: var(--muted); transition: all 0.18s;
}
.carb-day-btn:hover { border-color: var(--green); color: var(--green); background: var(--green-bg); }
.carb-day-btn.active-hc { background:#3b82f6; color:white; border-color:#3b82f6; }
.carb-day-btn.active-lc { background:var(--orange); color:white; border-color:var(--orange); }
.carb-day-btn.active-std { background:var(--green); color:white; border-color:var(--green); }

/* ── MACRO PROGRESS BAR ── */
.macro-progress-wrap {
  margin-top: 12px;
}
.macro-progress-row {
  display: flex; align-items: center; gap: 10px; margin-bottom: 8px;
}
.macro-progress-row .mpr-label {
  font-family: var(--font-mono); font-size: 10px; color: var(--muted);
  letter-spacing: 1px; width: 56px; flex-shrink: 0;
}
.macro-progress-row .mpr-track {
  flex: 1; height: 8px; background: var(--cream); border-radius: 100px;
  border: 1.5px solid var(--border); overflow: hidden;
}
.macro-progress-row .mpr-fill {
  height: 100%; border-radius: 100px;
  transition: width 0.5s cubic-bezier(0.4,0,0.2,1), background 0.3s;
}
.macro-progress-row .mpr-val {
  font-family: var(--font-mono); font-size: 10px; width: 76px;
  text-align: right; flex-shrink: 0; transition: color 0.3s;
}

/* ── MACRO NUMBER COLOR OVERRIDE (over target) ── */
.over-target { color: var(--danger) !important; }
.near-target { color: var(--orange) !important; }

/* ── SPEED-TRACK MEAL PRESET ── */
.meal-preset-card {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 16px;
  background: var(--card);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  margin-bottom: 8px;
  transition: border-color 0.15s;
}
.meal-preset-card:hover { border-color: var(--orange); }

/* ── FAB ── */
.fab {
  position: fixed;
  bottom: 28px; right: 20px;
  width: 44px; height: 44px;
  border-radius: 50%;
  background: rgba(74,122,53,0.82);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  color: white;
  border: 1.5px solid rgba(255,255,255,0.18);
  font-size: 22px;
  cursor: pointer;
  box-shadow: 0 2px 12px rgba(74,122,53,0.3);
  z-index: 500;
  display: flex; align-items: center; justify-content: center;
  transition: opacity 0.3s, transform 0.2s;
  opacity: 0.72;
}
.fab:hover, .fab:active { opacity: 1; transform: scale(1.08); }
.fab.fab-hidden { opacity: 0 !important; pointer-events: none; transform: scale(0.8); }
.fab-menu {
  position: fixed;
  bottom: 82px; right: 20px;
  display: flex; flex-direction: column; gap: 8px;
  z-index: 499;
  opacity: 0; transform: translateY(16px) scale(0.92);
  pointer-events: none;
  transition: all 0.22s cubic-bezier(0.4,0,0.2,1);
}
.fab-menu.open { opacity: 1; transform: translateY(0) scale(1); pointer-events: all; }
.fab-item {
  display: flex; align-items: center; gap: 8px;
  justify-content: flex-end;
}
.fab-item button {
  padding: 8px 14px;
  border-radius: 20px;
  border: none;
  background: var(--card);
  color: var(--text);
  font-family: var(--font-brand);
  font-weight: 600; font-size: 12px;
  cursor: pointer;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border);
  transition: all 0.15s;
  white-space: nowrap;
  opacity: 0.92;
}
.fab-item button:hover { background: var(--green); color: white; border-color: var(--green); opacity: 1; }

/* ── DARK MODE TOGGLE ── */
.dark-toggle {
  width: 36px; height: 20px;
  background: var(--border);
  border-radius: 10px;
  border: none;
  cursor: pointer;
  position: relative;
  transition: background 0.2s;
  flex-shrink: 0;
}
.dark-toggle.on { background: var(--green); }
.dark-toggle::after {
  content: '';
  position: absolute;
  width: 14px; height: 14px;
  background: white;
  border-radius: 50%;
  top: 3px; left: 3px;
  transition: transform 0.2s;
}
.dark-toggle.on::after { transform: translateX(16px); }

/* ── ONBOARDING WIZARD ── */
.wizard-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(4px);
  z-index: 300;
  display: flex; align-items: center; justify-content: center;
  padding: 24px;
}
.wizard-box {
  background: var(--white);
  border-radius: 24px;
  padding: 40px;
  width: 100%; max-width: 480px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.2);
  animation: fadeUp 0.3s ease;
}
.wizard-step { display: none; }
.wizard-step.active { display: block; }
.wizard-dots {
  display: flex; gap: 6px; justify-content: center; margin-bottom: 28px;
}
.wizard-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  background: var(--border);
  transition: all 0.2s;
}
.wizard-dot.active { background: var(--green); transform: scale(1.3); }
.wizard-dot.done { background: var(--green-bg); border: 2px solid var(--green); }
</style>
</head>
<body>

<!-- ══════════════════════════════════
     AUTH SCREEN
══════════════════════════════════ -->
<div id="auth-screen">
  <div class="auth-box">
    <!-- LOGO -->
    <div class="logo-wrap">
      <img src="data:image/png;base64,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" alt="NutriTrack" style="width:200px;height:auto">
    </div>

    <!-- TABS -->
    <div class="auth-tabs">
      <button class="auth-tab active" onclick="switchAuthTab('login')">Accedi</button>
      <button class="auth-tab" onclick="switchAuthTab('register')">Registrati</button>
    </div>

    <!-- ERROR -->
    <div class="auth-error" id="auth-error"></div>

    <!-- LOGIN FORM -->
    <div class="auth-form" id="form-login">
      <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" id="login-email" placeholder="la-tua@email.com" autocomplete="email">
      </div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input type="password" id="login-pass" placeholder="••••••••" autocomplete="current-password" onkeydown="if(event.key==='Enter')doLogin()">
      </div>
      <button class="btn btn-green" onclick="doLogin()" id="login-btn">Accedi →</button>
      <div class="forgot-link" onclick="openForgotFlow()">Password dimenticata?</div>
    </div>

    <!-- FORGOT PASSWORD PANEL -->
    <div class="auth-form hidden" id="form-forgot">
      <div style="text-align:center;margin-bottom:18px">
        <div style="font-size:36px;margin-bottom:8px">🔑</div>
        <div style="font-family:var(--font-brand);font-weight:800;font-size:18px;margin-bottom:4px">Recupera Password</div>
        <div style="font-size:13px;color:var(--muted);line-height:1.5">Inserisci la tua email e ti mandiamo un link per reimpostare la password.</div>
      </div>
      <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" id="forgot-email" placeholder="la-tua@email.com" autocomplete="email" onkeydown="if(event.key==='Enter')doForgot()">
      </div>
      <div id="forgot-status" style="display:none;padding:12px 14px;border-radius:10px;font-size:13px;margin-bottom:12px;line-height:1.5"></div>
      <button class="btn btn-green" onclick="doForgot()" id="forgot-btn">📧 Invia link di recupero</button>
      <div class="forgot-link" onclick="closeForgotFlow()" style="margin-top:12px">← Torna al login</div>
    </div>

    <!-- REGISTER FORM -->
    <div class="auth-form hidden" id="form-register">
      <div class="form-group">
        <label class="form-label">Nome</label>
        <input type="text" id="reg-name" placeholder="Il tuo nome">
      </div>
      <div class="form-group">
        <label class="form-label">Email</label>
        <input type="email" id="reg-email" placeholder="la-tua@email.com">
      </div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input type="password" id="reg-pass" placeholder="Min. 6 caratteri" onkeydown="if(event.key==='Enter')doRegister()">
      </div>
      <button class="btn btn-orange" onclick="doRegister()" id="reg-btn">Crea account →</button>
    </div>
  </div>
</div>

<!-- ══════════════════════════════════
     APP SCREEN
══════════════════════════════════ -->
<div id="app-screen">

  <!-- SIDEBAR -->
  <nav class="sidebar">
    <div class="sidebar-logo" style="padding:0">
      <img src="data:image/png;base64,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" alt="NutriTrack" style="width:44px;height:auto">
    </div>

    <button class="nav-btn active" id="nav-home" onclick="goPage('home')">
      <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span>HOME</span>
    </button>
    <button class="nav-btn" id="nav-diary" onclick="goPage('diary')">
      <svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><line x1="8" y1="14" x2="16" y2="14"/><line x1="8" y1="18" x2="12" y2="18"/></svg>
      <span>DIARIO</span>
    </button>
    <button class="nav-btn" id="nav-foods" onclick="goPage('foods')">
      <svg viewBox="0 0 24 24"><path d="M12 2a3 3 0 013 3v1H9V5a3 3 0 013-3z"/><path d="M5 8h14l-1.5 10H6.5L5 8z"/><line x1="9" y1="13" x2="9" y2="17"/><line x1="12" y1="13" x2="12" y2="17"/><line x1="15" y1="13" x2="15" y2="17"/></svg>
      <span>ALIMENTI</span>
    </button>
    <button class="nav-btn" id="nav-goals" onclick="goPage('goals')">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
      <span>OBIETTIVI</span>
    </button>
    <button class="nav-btn" id="nav-legenda" onclick="goPage('legenda')">
      <svg viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg>
      <span>LEGENDA</span>
    </button>
    <button class="nav-btn" id="nav-rewards" onclick="goPage('rewards')">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="8" r="6"/><path d="M15.477 12.89L17 22l-5-3-5 3 1.523-9.11"/></svg>
      <span>REWARDS</span>
    </button>

    <!-- Admin only -->
    <button class="nav-btn" id="nav-admin" onclick="goPage('admin')" style="display:none">
      <svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/></svg>
      <span>UTENTI</span>
    </button>

    <div class="sidebar-bottom">
      <button class="dark-toggle" id="dark-toggle-btn" onclick="toggleDarkMode()" title="Tema chiaro/scuro"></button>
      <span id="premium-nav-badge" style="display:none" class="premium-header-badge">⭐ PRO</span>
      <div class="user-avatar" id="user-avatar" title="Profilo">?</div>
      <button class="logout-btn" onclick="doLogout()" title="Esci">
        <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
      </button>
    </div>
  </nav>

  <main class="main">

    <!-- ═══ HOME PAGE ═══ -->
    <div class="page active" id="page-home">
      <div class="page-header">
        <div>
          <div class="page-title-tag">// dashboard</div>
          <h1 id="home-greeting">Ciao!</h1>
        </div>
        <div style="display:flex;align-items:center;gap:10px">
          <button class="btn btn-ghost btn-sm" onclick="checkPremium('openShareCard','📤 Progress Card','Genera e condividi una card con i tuoi progressi — visibile sui social.')" title="Condividi progressi" style="font-size:18px;padding:6px 10px">📤</button>
          <div style="font-family:var(--font-mono);font-size:12px;color:var(--muted)" id="home-date"></div>
        </div>
      </div>

      <!-- Notification permission banner -->
      <div id="notif-permission-banner" style="display:none" class="notif-banner">
        <div class="notif-banner-icon">🔔</div>
        <div class="notif-banner-text">
          <strong>Attiva i reminder</strong>
          Ricevi notifiche per pesarti e completare i macro ogni giorno.
        </div>
        <button class="btn btn-green btn-sm" onclick="requestNotifications()" style="flex-shrink:0">Attiva</button>
        <button onclick="document.getElementById('notif-permission-banner').style.display='none'" style="background:none;border:none;color:white;font-size:18px;cursor:pointer;flex-shrink:0;padding:4px">✕</button>
      </div>

      <!-- Reminder banner -->
      <div id="weight-banner" style="display:none"></div>

      <!-- Weight entry -->
      <div class="card" style="margin-bottom:20px;border-top:3px solid var(--green)">
        <div class="sec-header">
          <h3>⚖️ Inserisci il peso di oggi</h3>
          <div id="weight-streak" style="font-family:var(--font-mono);font-size:12px;color:var(--muted)"></div>
        </div>
        <div class="weight-input-row">
          <input type="number" id="weight-today" placeholder="75.0" step="0.1" min="20" max="300">
          <span style="color:var(--muted);font-family:var(--font-mono);font-size:16px">kg</span>
          <button class="btn btn-green" onclick="saveWeight()">Salva peso</button>
        </div>
        <div style="margin-top:14px;display:flex;gap:16px;flex-wrap:wrap">
          <div><div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px;margin-bottom:2px">ULTIMO PESO</div>
            <div style="font-family:var(--font-brand);font-weight:900;font-size:22px;color:var(--green)" id="stat-last">—</div></div>
          <div><div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px;margin-bottom:2px">VARIAZIONE</div>
            <div style="font-family:var(--font-brand);font-weight:800;font-size:20px" id="stat-delta">—</div></div>
          <div><div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px;margin-bottom:2px">MEDIA SETT.</div>
            <div style="font-family:var(--font-brand);font-weight:900;font-size:22px" id="stat-weekly">—</div></div>
          <div><div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px;margin-bottom:2px">MEDIA MENS.</div>
            <div style="font-family:var(--font-brand);font-weight:900;font-size:22px" id="stat-monthly">—</div></div>
        </div>
      </div>

      <!-- Today's diary summary -->
      <div class="card" style="margin-bottom:20px;border-top:3px solid var(--orange)">
        <div class="sec-header">
          <h3>🍽️ Riepilogo dieta di oggi</h3>
          <button class="btn btn-ghost btn-sm" onclick="goPage('diary')">Apri Diario →</button>
        </div>
        <div class="macro-summary" id="home-macro-summary">
          <div class="macro-box"><div class="mval" style="color:var(--green)">0</div><div class="mlbl">KCAL</div></div>
          <div class="macro-box"><div class="mval" style="color:var(--orange)">0g</div><div class="mlbl">PROTEINE</div></div>
          <div class="macro-box"><div class="mval" style="color:#3b82f6">0g</div><div class="mlbl">CARBOIDRATI</div></div>
          <div class="macro-box"><div class="mval" style="color:#ca8a04">0g</div><div class="mlbl">GRASSI</div></div>
        </div>
        <div id="home-today-entries" style="color:var(--muted);font-size:13px;text-align:center;padding:8px 0">
          Nessun alimento registrato oggi.
        </div>
      </div>

      <!-- NutriPoints Preview -->
      <div class="card" style="margin-bottom:20px;border-top:3px solid #ca8a04" id="home-points-card">
        <div class="sec-header">
          <div style="display:flex;align-items:center;gap:10px">
            <h3>🪙 NutriPoints</h3>
            <span id="home-points-badge" class="badge-chip bronze">🥉 Sprinter</span>
          </div>
          <button class="btn btn-ghost btn-sm" onclick="goPage('rewards')">Rewards Hub →</button>
        </div>
        <div style="display:flex;align-items:center;gap:16px;flex-wrap:wrap;margin-bottom:10px">
          <div style="text-align:center">
            <div style="font-family:var(--font-brand);font-weight:900;font-size:32px;color:#ca8a04" id="home-pts-total">0</div>
            <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted)">PUNTI TOTALI</div>
          </div>
          <div style="flex:1;min-width:0">
            <div style="display:flex;justify-content:space-between;font-family:var(--font-mono);font-size:10px;color:var(--muted);margin-bottom:4px">
              <span id="home-pts-next-label">Prossimo premio</span>
              <span id="home-pts-next-val"></span>
            </div>
            <div class="points-bar-wrap"><div class="points-bar-fill" id="home-pts-bar" style="width:0%"></div></div>
          </div>
        </div>
        <div id="home-pts-today" style="font-size:12px;color:var(--muted)">Nessun punto guadagnato oggi.</div>
      </div>

      <!-- Chart -->
      <div class="card" style="margin-bottom:20px">
        <div class="sec-header"><h3>📈 Andamento peso</h3>
          <div style="display:flex;gap:8px">
            <button class="btn btn-ghost btn-xs" onclick="setChartRange(30)" id="cr-30">30gg</button>
            <button class="btn btn-ghost btn-xs" onclick="setChartRange(90)" id="cr-90">3 mesi</button>
            <button class="btn btn-ghost btn-xs" onclick="setChartRange(99999)" id="cr-all">Tutto</button>
          </div>
        </div>
        <div class="chart-wrap"><canvas id="weight-chart"></canvas></div>
      </div>

      <!-- Weekly Macro Chart -->
      <div class="card" style="margin-bottom:20px">
        <div class="sec-header">
          <h3>🍽️ Kcal settimana corrente</h3>
          <span style="font-family:var(--font-mono);font-size:11px;color:var(--muted)">ultimi 7 giorni</span>
        </div>
        <div style="height:180px"><canvas id="macro-week-chart"></canvas></div>
      </div>

      <!-- Weekly Macro Chart -->
      <div class="card" style="margin-bottom:20px">
        <div class="sec-header">
          <h3>🍽️ Kcal settimana corrente</h3>
          <span style="font-family:var(--font-mono);font-size:11px;color:var(--muted)">ultimi 7 giorni</span>
        </div>
        <div style="height:180px"><canvas id="macro-week-chart"></canvas></div>
      </div>

      <!-- Weight History -->
      <div class="card" style="padding:0;overflow:hidden">
        <div style="padding:16px 22px;border-bottom:1.5px solid var(--border);display:flex;align-items:center;justify-content:space-between">
          <h3>📋 Storico misurazioni</h3>
          <span id="hist-count" style="font-family:var(--font-mono);font-size:11px;color:var(--muted)">0 misurazioni</span>
        </div>
        <div id="weight-history" style="max-height:380px;overflow-y:auto">
          <div class="empty"><div class="empty-icon">⚖️</div><p>Nessuna misurazione ancora.</p></div>
        </div>
      </div>
    </div>

    <!-- ═══ DIARY PAGE ═══ -->
    <div class="page" id="page-diary">
      <div class="page-header">
        <div>
          <div class="page-title-tag">// diario alimentare</div>
          <h1>Diario</h1>
        </div>
        <div class="diary-nav">
          <button class="diary-nav-btn" onclick="diaryGoDay(-1)" title="Giorno precedente">‹</button>
          <div class="diary-date-label" id="diary-date-label" onclick="diaryPickDate()">Oggi</div>
          <button class="diary-nav-btn" onclick="diaryGoDay(+1)" title="Giorno successivo" id="diary-next-btn">›</button>
          <input type="date" id="diary-date" style="display:none" onchange="loadDiary()">
          <button class="btn btn-ghost btn-sm" onclick="setDiaryToday()">Oggi</button>
        </div>
      </div>

      <!-- Carb Day Selector -->
      <div class="carb-day-bar">
        <span style="font-family:var(--font-brand);font-weight:700;font-size:13px;color:var(--text2)">Tipo di giorno:</span>
        <button class="carb-day-btn active-std" id="cbd-std" onclick="setCarbDay('std')">🟢 Standard</button>
        <button class="carb-day-btn" id="cbd-hc"  onclick="setCarbDay('hc')">🔵 High Carb</button>
        <button class="carb-day-btn" id="cbd-lc"  onclick="setCarbDay('lc')">🟠 Low Carb</button>
        <button class="btn btn-ghost btn-sm" style="margin-left:auto;font-size:11px" onclick="toggleTargetEditor()">✏️ Modifica target</button>
        <span id="carb-day-tdee-label" style="font-family:var(--font-mono);font-size:11px;color:var(--muted)"></span>
      </div>

      <!-- Target Editor Panel -->
      <div class="target-edit-panel" id="target-edit-panel">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
          <div>
            <div style="font-weight:700;font-size:14px" id="target-edit-title">✏️ Target Giorno Standard</div>
            <div style="font-size:12px;color:var(--muted);margin-top:2px">Imposta i valori per questo tipo di giornata</div>
          </div>
          <div style="display:flex;gap:8px">
            <button class="btn btn-ghost btn-sm" onclick="resetTargetToDefault()">↩ Ripristina default</button>
            <button class="btn btn-green btn-sm" onclick="saveCustomTarget()">💾 Salva</button>
          </div>
        </div>
        <div class="target-edit-grid">
          <div class="target-edit-field">
            <label>KCAL / GIORNO</label>
            <input type="number" id="te-kcal" placeholder="es. 2000" min="500" max="6000" step="10">
          </div>
          <div class="target-edit-field">
            <label>PROTEINE (g)</label>
            <input type="number" id="te-prot" placeholder="es. 150" min="10" max="500" step="1">
          </div>
          <div class="target-edit-field">
            <label>CARBOIDRATI (g)</label>
            <input type="number" id="te-carb" placeholder="es. 200" min="10" max="800" step="1">
          </div>
          <div class="target-edit-field">
            <label>GRASSI (g)</label>
            <input type="number" id="te-fat" placeholder="es. 60" min="5" max="300" step="1">
          </div>
        </div>
        <div style="font-family:var(--font-mono);font-size:10px;color:var(--muted)" id="te-kcal-check"></div>
      </div>

      <!-- Macro totals + progress bars -->
      <div class="macro-summary" id="diary-macro-summary">
        <div class="macro-box">
          <div class="mval" id="d-kcal" style="color:var(--green)">0</div>
          <div class="mlbl">KCAL</div>
          <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);margin-top:2px" id="d-kcal-target"></div>
        </div>
        <div class="macro-box">
          <div class="mval" id="d-prot" style="color:var(--orange)">0g</div>
          <div class="mlbl">PROTEINE</div>
          <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);margin-top:2px" id="d-prot-target"></div>
        </div>
        <div class="macro-box">
          <div class="mval" id="d-carb" style="color:#3b82f6">0g</div>
          <div class="mlbl">CARBOIDRATI</div>
          <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);margin-top:2px" id="d-carb-target"></div>
        </div>
        <div class="macro-box">
          <div class="mval" id="d-fat" style="color:#ca8a04">0g</div>
          <div class="mlbl">GRASSI</div>
          <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);margin-top:2px" id="d-fat-target"></div>
        </div>
      </div>

      <!-- Macro progress bars -->
      <div class="card macro-progress-wrap" style="margin-bottom:18px;padding:16px 20px" id="macro-progress-card" style="display:none">
        <div class="macro-progress-row">
          <span class="mpr-label">KCAL</span>
          <div class="mpr-track"><div class="mpr-fill" id="mpr-kcal" style="background:var(--green)"></div></div>
          <span class="mpr-val" id="mpr-kcal-val">—</span>
        </div>
        <div class="macro-progress-row">
          <span class="mpr-label">PROTEINE</span>
          <div class="mpr-track"><div class="mpr-fill" id="mpr-prot" style="background:var(--orange)"></div></div>
          <span class="mpr-val" id="mpr-prot-val">—</span>
        </div>
        <div class="macro-progress-row">
          <span class="mpr-label">CARB</span>
          <div class="mpr-track"><div class="mpr-fill" id="mpr-carb" style="background:#3b82f6"></div></div>
          <span class="mpr-val" id="mpr-carb-val">—</span>
        </div>
        <div class="macro-progress-row">
          <span class="mpr-label">GRASSI</span>
          <div class="mpr-track"><div class="mpr-fill" id="mpr-fat" style="background:#ca8a04"></div></div>
          <span class="mpr-val" id="mpr-fat-val">—</span>
        </div>
      </div>

      <!-- Add food to diary -->
      <div class="card" style="margin-bottom:20px">
        <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:14px">
          <h3>➕ Aggiungi alimento</h3>
          <div style="display:flex;gap:8px">
            <button class="btn btn-ghost btn-sm" onclick="openScanner()" title="Scansiona barcode">📷 Barcode</button>
            <button class="btn btn-ghost btn-sm" onclick="checkPremium('openPhotoAnalysis','🤖 Analisi Foto AI','Scatta una foto al piatto e l\'AI calcola automaticamente tutti i macro.')" title="Analizza foto con AI — Premium">🤖 Foto AI ⭐</button>
          </div>
        </div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:flex-end">
          <div style="flex:2;min-width:0">
            <div style="font-size:11px;color:var(--muted);margin-bottom:5px;font-family:var(--font-brand);font-weight:700">ALIMENTO</div>
            <div class="ac-wrap">
              <input type="text" id="diary-food-search" placeholder="Cerca nei tuoi alimenti o nel database..." onfocus="searchDiaryFoodEnhanced()" oninput="searchDiaryFoodEnhanced()" autocomplete="off">
              <div class="ac-list" id="diary-ac"></div>
            </div>
          </div>
          <div style="width:100px">
            <div style="font-size:11px;color:var(--muted);margin-bottom:5px;font-family:var(--font-brand);font-weight:700">GRAMMI</div>
            <input type="number" id="diary-grams" placeholder="100" value="100" min="1" max="5000">
          </div>
          <button class="btn btn-green" onclick="addToDiary()">Aggiungi</button>
        </div>
      </div>

      <!-- Diary entries -->
      <div class="card" style="padding:0;overflow:hidden">
        <div style="padding:14px 22px;border-bottom:1.5px solid var(--border);display:flex;align-items:center;justify-content:space-between">
          <h3 id="diary-entries-title">Alimenti di oggi</h3>
        </div>
        <div id="diary-entries" style="padding:16px">
          <div class="empty"><div class="empty-icon">🍽️</div><p>Nessun alimento nel diario di oggi.</p></div>
        </div>
      </div>

      <!-- ⚡ SPEED TRACK & PASTI PREFERITI -->
      <div style="margin-top:20px;margin-bottom:20px">
        <div class="sec-header" style="margin-bottom:14px">
          <h3>⚡ Speed Track</h3>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn btn-ghost btn-sm" onclick="copyYesterdayDiary()">📅 Copia da ieri</button>
            <button class="btn btn-orange btn-sm" onclick="saveMealPreset()">⭐ Salva come preferito</button>
          </div>
        </div>
        <div id="meal-presets-list">
          <div style="color:var(--muted);font-size:13px;padding:8px 0">Nessun pasto preferito salvato ancora.</div>
        </div>
      </div>

     <!-- Piani pasto -->
      <div style="margin-top:20px">
        <div class="sec-header">
          <h3>📋 Piani Pasto Salvati</h3>
          <button class="btn btn-green btn-sm" onclick="saveDiaryAsPlan()">💾 Salva diario come piano</button>
        </div>
        <div id="plans-list">
          <div class="empty" style="padding:28px"><div class="empty-icon">📋</div><p>Nessun piano salvato ancora.<br>Compila il diario e salvalo come piano riutilizzabile!</p></div>
        </div>
      </div>
    </div>

    <!-- ═══ FOODS PAGE ═══ -->
    <div class="page" id="page-foods">
      <div class="page-header">
        <div>
          <div class="page-title-tag">// database personale</div>
          <h1>I Miei Alimenti</h1>
        </div>
        <button class="btn btn-green" onclick="openFoodModal()">➕ Nuovo alimento</button>
      </div>

      <div class="card" style="margin-bottom:16px;padding:14px 18px">
        <input type="text" id="foods-search" placeholder="🔍  Cerca nei tuoi alimenti..." oninput="filterFoods()" style="border:none;background:transparent;font-size:15px;padding:0;box-shadow:none">
      </div>

      <div id="foods-list">
        <div class="empty"><div class="empty-icon">🥗</div><p>Nessun alimento creato ancora.<br>Inizia aggiungendo i tuoi alimenti preferiti!</p></div>
      </div>
    </div>

    <!-- ═══ GOALS PAGE ═══ -->
    <div class="page" id="page-goals">
      <div class="page-header">
        <div>
          <div class="page-title-tag">// il tuo obiettivo</div>
          <h1>Obiettivo Peso</h1>
        </div>
      </div>

      <div class="grid-2">
        <div>
          <div class="card" style="margin-bottom:20px">
            <h3 style="margin-bottom:16px">🎯 Imposta obiettivo</h3>
            <div style="display:flex;flex-direction:column;gap:14px">
              <div>
                <div class="form-label" style="margin-bottom:5px">PESO DI PARTENZA (kg)</div>
                <input type="number" id="goal-start" step="0.1" placeholder="es. 85">
              </div>
              <div>
                <div class="form-label" style="margin-bottom:5px">PESO OBIETTIVO (kg)</div>
                <input type="number" id="goal-target" step="0.1" placeholder="es. 75">
              </div>
              <div>
                <div class="form-label" style="margin-bottom:5px">NOTE / STRATEGIA</div>
                <textarea id="goal-note" placeholder="Es: -0.5 kg/settimana, deficit 400 kcal..."></textarea>
              </div>
              <button class="btn btn-green" onclick="saveGoal()">Salva obiettivo</button>
            </div>
          </div>
        </div>
        <div id="goal-progress-card">
          <div class="card">
            <div class="empty"><div class="empty-icon">🎯</div><p>Imposta il tuo obiettivo per vedere i progressi.</p></div>
          </div>
        </div>
      </div>
    </div>

    <!-- ═══ LEGENDA PAGE ═══ -->
    <div class="page" id="page-legenda">
      <div class="page-header">
        <div>
          <div class="page-title-tag">// riferimento rapido</div>
          <h1>Legenda & Conversioni</h1>
        </div>
      </div>

      <div class="grid-2" style="gap:20px">

        <!-- Misure cucina -->
        <div class="card">
          <h3 style="margin-bottom:16px">🥄 Misure in Cucina</h3>
          <table class="legenda-table" style="border-radius:10px;overflow:hidden">
            <thead><tr><th>Misura</th><th>ml</th><th>~ grammi</th></tr></thead>
            <tbody>
              <tr><td>1 cucchiaino (tsp)</td><td>5 ml</td><td>~5g</td></tr>
              <tr><td>1 cucchiaio (tbsp)</td><td>15 ml</td><td>~15g</td></tr>
              <tr><td>1 tazza (cup USA)</td><td>240 ml</td><td>~240g acqua</td></tr>
              <tr><td>1 tazza farina</td><td>240 ml</td><td>~120g</td></tr>
              <tr><td>1 tazza riso crudo</td><td>240 ml</td><td>~185g</td></tr>
              <tr><td>1 tazza avena</td><td>240 ml</td><td>~90g</td></tr>
              <tr><td>1 cucchiaio olio EVO</td><td>15 ml</td><td>~14g = 124 kcal</td></tr>
              <tr><td>1 cucchiaio burro</td><td>15 ml</td><td>~14g = 100 kcal</td></tr>
            </tbody>
          </table>
        </div>

        <!-- Porzioni comuni -->
        <div class="card">
          <h3 style="margin-bottom:16px">🍳 Porzioni di Riferimento</h3>
          <table class="legenda-table" style="border-radius:10px;overflow:hidden">
            <thead><tr><th>Alimento</th><th>1 porzione</th><th>kcal ~</th></tr></thead>
            <tbody>
              <tr><td>Uovo M di gallina</td><td>~55 g</td><td>~85 kcal</td></tr>
              <tr><td>Petto pollo cotto</td><td>~150 g</td><td>~248 kcal</td></tr>
              <tr><td>Pasta cruda</td><td>80 g</td><td>~282 kcal</td></tr>
              <tr><td>Riso crudo</td><td>80 g</td><td>~270 kcal</td></tr>
              <tr><td>Pane bianco</td><td>50 g</td><td>~136 kcal</td></tr>
              <tr><td>Banana media</td><td>~120 g</td><td>~107 kcal</td></tr>
              <tr><td>Mela media</td><td>~180 g</td><td>~94 kcal</td></tr>
              <tr><td>Yogurt greco 0%</td><td>150 g</td><td>~89 kcal</td></tr>
            </tbody>
          </table>
        </div>

        <!-- Macro per kcal -->
        <div class="card">
          <h3 style="margin-bottom:16px">⚡ Calorie per Macronutriente</h3>
          <table class="legenda-table" style="border-radius:10px;overflow:hidden">
            <thead><tr><th>Nutriente</th><th>kcal/g</th><th>Funzione principale</th></tr></thead>
            <tbody>
              <tr><td>🥩 Proteine</td><td style="color:var(--orange);font-weight:700">4 kcal/g</td><td>Costruzione muscolare</td></tr>
              <tr><td>🍞 Carboidrati</td><td style="color:#3b82f6;font-weight:700">4 kcal/g</td><td>Energia principale</td></tr>
              <tr><td>🫒 Grassi</td><td style="color:#ca8a04;font-weight:700">9 kcal/g</td><td>Ormoni, vitamine</td></tr>
              <tr><td>🍺 Alcol</td><td style="color:var(--danger);font-weight:700">7 kcal/g</td><td>—</td></tr>
            </tbody>
          </table>
        </div>

        <!-- BMI -->
        <div class="card">
          <h3 style="margin-bottom:16px">📊 Tabella BMI</h3>
          <table class="legenda-table" style="border-radius:10px;overflow:hidden">
            <thead><tr><th>Categoria</th><th>BMI</th></tr></thead>
            <tbody>
              <tr><td>Sottopeso</td><td>&lt; 18.5</td></tr>
              <tr><td>Normopeso</td><td>18.5 – 24.9</td></tr>
              <tr><td>Sovrappeso</td><td>25.0 – 29.9</td></tr>
              <tr><td>Obesità Classe I</td><td>30.0 – 34.9</td></tr>
              <tr><td>Obesità Classe II</td><td>35.0 – 39.9</td></tr>
              <tr><td>Obesità Classe III</td><td>≥ 40.0</td></tr>
            </tbody>
          </table>
          <div style="margin-top:14px;padding:12px 16px;background:var(--cream);border-radius:10px">
            <div style="font-size:11px;color:var(--muted);margin-bottom:6px;font-family:var(--font-brand);font-weight:700">CALCOLA IL TUO BMI</div>
            <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
              <input type="number" id="bmi-weight" placeholder="Peso (kg)" style="width:120px" oninput="calcBMI()">
              <input type="number" id="bmi-height" placeholder="Altezza (cm)" style="width:130px" oninput="calcBMI()">
              <div id="bmi-result" style="font-family:var(--font-brand);font-weight:900;font-size:20px;color:var(--green)"></div>
            </div>
          </div>
        </div>

        <!-- Fabbisogno calorico -->
        <div class="card">
          <h3 style="margin-bottom:16px">🔥 Fabbisogno Calorico (TDEE)</h3>
          <table class="legenda-table" style="border-radius:10px;overflow:hidden">
            <thead><tr><th>Livello Attività</th><th>Moltiplicatore BMR</th></tr></thead>
            <tbody>
              <tr><td>Sedentario (poco/nessun esercizio)</td><td>× 1.2</td></tr>
              <tr><td>Leggero (1-3 gg/sett.)</td><td>× 1.375</td></tr>
              <tr><td>Moderato (3-5 gg/sett.)</td><td>× 1.55</td></tr>
              <tr><td>Attivo (6-7 gg/sett.)</td><td>× 1.725</td></tr>
              <tr><td>Molto attivo (2x/giorno)</td><td>× 1.9</td></tr>
            </tbody>
          </table>
        </div>

        <!-- Conversioni peso -->
        <div class="card">
          <h3 style="margin-bottom:16px">⚖️ Conversioni Peso & Volume</h3>
          <table class="legenda-table" style="border-radius:10px;overflow:hidden">
            <thead><tr><th>Da</th><th>A</th><th>Valore</th></tr></thead>
            <tbody>
              <tr><td>1 kg</td><td>grammi</td><td>1.000 g</td></tr>
              <tr><td>1 kg</td><td>libbre (lb)</td><td>2.205 lb</td></tr>
              <tr><td>1 lb</td><td>grammi</td><td>453.6 g</td></tr>
              <tr><td>1 oz (oncia)</td><td>grammi</td><td>28.35 g</td></tr>
              <tr><td>1 litro</td><td>ml</td><td>1.000 ml</td></tr>
              <tr><td>1 kcal</td><td>kJ</td><td>4.184 kJ</td></tr>
              <tr><td>100 kJ</td><td>kcal</td><td>23.9 kcal</td></tr>
            </tbody>
          </table>
        </div>

      </div>
    </div>

    <!-- ═══ REWARDS HUB PAGE ═══ -->
    <div class="page" id="page-rewards">
      <div class="page-header">
        <div>
          <div class="page-title-tag">// sistema premi</div>
          <h1>🪙 Rewards Hub</h1>
        </div>
        <div style="display:flex;align-items:center;gap:12px">
          <div style="text-align:right">
            <div style="font-family:var(--font-brand);font-weight:900;font-size:28px;color:#ca8a04" id="rh-pts-total">0</div>
            <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted)">PUNTI TOTALI</div>
          </div>
          <span id="rh-badge" class="badge-chip bronze" style="font-size:13px;padding:6px 14px">🥉 Sprinter</span>
        </div>
      </div>

      <!-- Points progress to next badge -->
      <div class="card" style="margin-bottom:20px">
        <div class="sec-header" style="margin-bottom:12px">
          <h3>📊 Progressione Badge</h3>
          <span id="rh-next-badge-label" style="font-family:var(--font-mono);font-size:11px;color:var(--muted)"></span>
        </div>
        <div class="points-bar-wrap" style="height:12px;margin-bottom:8px"><div class="points-bar-fill" id="rh-pts-bar" style="width:0%"></div></div>
        <div style="display:flex;justify-content:space-between;font-family:var(--font-mono);font-size:10px;color:var(--muted)">
          <span id="rh-pts-current-lbl"></span>
          <span id="rh-pts-next-lbl"></span>
        </div>

        <!-- Badge grid -->
        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-top:18px" id="rh-badge-grid">
        </div>
      </div>


      <!-- PREMIUM PROMO CARD -->
      <div class="card" id="premium-promo-card" style="margin-bottom:20px;background:linear-gradient(135deg,#1a2d1a,#0f1f14);border:1.5px solid rgba(74,122,53,0.4);display:none">
        <div style="display:flex;align-items:center;gap:14px;margin-bottom:14px">
          <div style="font-size:36px">⭐</div>
          <div>
            <div style="font-family:var(--font-brand);font-weight:900;font-size:16px;color:#fff">NutriTrack Premium</div>
            <div style="font-size:12px;color:rgba(255,255,255,0.6)">Sblocca tutto il potenziale dell'app</div>
          </div>
          <div style="margin-left:auto;text-align:right">
            <div style="font-family:var(--font-brand);font-weight:900;font-size:24px;color:var(--green)">2,99€</div>
            <div style="font-size:10px;color:rgba(255,255,255,0.5);font-family:var(--font-mono)">/MESE</div>
          </div>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-bottom:16px">
          <div style="background:rgba(255,255,255,0.06);border-radius:8px;padding:10px 12px;font-size:12px;color:rgba(255,255,255,0.8)">🤖 Foto AI illimitata</div>
          <div style="background:rgba(255,255,255,0.06);border-radius:8px;padding:10px 12px;font-size:12px;color:rgba(255,255,255,0.8)">📊 Storico illimitato</div>
          <div style="background:rgba(255,255,255,0.06);border-radius:8px;padding:10px 12px;font-size:12px;color:rgba(255,255,255,0.8)">📤 Export &amp; Progress Card</div>
          <div style="background:rgba(255,255,255,0.06);border-radius:8px;padding:10px 12px;font-size:12px;color:rgba(255,255,255,0.8)">🚀 Accesso anticipato</div>
        </div>
        <button onclick="openPayPalCheckout()" class="btn btn-green" style="display:block;text-align:center;width:100%;border-radius:10px;border:none;cursor:pointer;font-weight:700">
          🚀 Diventa Premium — 2,99€/mese
        </button>
        <p style="font-size:10px;color:rgba(255,255,255,0.4);text-align:center;margin-top:10px;font-family:var(--font-mono)">Pagamento sicuro via Stripe · Attivazione automatica</p>
      </div>

      <!-- PREMIUM ACTIVE BADGE -->
      <div class="card" id="premium-active-card" style="margin-bottom:20px;background:linear-gradient(135deg,#1a2d1a,#0f1f14);border:1.5px solid var(--green);display:none;text-align:center;padding:28px">
        <div style="font-size:40px;margin-bottom:8px">⭐</div>
        <div style="font-family:var(--font-brand);font-weight:900;font-size:20px;color:#fff;margin-bottom:6px">Sei un utente Premium!</div>
        <div style="font-size:13px;color:rgba(255,255,255,0.6)">Hai accesso a tutte le funzioni avanzate di NutriTrack.</div>
      </div>

      <!-- How to earn points -->
      <div class="card" style="margin-bottom:20px">
        <h3 style="margin-bottom:16px">⚡ Come guadagnare punti</h3>
        <div class="points-activity-row">
          <div>
            <div style="font-weight:500;font-size:14px">⚖️ Peso giornaliero</div>
            <div style="font-size:12px;color:var(--muted)">Registra il tuo peso ogni giorno</div>
          </div>
          <span class="pts-pill">+10 pts</span>
        </div>
        <div class="points-activity-row">
          <div>
            <div style="font-weight:500;font-size:14px">🎯 Ring Closure</div>
            <div style="font-size:12px;color:var(--muted)">Completa i macro entro ±5% del target giornaliero</div>
          </div>
          <span class="pts-pill">+30 pts</span>
        </div>
        <div class="points-activity-row">
          <div>
            <div style="font-weight:500;font-size:14px">🔥 Streak 7 giorni</div>
            <div style="font-size:12px;color:var(--muted)">Pesati 7 giorni consecutivi (ogni multiplo di 7)</div>
          </div>
          <span class="pts-pill">+50 pts</span>
        </div>
        <div class="points-activity-row">
          <div>
            <div style="font-weight:500;font-size:14px">👥 Porta un amico</div>
            <div style="font-size:12px;color:var(--muted)">Il tuo amico si iscrive con il tuo codice referral</div>
          </div>
          <span class="pts-pill" style="background:var(--green);color:#fff">+100 pts</span>
        </div>
        <div class="points-activity-row" style="border-bottom:none">
          <div>
            <div style="font-weight:500;font-size:14px">🎁 Benvenuto amico</div>
            <div style="font-size:12px;color:var(--muted)">Bonus per chi si iscrive tramite referral</div>
          </div>
          <span class="pts-pill" style="background:#7c3aed;color:#fff">+50 pts</span>
        </div>
      </div>

      <!-- REFERRAL CARD -->
      <div class="card referral-card" style="margin-bottom:20px">
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px">
          <div style="width:44px;height:44px;background:linear-gradient(135deg,var(--green),#2d6a1f);border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0">👥</div>
          <div>
            <div style="font-family:var(--font-brand);font-weight:800;font-size:16px">Porta un Amico</div>
            <div style="font-size:12px;color:var(--muted)">Tu +100 pts · Amico +50 pts al primo accesso</div>
          </div>
        </div>

        <!-- Referral code display -->
        <div style="background:var(--cream);border-radius:12px;padding:14px 16px;margin-bottom:14px;border:1.5px dashed var(--green)">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--muted);margin-bottom:6px;letter-spacing:1px">IL TUO CODICE PERSONALE</div>
          <div style="display:flex;align-items:center;gap:10px">
            <div style="font-family:var(--font-brand);font-weight:900;font-size:26px;color:var(--green);letter-spacing:3px" id="referral-code-display">——</div>
            <button onclick="copyReferralCode()" class="btn btn-ghost btn-sm" style="margin-left:auto">📋 Copia</button>
          </div>
        </div>

        <!-- Share buttons -->
        <div style="display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap">
          <button class="btn btn-green" onclick="shareReferral('whatsapp')" style="flex:1;min-width:120px">
            💬 WhatsApp
          </button>
          <button class="btn btn-ghost" onclick="shareReferral('copy')" style="flex:1;min-width:120px">
            🔗 Copia Link
          </button>
          <button class="btn btn-ghost" onclick="shareReferral('native')" style="flex:1;min-width:120px">
            📤 Condividi
          </button>
        </div>

        <!-- Referral stats -->
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:14px">
          <div style="background:var(--cream);border-radius:10px;padding:12px;text-align:center">
            <div style="font-family:var(--font-brand);font-weight:900;font-size:28px;color:var(--green)" id="referral-count">0</div>
            <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted)">AMICI INVITATI</div>
          </div>
          <div style="background:var(--cream);border-radius:10px;padding:12px;text-align:center">
            <div style="font-family:var(--font-brand);font-weight:900;font-size:28px;color:#ca8a04" id="referral-pts-earned">0</div>
            <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted)">PUNTI DA REFERRAL</div>
          </div>
        </div>

        <!-- Enter referral code (for new users) -->
        <div id="referral-enter-section" style="display:none;border-top:1.5px solid var(--border);padding-top:14px">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--muted);margin-bottom:8px;letter-spacing:1px">HAI UN CODICE DI UN AMICO?</div>
          <div style="display:flex;gap:8px">
            <input type="text" id="referral-enter-input" placeholder="es. FLEX1234" style="flex:1;text-transform:uppercase;letter-spacing:2px;font-family:var(--font-brand);font-weight:700" maxlength="8" oninput="this.value=this.value.toUpperCase()">
            <button class="btn btn-green" onclick="submitReferralCode()">✓ Usa</button>
          </div>
          <div id="referral-enter-status" style="font-size:11px;margin-top:6px;color:var(--muted)"></div>
        </div>

        <!-- List of referred friends -->
        <div id="referral-friends-list" style="display:none;border-top:1.5px solid var(--border);padding-top:14px;margin-top:4px">
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--muted);margin-bottom:10px;letter-spacing:1px">AMICI ISCRITTI</div>
          <div id="referral-friends-inner"></div>
        </div>
      </div>

      <!-- Points history -->
      <div class="card" style="margin-bottom:20px">
        <div class="sec-header" style="margin-bottom:14px">
          <h3>📋 Storico punti</h3>
          <span id="rh-history-total" style="font-family:var(--font-mono);font-size:11px;color:var(--muted)"></span>
        </div>
        <div id="rh-history-list">
          <div class="empty"><div class="empty-icon">🪙</div><p>Nessun punto guadagnato ancora.<br>Inizia pesandoti oggi!</p></div>
        </div>
      </div>

      <!-- Flexeno Fitness Catalog -->
      <div class="card">
        <div class="sec-header" style="margin-bottom:16px">
          <h3>🛍️ Catalogo Premi — Flexeno Fitness</h3>
          <span style="font-family:var(--font-mono);font-size:10px;color:var(--muted)">Riscatta i tuoi punti</span>
        </div>
        <div id="rh-catalog"></div>
        <div style="margin-top:16px;padding:12px 16px;background:var(--cream);border-radius:10px;font-size:12px;color:var(--muted);text-align:center;line-height:1.6">
          🛒 I premi aprono direttamente il sito <strong><a href="https://flexenofitness.com" target="_blank" style="color:var(--green)">flexenofitness.com</a></strong><br>
          Per coupon e premi digitali contatta il team Flexeno via WhatsApp o email.
        </div>
      </div>
    </div>

    <!-- ═══ ADMIN PAGE ═══ -->
    <div class="page" id="page-admin">
      <div class="page-header">
        <div>
          <div class="page-title-tag">// pannello amministratore</div>
          <h1>Gestione Utenti</h1>
        </div>
        <div id="admin-user-count" style="font-family:var(--font-mono);font-size:13px;color:var(--muted)"></div>
      </div>

      <!-- User detail view (hidden by default) -->
      <div id="admin-user-detail" style="display:none" data-uid="" data-name="">
        <!-- Header -->
        <div style="display:flex;align-items:center;gap:12px;margin-bottom:20px;flex-wrap:wrap">
          <button class="btn btn-ghost btn-sm" onclick="closeUserDetail()">← Torna alla lista</button>
          <h2 id="admin-detail-name"></h2>
          <span id="admin-detail-badge" class="badge badge-green" style="margin-left:4px"></span>
        </div>

        <!-- ── PREMIUM CONTROL CARD ── -->
        <div id="admin-premium-card" class="card" style="margin-bottom:20px;padding:0;overflow:hidden;border:1.5px solid var(--border)">
          <div style="padding:14px 20px;background:var(--surface);border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px">
            <span style="font-size:16px">⭐</span>
            <span style="font-weight:700;font-size:14px">Gestione Piano Premium</span>
          </div>
          <div style="padding:18px 20px">
            <div style="display:flex;align-items:center;justify-content:space-between;gap:16px;flex-wrap:wrap">

              <!-- Status attuale -->
              <div style="display:flex;align-items:center;gap:14px">
                <div id="adm-prem-indicator" style="width:14px;height:14px;border-radius:50%;background:var(--muted);flex-shrink:0"></div>
                <div>
                  <div id="adm-prem-status-label" style="font-weight:700;font-size:15px;color:var(--text)">—</div>
                  <div id="adm-prem-status-sub"   style="font-size:12px;color:var(--muted);margin-top:2px">—</div>
                </div>
              </div>

              <!-- Toggle switch grande -->
              <label style="display:flex;align-items:center;gap:12px;cursor:pointer;user-select:none">
                <span id="adm-toggle-lbl-off" style="font-size:13px;color:var(--muted);font-weight:500">Free</span>
                <div id="adm-prem-toggle-wrap" style="position:relative;width:56px;height:30px" onclick="adminTogglePremiumFromDetail()">
                  <div id="adm-prem-track" style="
                    position:absolute;inset:0;border-radius:100px;
                    background:var(--border);transition:background .25s;cursor:pointer">
                  </div>
                  <div id="adm-prem-thumb" style="
                    position:absolute;top:3px;left:3px;
                    width:24px;height:24px;border-radius:50%;
                    background:#fff;box-shadow:0 2px 6px rgba(0,0,0,0.25);
                    transition:transform .25s;cursor:pointer">
                  </div>
                </div>
                <span id="adm-toggle-lbl-on" style="font-size:13px;font-weight:700;color:var(--muted)">Premium ⭐</span>
              </label>
            </div>

            <!-- Dettagli attivazione -->
            <div id="adm-prem-details" style="display:none;margin-top:14px;padding-top:14px;border-top:1px solid var(--border)">
              <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px">
                <div style="background:var(--surface2,#f8f5f0);border-radius:10px;padding:10px 14px">
                  <div style="font-size:10px;font-family:var(--font-mono);color:var(--muted);letter-spacing:1px;margin-bottom:4px">ATTIVATO IL</div>
                  <div id="adm-prem-date" style="font-weight:700;font-size:13px">—</div>
                </div>
                <div style="background:var(--surface2,#f8f5f0);border-radius:10px;padding:10px 14px">
                  <div style="font-size:10px;font-family:var(--font-mono);color:var(--muted);letter-spacing:1px;margin-bottom:4px">ATTIVATO DA</div>
                  <div id="adm-prem-by" style="font-weight:700;font-size:13px">—</div>
                </div>
                <div style="background:var(--surface2,#f8f5f0);border-radius:10px;padding:10px 14px">
                  <div style="font-size:10px;font-family:var(--font-mono);color:var(--muted);letter-spacing:1px;margin-bottom:4px">SCADENZA</div>
                  <div id="adm-prem-expires" style="font-weight:700;font-size:13px">—</div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <!-- Stats strip -->
        <div class="grid-3" style="margin-bottom:20px">
          <div class="stat-chip"><div class="val" id="adm-last" style="color:var(--green)">—</div><div class="lbl">ULTIMO PESO</div></div>
          <div class="stat-chip"><div class="val" id="adm-weekly">—</div><div class="lbl">MEDIA SETT.</div></div>
          <div class="stat-chip"><div class="val" id="adm-monthly">—</div><div class="lbl">MEDIA MENS.</div></div>
        </div>

        <!-- Tabs -->
        <div class="tabs" id="admin-detail-tabs">
          <button class="tab active" onclick="switchAdminTab('weights')">⚖️ Pesi</button>
          <button class="tab" onclick="switchAdminTab('foods')">🥗 Alimenti</button>
          <button class="tab" onclick="switchAdminTab('plans')">📋 Piani Pasto</button>
        </div>

        <!-- Tab: Pesi -->
        <div class="tab-panel active" id="adm-tab-weights">
          <div class="card" style="margin-bottom:20px">
            <div class="sec-header"><h3>📈 Andamento peso</h3></div>
            <div class="chart-wrap"><canvas id="admin-chart"></canvas></div>
          </div>
          <div class="card" style="padding:0;overflow:hidden">
            <div style="padding:14px 22px;border-bottom:1.5px solid var(--border);display:flex;align-items:center;justify-content:space-between">
              <h3>Storico misurazioni</h3>
              <span id="adm-weight-count" style="font-family:var(--font-mono);font-size:11px;color:var(--muted)"></span>
            </div>
            <div id="admin-weight-list" style="max-height:360px;overflow-y:auto"></div>
          </div>
        </div>

        <!-- Tab: Alimenti -->
        <div class="tab-panel" id="adm-tab-foods">
          <div class="card" style="margin-bottom:12px;padding:12px 18px">
            <input type="text" id="adm-foods-search" placeholder="🔍  Cerca negli alimenti di questo utente..."
              oninput="filterAdminFoods()" style="border:none;background:transparent;font-size:15px;padding:0;box-shadow:none">
          </div>
          <div id="admin-foods-list">
            <div class="empty"><div class="empty-icon">🥗</div><p>Nessun alimento creato da questo utente.</p></div>
          </div>
        </div>

        <!-- Tab: Piani Pasto -->
        <div class="tab-panel" id="adm-tab-plans">
          <div id="admin-plans-list">
            <div class="empty"><div class="empty-icon">📋</div><p>Nessun piano pasto salvato da questo utente.</p></div>
          </div>
        </div>
      </div>

      <!-- User list -->
      <div id="admin-user-list">
        <div class="card" style="padding:0;overflow:hidden">
          <table class="admin-table">
            <thead><tr><th>NOME</th><th>EMAIL</th><th>RUOLO</th><th>PREMIUM</th><th>REGISTRATO</th><th>ULTIMO PESO</th><th>AZIONI</th></tr></thead>
            <tbody id="admin-tbody">
              <tr><td colspan="6" style="text-align:center;padding:32px;color:var(--muted)">Caricamento...</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </main>
</div>

<!-- ══════════════════════════════════
     FOOD MODAL
══════════════════════════════════ -->
<div class="modal-overlay" id="food-modal">
  <div class="modal-box">
    <div class="modal-header">
      <h2 id="food-modal-title">Nuovo Alimento</h2>
      <button class="btn btn-ghost btn-icon" onclick="closeFoodModal()">✕</button>
    </div>
    <div style="display:flex;flex-direction:column;gap:14px">
      <div>
        <div class="form-label" style="margin-bottom:5px">NOME ALIMENTO *</div>
        <input type="text" id="fm-name" placeholder="Es. Ragù della nonna">
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
        <div>
          <div class="form-label" style="margin-bottom:5px">KCAL (per 100g) *</div>
          <input type="number" id="fm-kcal" placeholder="es. 250" step="0.1" oninput="updateFoodModalMacros()">
        </div>
        <div>
          <div class="form-label" style="margin-bottom:5px">PROTEINE (g/100g)</div>
          <input type="number" id="fm-prot" placeholder="es. 25" step="0.1" oninput="updateFoodModalMacros()">
        </div>
        <div>
          <div class="form-label" style="margin-bottom:5px">CARBOIDRATI (g/100g)</div>
          <input type="number" id="fm-carb" placeholder="es. 50" step="0.1" oninput="updateFoodModalMacros()">
        </div>
        <div>
          <div class="form-label" style="margin-bottom:5px">GRASSI (g/100g)</div>
          <input type="number" id="fm-fat" placeholder="es. 20" step="0.1" oninput="updateFoodModalMacros()">
        </div>
      </div>
      <div style="padding:12px 16px;background:var(--cream);border-radius:10px;display:flex;gap:10px;flex-wrap:wrap" id="fm-preview" style="display:none">
        <span class="macro-pill mp-kcal" id="fmp-kcal">0 kcal</span>
        <span class="macro-pill mp-prot" id="fmp-prot">P 0g</span>
        <span class="macro-pill mp-carb" id="fmp-carb">C 0g</span>
        <span class="macro-pill mp-fat"  id="fmp-fat">G 0g</span>
        <span style="font-family:var(--font-mono);font-size:10px;color:var(--muted)">per 100g</span>
      </div>
      <div>
        <div class="form-label" style="margin-bottom:5px">NOTE (opzionale)</div>
        <textarea id="fm-notes" placeholder="Es. Ricetta casalinga, valori stimati..." style="min-height:60px"></textarea>
      </div>
      <input type="hidden" id="fm-edit-id">
      <div style="display:flex;gap:10px">
        <button class="btn btn-ghost" onclick="closeFoodModal()" style="flex:1">Annulla</button>
        <button class="btn btn-green" onclick="saveFoodItem()" style="flex:2">Salva alimento</button>
      </div>
    </div>
  </div>
</div>


<!-- UPGRADE MODAL -->
<div class="upgrade-modal" id="upgrade-modal" style="display:none" onclick="if(event.target===this)closeUpgradeModal()">
  <div class="upgrade-box">
    <button onclick="closeUpgradeModal()" style="position:absolute;top:16px;right:20px;background:none;border:none;font-size:22px;color:var(--muted);cursor:pointer">✕</button>
    <div class="upgrade-hero">⭐</div>
    <div class="upgrade-title" id="upgrade-modal-title">Funzione Premium</div>
    <div class="upgrade-sub" id="upgrade-modal-sub">Sblocca tutte le funzioni avanzate di NutriTrack.</div>
    <div class="upgrade-price">2,99€</div>
    <div class="upgrade-period">al mese · cancelli quando vuoi</div>
    <ul class="upgrade-features">
      <li>🤖 Foto AI — analisi pasto illimitata</li>
      <li>📊 Storico dati illimitato</li>
      <li>📤 Export PDF &amp; Progress Card</li>
      <li>🍽️ Piani pasto avanzati</li>
      <li>⭐ Badge premium esclusivi</li>
      <li>🚀 Accesso anticipato nuove funzioni</li>
    </ul>
    <button onclick="closeUpgradeModal();openPayPalCheckout()" class="btn btn-green" style="width:100%;display:block;text-align:center;font-size:16px;padding:16px;border-radius:12px;border:none;cursor:pointer;font-weight:700">
      🚀 Diventa Premium — 2,99€/mese
    </button>
    <p style="font-size:11px;color:var(--muted);margin-top:12px;font-family:var(--font-mono);text-align:center">
      Pagamento sicuro via Stripe · Attivazione entro poche ore
    </p>
  </div>
</div>

<!-- OFFLINE BAR -->
<div class="offline-bar" id="offline-bar">📵 Modalità offline — i dati verranno sincronizzati quando torni online</div>


<!-- ══ BARCODE SCANNER MODAL ══ -->
<div class="scanner-modal" id="scanner-modal">
  <div class="scanner-box">
    <div class="scanner-header">
      <div>
        <div style="font-family:var(--font-brand);font-weight:800;font-size:16px">📷 Scansiona Barcode</div>
        <div style="font-size:12px;color:var(--muted);margin-top:2px">Punta la fotocamera al codice a barre del prodotto</div>
      </div>
      <button onclick="closeScanner()" style="background:none;border:none;font-size:22px;cursor:pointer;color:var(--muted)">✕</button>
    </div>
    <div id="qr-reader"></div>
    <div class="scanner-result" id="scanner-result" style="display:none">
      <div style="font-family:var(--font-mono);font-size:11px;color:var(--muted);margin-bottom:8px">PRODOTTO TROVATO</div>
      <div id="scanner-found-name" style="font-weight:700;font-size:15px;margin-bottom:6px"></div>
      <div id="scanner-found-macros" style="font-size:13px;color:var(--muted);margin-bottom:12px"></div>
      <div style="display:flex;gap:8px;align-items:center">
        <label style="font-size:12px;color:var(--muted)">Grammi:</label>
        <input type="number" id="scanner-grams" value="100" min="1" max="2000" style="width:80px">
        <button class="btn btn-green" onclick="addScannedFood()">➕ Aggiungi al diario</button>
      </div>
    </div>
    <div id="scanner-loading" style="text-align:center;padding:16px;font-size:13px;color:var(--muted);display:none">🔍 Ricerca prodotto...</div>
    <div id="scanner-error" style="padding:16px;color:var(--danger);font-size:13px;display:none"></div>
  </div>
</div>

<!-- ══ PHOTO AI ANALYSIS MODAL ══ -->
<div class="photo-modal" id="photo-modal">
  <div class="photo-box">
    <div class="photo-box-header">
      <div>
        <div style="font-family:var(--font-brand);font-weight:800;font-size:16px">🤖 Analisi Foto Pasto</div>
        <div style="font-size:12px;color:var(--muted);margin-top:2px">AI stima i macro dal tuo pasto</div>
      </div>
      <button onclick="closePhotoAnalysis()" style="background:none;border:none;font-size:22px;cursor:pointer;color:var(--muted)">✕</button>
    </div>
    <img id="photo-preview" class="photo-preview" src="" alt="Anteprima pasto">
    <div style="padding:16px 20px">
      <input type="file" id="photo-input" accept="image/*" capture="environment" style="display:none" onchange="handlePhotoSelected(event)">
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px">
        <button class="btn btn-green" onclick="document.getElementById('photo-input').click()" style="flex:1">📷 Scatta foto</button>
        <button class="btn btn-ghost" onclick="document.getElementById('photo-input-gallery').click()" style="flex:1">🖼️ Galleria</button>
        <input type="file" id="photo-input-gallery" accept="image/*" style="display:none" onchange="handlePhotoSelected(event)">
      </div>
      <div class="settings-section" id="apikey-section">
        <div style="font-size:12px;color:var(--muted);margin-bottom:8px;font-family:var(--font-brand);font-weight:700">🔑 ANTHROPIC API KEY</div>
        <div style="font-size:11px;color:var(--muted);margin-bottom:8px">Necessaria per l'analisi AI. <a href="https://console.anthropic.com" target="_blank" style="color:var(--green)">Ottienila qui →</a></div>
        <div style="display:flex;gap:8px">
          <input type="password" id="apikey-input" placeholder="sk-ant-..." style="flex:1;font-size:12px">
          <button class="btn btn-green btn-sm" onclick="saveApiKey()">Salva</button>
        </div>
        <div id="apikey-status" style="font-size:11px;margin-top:6px;color:var(--muted)"></div>
      </div>
    </div>
    <div id="photo-ai-loading" class="ai-loading" style="display:none">
      <div style="font-size:28px;margin-bottom:8px">🧠</div>
      Analisi in corso<span>.</span><span>.</span><span>.</span>
    </div>
    <div id="photo-ai-result" style="padding:0 20px 20px;display:none">
      <div class="ai-food-result">
        <div style="font-weight:700;font-size:14px;margin-bottom:10px" id="ai-food-name">—</div>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:8px;margin-bottom:12px">
          <div style="text-align:center">
            <div style="font-family:var(--font-brand);font-weight:800;font-size:18px;color:var(--green)" id="ai-kcal">—</div>
            <div style="font-size:9px;color:var(--muted);font-family:var(--font-mono)">KCAL</div>
          </div>
          <div style="text-align:center">
            <div style="font-family:var(--font-brand);font-weight:800;font-size:18px;color:var(--orange)" id="ai-prot">—</div>
            <div style="font-size:9px;color:var(--muted);font-family:var(--font-mono)">PROT</div>
          </div>
          <div style="text-align:center">
            <div style="font-family:var(--font-brand);font-weight:800;font-size:18px;color:#3b82f6" id="ai-carb">—</div>
            <div style="font-size:9px;color:var(--muted);font-family:var(--font-mono)">CARB</div>
          </div>
          <div style="text-align:center">
            <div style="font-family:var(--font-brand);font-weight:800;font-size:18px;color:#ca8a04" id="ai-fat">—</div>
            <div style="font-size:9px;color:var(--muted);font-family:var(--font-mono)">GRASSI</div>
          </div>
        </div>
        <div style="font-size:11px;color:var(--muted);margin-bottom:10px" id="ai-note"></div>
        <button class="btn btn-green" onclick="addAiFood()" style="width:100%">➕ Aggiungi al diario</button>
      </div>
      <button class="btn btn-ghost" onclick="document.getElementById('photo-input').click()" style="width:100%;margin-top:8px">📷 Analizza un'altra foto</button>
    </div>
    <div id="photo-ai-error" style="padding:16px 20px;color:var(--danger);font-size:13px;display:none"></div>
  </div>
</div>

<!-- ══ SHARE PROGRESS CARD MODAL ══ -->
<div class="share-modal" id="share-modal">
  <div class="share-box">
    <div style="padding:16px 20px;display:flex;align-items:center;justify-content:space-between;border-bottom:1.5px solid var(--border)">
      <div style="font-family:var(--font-brand);font-weight:800;font-size:16px">📤 Condividi Progressi</div>
      <button onclick="closeShareCard()" style="background:none;border:none;font-size:22px;cursor:pointer;color:var(--muted)">✕</button>
    </div>
    <canvas id="share-canvas" width="1080" height="1080"></canvas>
    <div class="share-actions">
      <button class="btn btn-green" onclick="doShare()" style="flex:1">📤 Condividi</button>
      <button class="btn btn-ghost" onclick="downloadShareCard()" style="flex:1">💾 Scarica</button>
    </div>
  </div>
</div>

<!-- TOAST -->
<div id="toast"><div class="t-dot"></div><span id="toast-msg">Salvato!</span></div>
<!-- POINTS TOAST -->
<div class="pts-toast" id="pts-toast"></div>

<!-- ══ FAB ══ -->
<div class="fab-menu" id="fab-menu">
  <div class="fab-item">
    <button onclick="fabQuickWeight()">⚖️ Inserisci peso</button>
  </div>
  <div class="fab-item">
    <button onclick="fabQuickFood()">🍽️ Aggiungi al diario</button>
  </div>
  <div class="fab-item">
    <button onclick="fabQuickFood('alimento')">🥗 Nuovo alimento</button>
  </div>
</div>
<button class="fab" id="fab-btn" onclick="toggleFab()" style="display:none">
  <span id="fab-icon">+</span>
</button>

<!-- ══ ONBOARDING WIZARD ══ -->
<div class="wizard-overlay" id="wizard-overlay" style="display:none">
  <div class="wizard-box">
    <div class="wizard-dots" id="wizard-dots">
      <div class="wizard-dot active" id="wd-0"></div>
      <div class="wizard-dot" id="wd-1"></div>
      <div class="wizard-dot" id="wd-2"></div>
      <div class="wizard-dot" id="wd-3"></div>
    </div>

    <!-- Step 0: Benvenuto -->
    <div class="wizard-step active" id="wstep-0">
      <div style="text-align:center;margin-bottom:24px">
        <div style="font-size:56px;margin-bottom:12px">👋</div>
        <h2 style="font-size:24px;margin-bottom:8px">Benvenuto su NutriTrack!</h2>
        <p style="color:var(--muted);font-size:14px;line-height:1.6">Configuriamo il tuo profilo in 3 passi per calcolare automaticamente il tuo fabbisogno calorico giornaliero.</p>
      </div>
      <button class="btn btn-green" style="width:100%" onclick="wizardNext(0)">Iniziamo →</button>
    </div>

    <!-- Step 1: Dati fisici -->
    <div class="wizard-step" id="wstep-1">
      <h2 style="margin-bottom:6px">📏 I tuoi dati</h2>
      <p style="color:var(--muted);font-size:13px;margin-bottom:20px">Servono per calcolare il tuo BMI e fabbisogno calorico.</p>
      <div style="display:flex;flex-direction:column;gap:14px">
        <div>
          <div class="form-label" style="margin-bottom:5px">DATA DI NASCITA</div>
          <input type="date" id="wz-dob" style="width:100%">
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <div>
            <div class="form-label" style="margin-bottom:5px">ALTEZZA (cm)</div>
            <input type="number" id="wz-height" placeholder="es. 175" min="100" max="250">
          </div>
          <div>
            <div class="form-label" style="margin-bottom:5px">PESO ATTUALE (kg)</div>
            <input type="number" id="wz-weight" placeholder="es. 75" step="0.1" min="20" max="300">
          </div>
        </div>
        <div>
          <div class="form-label" style="margin-bottom:5px">SESSO</div>
          <select id="wz-sex">
            <option value="">Seleziona...</option>
            <option value="m">Maschio</option>
            <option value="f">Femmina</option>
          </select>
        </div>
      </div>
      <div style="display:flex;gap:10px;margin-top:20px">
        <button class="btn btn-ghost" style="flex:1" onclick="wizardBack(1)">← Indietro</button>
        <button class="btn btn-green" style="flex:2" onclick="wizardNext(1)">Avanti →</button>
      </div>
    </div>

    <!-- Step 2: Livello attività -->
    <div class="wizard-step" id="wstep-2">
      <h2 style="margin-bottom:6px">🏃 Livello di attività</h2>
      <p style="color:var(--muted);font-size:13px;margin-bottom:16px">Quante volte ti alleni a settimana?</p>
      <div style="display:flex;flex-direction:column;gap:8px" id="wz-activity-opts">
        <div class="wz-activity-opt" data-val="1.2" onclick="selectActivity(this)">
          <strong>Sedentario</strong> <span style="color:var(--muted);font-size:12px">— poco o nessun esercizio</span>
        </div>
        <div class="wz-activity-opt" data-val="1.375" onclick="selectActivity(this)">
          <strong>Leggero</strong> <span style="color:var(--muted);font-size:12px">— 1-3 giorni/settimana</span>
        </div>
        <div class="wz-activity-opt" data-val="1.55" onclick="selectActivity(this)">
          <strong>Moderato</strong> <span style="color:var(--muted);font-size:12px">— 3-5 giorni/settimana</span>
        </div>
        <div class="wz-activity-opt" data-val="1.725" onclick="selectActivity(this)">
          <strong>Attivo</strong> <span style="color:var(--muted);font-size:12px">— 6-7 giorni/settimana</span>
        </div>
        <div class="wz-activity-opt" data-val="1.9" onclick="selectActivity(this)">
          <strong>Molto attivo</strong> <span style="color:var(--muted);font-size:12px">— allenamento intenso 2x/giorno</span>
        </div>
      </div>
      <div style="display:flex;gap:10px;margin-top:20px">
        <button class="btn btn-ghost" style="flex:1" onclick="wizardBack(2)">← Indietro</button>
        <button class="btn btn-green" style="flex:2" onclick="wizardNext(2)">Avanti →</button>
      </div>
    </div>

    <!-- Step 3: Risultato TDEE -->
    <div class="wizard-step" id="wstep-3">
      <div style="text-align:center">
        <div style="font-size:48px;margin-bottom:12px">🎯</div>
        <h2 style="margin-bottom:8px">Il tuo fabbisogno</h2>
        <div id="wz-result" style="margin:20px 0"></div>
        <p style="color:var(--muted);font-size:13px;margin-bottom:24px">Questi valori sono stati salvati nel tuo profilo. Puoi modificarli in qualsiasi momento dalla sezione Obiettivi.</p>
        <button class="btn btn-green" style="width:100%" onclick="wizardFinish()">Inizia a usare NutriTrack 🚀</button>
      </div>
    </div>
  </div>
</div>

<!-- ══════════════════════════════════
     INRAN FOOD DATABASE (per 100g)
══════════════════════════════════ -->
<script>
/* ═══════════════════════════════════════════════════════════
   REGOLE FIRESTORE — incolla queste nella Firebase Console
   (Firestore → Regole) per far funzionare tutto correttamente:

   rules_version = '2';
   service cloud.firestore {
     match /databases/{database}/documents {

       // Funzione helper: controlla se chi fa la richiesta è admin
       function isAdmin() {
         return request.auth != null &&
           get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'admin';
       }

       match /users/{userId} {
         // Tutti gli utenti autenticati possono leggere i profili (serve per la lista admin)
         allow read: if request.auth != null;
         allow create: if request.auth.uid == userId;
         allow update, delete: if request.auth.uid == userId || isAdmin();

         // Subcollection: utente accede ai propri, admin accede a tutti
         match /{subcollection}/{docId} {
           allow read, write: if request.auth.uid == userId || isAdmin();
         }
       }
     }
   }
══════════════════════════════════════════════════════════= */

const INRAN = [
  {n:"Petto di pollo cotto",cat:"Carne",kcal:165,p:31,c:0,f:3.6},
  {n:"Petto di pollo crudo",cat:"Carne",kcal:110,p:23.1,c:0,f:1.2},
  {n:"Coscia di pollo cotta",cat:"Carne",kcal:197,p:27,c:0,f:10},
  {n:"Tacchino, fesa cotta",cat:"Carne",kcal:157,p:30,c:0,f:3.9},
  {n:"Manzo, fesa cruda",cat:"Carne",kcal:107,p:21,c:0,f:2.5},
  {n:"Manzo, macinato",cat:"Carne",kcal:246,p:17.2,c:0,f:20},
  {n:"Vitello, fesa cruda",cat:"Carne",kcal:109,p:21,c:0,f:2.8},
  {n:"Maiale, lonza cruda",cat:"Carne",kcal:162,p:20.7,c:0,f:9},
  {n:"Salmone fresco",cat:"Pesce",kcal:208,p:20,c:0,f:13.6},
  {n:"Tonno al naturale",cat:"Pesce",kcal:103,p:23,c:0,f:1},
  {n:"Merluzzo",cat:"Pesce",kcal:82,p:18,c:0,f:0.7},
  {n:"Orata",cat:"Pesce",kcal:121,p:21,c:0,f:4},
  {n:"Branzino",cat:"Pesce",kcal:88,p:18.7,c:0,f:1.6},
  {n:"Gamberetti",cat:"Pesce",kcal:99,p:20,c:0.9,f:1.7},
  {n:"Polpo",cat:"Pesce",kcal:57,p:12.6,c:0.6,f:0.5},
  {n:"Uovo intero",cat:"Uova",kcal:155,p:12.5,c:0.7,f:11.1},
  {n:"Albume",cat:"Uova",kcal:43,p:11,c:0.7,f:0},
  {n:"Tuorlo",cat:"Uova",kcal:352,p:16.3,c:0.3,f:31.9},
  {n:"Latte intero",cat:"Latticini",kcal:64,p:3.3,c:4.9,f:3.6},
  {n:"Latte scremato",cat:"Latticini",kcal:35,p:3.6,c:5,f:0.2},
  {n:"Yogurt greco 0%",cat:"Latticini",kcal:59,p:10.2,c:3.6,f:0.4},
  {n:"Yogurt greco intero",cat:"Latticini",kcal:115,p:9,c:3.8,f:7.7},
  {n:"Ricotta vaccina",cat:"Latticini",kcal:146,p:11,c:3,f:10.2},
  {n:"Fiocchi di latte",cat:"Latticini",kcal:72,p:12.5,c:3,f:0.5},
  {n:"Mozzarella vaccina",cat:"Latticini",kcal:254,p:18,c:2.2,f:20},
  {n:"Parmigiano Reggiano",cat:"Latticini",kcal:431,p:33,c:0,f:29.7},
  {n:"Bresaola",cat:"Salumi",kcal:143,p:29,c:0.8,f:2.3},
  {n:"Prosciutto crudo sgrassato",cat:"Salumi",kcal:145,p:27.5,c:0,f:4.5},
  {n:"Prosciutto cotto",cat:"Salumi",kcal:215,p:21,c:0.9,f:14},
  {n:"Mortadella",cat:"Salumi",kcal:311,p:14.7,c:1.5,f:28.1},
  {n:"Pasta di semola cruda",cat:"Cereali",kcal:353,p:12.5,c:71.5,f:1.5},
  {n:"Pasta di semola cotta",cat:"Cereali",kcal:158,p:5.8,c:30.9,f:0.9},
  {n:"Pasta integrale cotta",cat:"Cereali",kcal:124,p:5.3,c:25,f:1.2},
  {n:"Riso bianco crudo",cat:"Cereali",kcal:337,p:6.7,c:78.4,f:0.4},
  {n:"Riso bianco cotto",cat:"Cereali",kcal:138,p:2.9,c:31.4,f:0.3},
  {n:"Riso integrale cotto",cat:"Cereali",kcal:111,p:2.6,c:23,f:0.9},
  {n:"Avena, fiocchi",cat:"Cereali",kcal:389,p:16.9,c:66.3,f:6.9},
  {n:"Quinoa cotta",cat:"Cereali",kcal:120,p:4.4,c:21.3,f:1.9},
  {n:"Pane bianco",cat:"Cereali",kcal:271,p:9,c:55.4,f:0.5},
  {n:"Pane integrale",cat:"Cereali",kcal:243,p:9.5,c:48,f:3.2},
  {n:"Fette biscottate",cat:"Cereali",kcal:411,p:10.6,c:81,f:4.9},
  {n:"Patata bollita",cat:"Verdure",kcal:77,p:2,c:17.5,f:0.1},
  {n:"Patata dolce cotta",cat:"Verdure",kcal:90,p:2,c:20.7,f:0.1},
  {n:"Spinaci crudi",cat:"Verdure",kcal:23,p:2.9,c:3.6,f:0.4},
  {n:"Broccoli",cat:"Verdure",kcal:34,p:2.8,c:7,f:0.4},
  {n:"Zucchine",cat:"Verdure",kcal:17,p:1.2,c:3.1,f:0.3},
  {n:"Pomodori",cat:"Verdure",kcal:18,p:0.9,c:3.9,f:0.2},
  {n:"Insalata lattuga",cat:"Verdure",kcal:14,p:1.3,c:2.2,f:0.2},
  {n:"Carote",cat:"Verdure",kcal:41,p:0.9,c:9.6,f:0.2},
  {n:"Peperoni",cat:"Verdure",kcal:31,p:1,c:6,f:0.3},
  {n:"Cetrioli",cat:"Verdure",kcal:15,p:0.6,c:3.6,f:0.1},
  {n:"Asparagi",cat:"Verdure",kcal:20,p:2.2,c:3.9,f:0.1},
  {n:"Funghi champignon",cat:"Verdure",kcal:22,p:3.1,c:3.3,f:0.3},
  {n:"Ceci cotti",cat:"Legumi",kcal:164,p:8.9,c:27.4,f:2.6},
  {n:"Lenticchie cotte",cat:"Legumi",kcal:116,p:9,c:20.1,f:0.4},
  {n:"Fagioli cannellini cotti",cat:"Legumi",kcal:122,p:7.9,c:23,f:0.4},
  {n:"Edamame",cat:"Legumi",kcal:121,p:11,c:8.9,f:5.2},
  {n:"Tofu",cat:"Legumi",kcal:76,p:8,c:1.9,f:4.8},
  {n:"Mela",cat:"Frutta",kcal:52,p:0.3,c:13.8,f:0.2},
  {n:"Banana",cat:"Frutta",kcal:89,p:1.1,c:22.8,f:0.3},
  {n:"Arancia",cat:"Frutta",kcal:47,p:0.9,c:11.7,f:0.1},
  {n:"Fragole",cat:"Frutta",kcal:32,p:0.7,c:7.7,f:0.3},
  {n:"Kiwi",cat:"Frutta",kcal:61,p:1.1,c:14.7,f:0.5},
  {n:"Avocado",cat:"Frutta",kcal:160,p:2,c:8.5,f:14.7},
  {n:"Mandorle",cat:"Frutta Secca",kcal:597,p:21.2,c:21.7,f:52.5},
  {n:"Noci",cat:"Frutta Secca",kcal:654,p:15.2,c:13.7,f:65.2},
  {n:"Olio EVO",cat:"Condimenti",kcal:884,p:0,c:0,f:100},
  {n:"Burro",cat:"Condimenti",kcal:717,p:0.9,c:0.1,f:81.1},
  {n:"Whey protein",cat:"Integratori",kcal:380,p:80,c:7,f:4},
  {n:"Caseina",cat:"Integratori",kcal:375,p:82,c:5,f:2},
];

// ══════════════════════════════════
// STATE
// ══════════════════════════════════
let weightData = [];
let userFoods  = [];
let diaryEntries = [];
let goalData   = null;
let weightChart = null;
let adminChart  = null;
let chartRange  = 30;
let currentDiaryDate = '';
let selectedDiaryFood = null;
let editingFoodId = null;

// ══════════════════════════════════
// NAVIGATION
// ══════════════════════════════════
function goPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  document.getElementById('page-'+id).classList.add('active');
  const nb = document.getElementById('nav-'+id);
  if (nb) nb.classList.add('active');
  if (id === 'admin') loadAdminUsers();
  if (id === 'goals') loadGoal();
  if (id === 'diary') { setDiaryToday(); }
  if (id === 'home') { loadMacroWeekChart(); updateHomeDiarySummary(); }
  if (id === 'rewards') { renderPointsUI(); loadReferralData(); }
}

// ══════════════════════════════════
// AUTH
// ══════════════════════════════════
function switchAuthTab(tab) {
  document.querySelectorAll('.auth-tab').forEach((t,i) => {
    t.classList.toggle('active', (i===0&&tab==='login')||(i===1&&tab==='register'));
  });
  document.getElementById('form-login').classList.toggle('hidden', tab!=='login');
  document.getElementById('form-register').classList.toggle('hidden', tab!=='register');
  clearAuthError();
}

function showAuthError(msg) {
  const el = document.getElementById('auth-error');
  el.textContent = msg; el.style.display = 'block';
}
function clearAuthError() { document.getElementById('auth-error').style.display = 'none'; }

async function doLogin() {
  const email = document.getElementById('login-email').value.trim();
  const pass  = document.getElementById('login-pass').value;
  if (!email||!pass) { showAuthError('Inserisci email e password.'); return; }
  const btn = document.getElementById('login-btn');
  btn.disabled = true; btn.textContent = 'Accesso...';
  try {
    await window._fb.signInWithEmailAndPassword(window._fb.auth, email, pass);
  } catch(e) {
    showAuthError(firebaseErrMsg(e.code));
    btn.disabled = false; btn.textContent = 'Accedi →';
  }
}

// ═══════════════════════════════════════════
// CREDENZIALI ADMIN — modifica qui
const ADMIN_EMAIL = 'admin@nutritrack.it';
// Crea l'account admin registrandoti con questa email.
// Solo chi accede con questa email vedrà il pannello utenti.
// ═══════════════════════════════════════════

async function doRegister() {
  const name  = document.getElementById('reg-name').value.trim();
  const email = document.getElementById('reg-email').value.trim();
  const pass  = document.getElementById('reg-pass').value;
  if (!name||!email||!pass) { showAuthError('Compila tutti i campi.'); return; }
  if (pass.length < 6) { showAuthError('Password minimo 6 caratteri.'); return; }
  const isAdmin = email.toLowerCase() === ADMIN_EMAIL.toLowerCase();
  const btn = document.getElementById('reg-btn');
  btn.disabled = true; btn.textContent = 'Registrazione...';
  try {
    const {auth, db, createUserWithEmailAndPassword, doc, setDoc} = window._fb;
    const cred = await createUserWithEmailAndPassword(auth, email, pass);
    // Ruolo determinato esclusivamente dall'email, non dall'ordine di registrazione
    const role = isAdmin ? 'admin' : 'user';
    await setDoc(doc(db,'users', cred.user.uid), {
      name, email, role, createdAt: Date.now()
    });
  } catch(e) {
    showAuthError(firebaseErrMsg(e.code));
    btn.disabled = false; btn.textContent = 'Crea account →';
  }
}

function openForgotFlow() {
  // Pre-fill email if already typed in login
  const loginEmail = document.getElementById('login-email').value.trim();
  if (loginEmail) document.getElementById('forgot-email').value = loginEmail;
  document.getElementById('forgot-status').style.display = 'none';
  document.getElementById('forgot-btn').textContent = '📧 Invia link di recupero';
  document.getElementById('forgot-btn').disabled = false;
  // Hide login, show forgot
  document.getElementById('form-login').classList.add('hidden');
  document.getElementById('form-forgot').classList.remove('hidden');
  document.getElementById('forgot-email').focus();
  clearAuthError();
}

function closeForgotFlow() {
  document.getElementById('form-forgot').classList.add('hidden');
  document.getElementById('form-login').classList.remove('hidden');
  clearAuthError();
}

async function doForgot() {
  const email = document.getElementById('forgot-email').value.trim();
  const statusEl = document.getElementById('forgot-status');
  const btn = document.getElementById('forgot-btn');

  if (!email) {
    statusEl.textContent = '⚠️ Inserisci la tua email.';
    statusEl.style.background = 'rgba(239,68,68,0.08)';
    statusEl.style.color = 'var(--danger)';
    statusEl.style.border = '1px solid rgba(239,68,68,0.2)';
    statusEl.style.display = 'block';
    document.getElementById('forgot-email').focus();
    return;
  }

  btn.textContent = '⏳ Invio in corso...';
  btn.disabled = true;

  try {
    await window._fb.sendPasswordResetEmail(window._fb.auth, email);
    statusEl.innerHTML = '✅ <strong>Email inviata!</strong><br>Controlla la casella di posta (e la cartella spam). Il link è valido per 1 ora.';
    statusEl.style.background = 'var(--green-bg)';
    statusEl.style.color = 'var(--green)';
    statusEl.style.border = '1px solid rgba(74,122,53,0.3)';
    statusEl.style.display = 'block';
    btn.textContent = '✅ Email inviata';
    // Auto-back to login after 4s
    setTimeout(() => closeForgotFlow(), 4000);
  } catch(e) {
    statusEl.textContent = '⚠️ ' + firebaseErrMsg(e.code);
    statusEl.style.background = 'rgba(239,68,68,0.08)';
    statusEl.style.color = 'var(--danger)';
    statusEl.style.border = '1px solid rgba(239,68,68,0.2)';
    statusEl.style.display = 'block';
    btn.textContent = '📧 Invia link di recupero';
    btn.disabled = false;
  }
}

async function doLogout() {
  // Cancella il listener premium prima del logout per evitare errori di permesso
  if (_premiumListener) { _premiumListener(); _premiumListener = null; }
  isPremium = false;
  await window._fb.signOut(window._fb.auth);
}

function firebaseErrMsg(code) {
  const map = {
    'auth/user-not-found': 'Nessun account trovato con questa email.',
    'auth/wrong-password': 'Password errata.',
    'auth/invalid-email': 'Email non valida.',
    'auth/email-already-in-use': 'Email già in uso.',
    'auth/weak-password': 'Password troppo debole (min. 6 caratteri).',
    'auth/invalid-credential': 'Credenziali non valide.',
    'auth/too-many-requests': 'Troppi tentativi. Riprova più tardi.',
  };
  return map[code] || 'Errore: ' + code;
}

// ══════════════════════════════════
// SHOW / HIDE SCREENS
// ══════════════════════════════════
function showAuth() {
  document.getElementById('auth-screen').style.display = 'flex';
  document.getElementById('app-screen').style.display = 'none';
}

function showApp() {
  document.getElementById('auth-screen').style.display = 'none';
  document.getElementById('app-screen').style.display = 'block';
  const u = window._currentUser;
  // Avatar & greeting
  const initials = (u.name||u.email).slice(0,2).toUpperCase();
  document.getElementById('user-avatar').textContent = initials;
  document.getElementById('home-greeting').textContent = 'Ciao, ' + (u.name||u.email.split('@')[0]) + '!';
  document.getElementById('home-date').textContent = new Date().toLocaleDateString('it-IT',{weekday:'long',day:'numeric',month:'long'});
  // Admin nav — doppio controllo: ruolo Firestore E email corrispondente
  const isAdmin = u.role === 'admin' || (u.email && u.email.toLowerCase() === ADMIN_EMAIL.toLowerCase());
  if (isAdmin) {
    document.getElementById('nav-admin').style.display = 'flex';
    // Se l'email è admin ma il ruolo non è stato salvato correttamente, aggiornalo
    if (u.role !== 'admin') {
      const {db, doc, updateDoc} = window._fb;
      updateDoc(doc(db,'users', u.uid), { role: 'admin' }).catch(()=>{});
      window._currentUser.role = 'admin';
    }
  }
  // Init
  initChart();
  initMacroWeekChart();
  setChartRange(30);
  setDiaryToday();
  subscribeWeights();
  loadUserFoods();
  loadGoal();
  loadUserTargets();
  loadCustomTargets();
  loadNutriPoints();
  initNotifications();
  initOfflineMode();
  loadReferralData();
  loadPremiumStatus();
  updateHomeDiarySummary();
  loadMacroWeekChart();
  // Show FAB
  const fabBtn = document.getElementById('fab-btn');
  if (fabBtn) fabBtn.style.display = 'flex';
  // Onboarding (skip for admin)
  checkOnboarding();
}

// ══════════════════════════════════
// TOAST
// ══════════════════════════════════
function toast(msg, color='var(--green)') {
  const t = document.getElementById('toast');
  t.querySelector('.t-dot').style.background = color;
  document.getElementById('toast-msg').textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2800);
}

// ══════════════════════════════════
// UTILS
// ══════════════════════════════════
function todayStr() { return new Date().toISOString().split('T')[0]; }
function formatDate(str) {
  return new Date(str+'T00:00:00').toLocaleDateString('it-IT',{day:'2-digit',month:'short',year:'numeric'});
}
function uid() { return window._currentUser?.uid; }

// ══════════════════════════════════
// WEIGHT — SUBSCRIBE (realtime)
// ══════════════════════════════════
function subscribeWeights() {
  const {db, collection, query, orderBy, onSnapshot} = window._fb;
  onSnapshot(
    query(collection(db,'users',uid(),'weights'), orderBy('date','asc')),
    snap => {
      weightData = snap.docs.map(d => ({id:d.id,...d.data()}));
      updateWeightUI();
    }
  );
}

async function saveWeight() {
  const val = parseFloat(document.getElementById('weight-today').value);
  if (!val||val<20||val>300) { toast('Peso non valido!','var(--danger)'); return; }
  const {db, doc, setDoc} = window._fb;
  const today = todayStr();
  await setDoc(doc(db,'users',uid(),'weights',today), {
    weight: val, date: today, ts: Date.now()
  });
  document.getElementById('weight-today').value = '';
  toast('Peso salvato: '+val+' kg');
  // NutriPoints: peso giornaliero
  if (typeof nutriPoints !== 'undefined' && typeof awardPoints === 'function') {
    if ((nutriPoints.lastWeighDate || '') !== today) {
      nutriPoints.lastWeighDate = today;
      await awardPoints(10, 'Peso giornaliero registrato', '⚖️');
      // Streak 7-day bonus
      const streak = calcWeightStreak();
      if (streak > 0 && streak % 7 === 0) {
        await awardPoints(50, '🔥 Streak ' + streak + ' giorni consecutivi!', '🔥');
      }
    }
  }
}

async function deleteWeight(dateId) {
  if (!confirm('Eliminare questa misurazione?')) return;
  const {db, doc, deleteDoc} = window._fb;
  await deleteDoc(doc(db,'users',uid(),'weights',dateId));
  toast('Misurazione eliminata','var(--danger)');
}

async function confirmWeightEdit(dateId) {
  const inp = document.getElementById('we-'+dateId);
  if (!inp) return;
  const val = parseFloat(inp.value);
  if (!val||val<20||val>300) { toast('Peso non valido!','var(--danger)'); return; }
  const {db, doc, updateDoc} = window._fb;
  await updateDoc(doc(db,'users',uid(),'weights',dateId), { weight: val });
  toast('Peso aggiornato!');
}

function startWeightEdit(dateId, current) {
  document.getElementById('wd-'+dateId).style.display = 'none';
  document.getElementById('we-row-'+dateId).style.display = 'flex';
  const inp = document.getElementById('we-'+dateId);
  if (inp) { inp.focus(); inp.select(); }
}
function cancelWeightEdit(dateId) {
  document.getElementById('wd-'+dateId).style.display = 'flex';
  document.getElementById('we-row-'+dateId).style.display = 'none';
}

// ══════════════════════════════════
// WEIGHT UI UPDATE
// ══════════════════════════════════
function updateWeightUI() {
  const today = todayStr();
  const hasToday = weightData.some(w => w.date === today);

  // Banner
  const banner = document.getElementById('weight-banner');
  if (!hasToday && weightData.length >= 0) {
    banner.style.display = 'flex';
    banner.className = 'banner banner-warn';
    banner.innerHTML = '<span style="font-size:22px;animation:pulse 2s infinite">⚖️</span><div><div style="font-weight:700;color:var(--orange)">Ricordati di pesarti oggi!</div><div style="font-size:13px;color:var(--muted)">Non hai ancora registrato il peso di oggi.</div></div>';
  } else if (hasToday) {
    banner.style.display = 'flex';
    banner.className = 'banner banner-ok';
    banner.innerHTML = '<span style="font-size:20px">✅</span><div><div style="font-weight:700;color:var(--green)">Peso registrato oggi</div><div style="font-size:13px;color:var(--muted)">Ottimo lavoro, continua così!</div></div>';
  }

  // Stats
  if (weightData.length) {
    const sorted = [...weightData].sort((a,b)=>b.date.localeCompare(a.date));
    const last = sorted[0].weight;
    document.getElementById('stat-last').textContent = last.toFixed(1)+' kg';
    // Delta
    if (sorted.length>1) {
      const diff = (last - sorted[1].weight);
      const el = document.getElementById('stat-delta');
      el.textContent = (diff>0?'↑ +':'↓ ')+diff.toFixed(1)+' kg';
      el.style.color = diff>0?'var(--danger)':'var(--green)';
    }
    // Weekly avg
    const weekAgo = new Date(); weekAgo.setDate(weekAgo.getDate()-7);
    const wk = weightData.filter(w=>new Date(w.date+'T00:00:00')>=weekAgo);
    if (wk.length) document.getElementById('stat-weekly').textContent = (wk.reduce((a,b)=>a+b.weight,0)/wk.length).toFixed(1)+' kg';
    // Monthly avg
    const mo = todayStr().slice(0,7);
    const mm = weightData.filter(w=>w.date.startsWith(mo));
    if (mm.length) document.getElementById('stat-monthly').textContent = (mm.reduce((a,b)=>a+b.weight,0)/mm.length).toFixed(1)+' kg';
  }

  // Streak
  const streak = computeStreak(weightData);
  document.getElementById('weight-streak').textContent = streak>1?'🔥 '+streak+' giorni consecutivi':streak===1?'✅ Streak iniziata!':'';

  // Chart
  updateChart();

  // History
  renderWeightHistory();

  // Aggiorna progressi obiettivo se la pagina è aperta
  if (document.getElementById('page-goals') && document.getElementById('page-goals').classList.contains('active')) {
    renderGoalProgress();
  }
}

function computeStreak(data) {
  if (!data.length) return 0;
  const dates = [...new Set(data.map(d=>d.date))].sort((a,b)=>b.localeCompare(a));
  let streak=0, cursor=new Date(); cursor.setHours(0,0,0,0);
  for (const d of dates) {
    const dd = new Date(d+'T00:00:00');
    const diff = Math.round((cursor-dd)/86400000);
    if (diff===0||diff===1) { streak++; cursor=dd; } else break;
  }
  return streak;
}

// ══════════════════════════════════
// CHART
// ══════════════════════════════════
function initChart() {
  const ctx = document.getElementById('weight-chart').getContext('2d');
  weightChart = new Chart(ctx, {
    type: 'line',
    data: { labels:[], datasets:[{
      label:'Peso', data:[],
      borderColor:'#4a7a35', backgroundColor:'rgba(74,122,53,0.08)',
      fill:true, tension:0.4,
      pointBackgroundColor:'#4a7a35', pointRadius:4, pointHoverRadius:6
    }]},
    options: {
      responsive:true, maintainAspectRatio:false,
      plugins:{
        legend:{display:false},
        tooltip:{
          backgroundColor:'#fff', borderColor:'#ddd6c8', borderWidth:1.5,
          titleColor:'#9a8f85', bodyColor:'#2a2420',
          callbacks:{ label: ctx=>' '+ctx.raw+' kg' }
        }
      },
      scales:{
        x:{ grid:{color:'rgba(0,0,0,0.05)'}, ticks:{color:'#9a8f85',font:{family:'DM Mono',size:10}} },
        y:{ grid:{color:'rgba(0,0,0,0.05)'}, ticks:{color:'#9a8f85',font:{family:'DM Mono',size:10}, callback:v=>v+' kg'} }
      }
    }
  });
}

function setChartRange(days) {
  chartRange = days;
  ['30','90','all'].forEach(r => {
    document.getElementById('cr-'+r).className = 'btn btn-ghost btn-xs';
  });
  const map = {30:'30',90:'90',365:'all'};
  if(document.getElementById('cr-'+map[days]))
    document.getElementById('cr-'+map[days]).className = 'btn btn-green btn-xs';
  updateChart();
}

function updateChart() {
  if (!weightChart) return;
  const cutoff = new Date(); cutoff.setDate(cutoff.getDate()-chartRange);
  const filtered = weightData.filter(w=>new Date(w.date+'T00:00:00')>=cutoff);
  weightChart.data.labels = filtered.map(w=>new Date(w.date+'T00:00:00').toLocaleDateString('it-IT',{day:'2-digit',month:'short'}));
  weightChart.data.datasets[0].data = filtered.map(w=>w.weight);
  weightChart.update();
}

// ══════════════════════════════════
// WEIGHT HISTORY RENDER
// ══════════════════════════════════
function renderWeightHistory() {
  const el = document.getElementById('weight-history');
  const cnt = document.getElementById('hist-count');
  if (!el) return;
  cnt.textContent = weightData.length+' misurazion'+(weightData.length===1?'e':'i');
  if (!weightData.length) {
    el.innerHTML = '<div class="empty"><div class="empty-icon">⚖️</div><p>Nessuna misurazione ancora.</p></div>';
    return;
  }
  const sorted = [...weightData].sort((a,b)=>b.date.localeCompare(a.date));
  el.innerHTML = sorted.map((w,i)=>{
    const isToday = w.date===todayStr();
    const prev = sorted[i+1];
    let deltaHtml='';
    if(prev){
      const d=(w.weight-prev.weight).toFixed(1);
      const v=parseFloat(d);
      const col=v>0?'var(--danger)':v<0?'var(--green)':'var(--muted)';
      const arrow=v>0?'↑':v<0?'↓':'→';
      deltaHtml=`<span style="font-family:var(--font-mono);font-size:11px;color:${col}">${v>0?'+':''}${d} kg ${arrow}</span>`;
    }
    return `
    <div class="hist-row">
      <div style="flex:1">
        <div style="display:flex;align-items:center;gap:7px">
          <span style="font-family:var(--font-mono);font-size:11px;color:var(--muted)">${formatDate(w.date)}</span>
          ${isToday?'<span class="badge badge-green" style="font-size:9px;padding:2px 7px">OGGI</span>':''}
        </div>
        <div id="wd-${w.date}" style="display:flex;align-items:center;gap:10px;margin-top:2px">
          <span style="font-family:var(--font-brand);font-weight:900;font-size:20px;color:var(--green)">${w.weight} kg</span>
          ${deltaHtml}
        </div>
        <div id="we-row-${w.date}" style="display:none;align-items:center;gap:8px;margin-top:4px">
          <input type="number" id="we-${w.date}" value="${w.weight}" step="0.1" style="width:100px;font-family:var(--font-brand);font-weight:700;font-size:16px;text-align:center"
            onkeydown="if(event.key==='Enter')confirmWeightEdit('${w.date}');if(event.key==='Escape')cancelWeightEdit('${w.date}')">
          <span style="color:var(--muted);font-size:13px">kg</span>
          <button class="btn btn-green btn-sm" onclick="confirmWeightEdit('${w.date}')">✓</button>
          <button class="btn btn-ghost btn-sm" onclick="cancelWeightEdit('${w.date}')">✕</button>
        </div>
      </div>
      <div style="display:flex;gap:6px">
        <button class="btn btn-ghost btn-icon btn-sm" title="Modifica" onclick="startWeightEdit('${w.date}')">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        </button>
        <button class="btn btn-danger btn-icon btn-sm" title="Elimina" onclick="deleteWeight('${w.date}')">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M10 11v6M14 11v6"/><path d="M9 6V4h6v2"/></svg>
        </button>
      </div>
    </div>`;
  }).join('');
}

// ══════════════════════════════════
// USER FOODS (personal database)
// ══════════════════════════════════
async function loadUserFoods() {
  const {db, collection, getDocs, query, orderBy} = window._fb;
  const snap = await getDocs(query(collection(db,'users',uid(),'foods'), orderBy('name','asc')));
  userFoods = snap.docs.map(d=>({id:d.id,...d.data()}));
  renderFoodsList();
}

function renderFoodsList(filter='') {
  const el = document.getElementById('foods-list');
  if (!el) return;
  const fl = filter.toLowerCase();
  const items = userFoods.filter(f=>!fl||f.name.toLowerCase().includes(fl));
  if (!items.length) {
    el.innerHTML = '<div class="empty"><div class="empty-icon">🥗</div><p>'+(filter?'Nessun risultato per "'+filter+'"':'Nessun alimento creato ancora.')+'</p></div>';
    return;
  }
  el.innerHTML = items.map(f=>`
    <div class="food-card">
      <div>
        <div class="food-name">${f.name}</div>
        ${f.notes?`<div style="font-size:12px;color:var(--muted);margin-top:2px">${f.notes}</div>`:''}
      </div>
      <div style="display:flex;gap:6px;flex-wrap:wrap">
        <span class="macro-pill mp-kcal">${f.kcal} kcal</span>
        <span class="macro-pill mp-prot">P ${f.protein}g</span>
        <span class="macro-pill mp-carb">C ${f.carbs}g</span>
        <span class="macro-pill mp-fat">G ${f.fat}g</span>
        <span style="font-family:var(--font-mono);font-size:10px;color:var(--muted)">/ 100g</span>
      </div>
      <div style="display:flex;gap:6px;flex-shrink:0">
        <button class="btn btn-ghost btn-icon btn-sm" onclick="openFoodModal('${f.id}')" title="Modifica">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        </button>
        <button class="btn btn-danger btn-icon btn-sm" onclick="deleteFood('${f.id}')" title="Elimina">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M10 11v6M14 11v6"/><path d="M9 6V4h6v2"/></svg>
        </button>
      </div>
    </div>`
  ).join('');
}

function filterFoods() {
  renderFoodsList(document.getElementById('foods-search').value);
}

function openFoodModal(foodId=null) {
  editingFoodId = foodId;
  document.getElementById('food-modal-title').textContent = foodId ? 'Modifica Alimento' : 'Nuovo Alimento';
  if (foodId) {
    const f = userFoods.find(x=>x.id===foodId);
    if (f) {
      document.getElementById('fm-name').value = f.name;
      document.getElementById('fm-kcal').value = f.kcal;
      document.getElementById('fm-prot').value = f.protein;
      document.getElementById('fm-carb').value = f.carbs;
      document.getElementById('fm-fat').value  = f.fat;
      document.getElementById('fm-notes').value = f.notes||'';
      updateFoodModalMacros();
    }
  } else {
    ['fm-name','fm-kcal','fm-prot','fm-carb','fm-fat','fm-notes'].forEach(id=>document.getElementById(id).value='');
  }
  document.getElementById('food-modal').classList.add('open');
}

function closeFoodModal() {
  document.getElementById('food-modal').classList.remove('open');
  editingFoodId = null;
}

function updateFoodModalMacros() {
  const k=parseFloat(document.getElementById('fm-kcal').value)||0;
  const p=parseFloat(document.getElementById('fm-prot').value)||0;
  const c=parseFloat(document.getElementById('fm-carb').value)||0;
  const f=parseFloat(document.getElementById('fm-fat').value)||0;
  document.getElementById('fmp-kcal').textContent = k+' kcal';
  document.getElementById('fmp-prot').textContent = 'P '+p+'g';
  document.getElementById('fmp-carb').textContent = 'C '+c+'g';
  document.getElementById('fmp-fat').textContent  = 'G '+f+'g';
}

async function saveFoodItem() {
  const name  = document.getElementById('fm-name').value.trim();
  const kcal  = parseFloat(document.getElementById('fm-kcal').value);
  const prot  = parseFloat(document.getElementById('fm-prot').value)||0;
  const carbs = parseFloat(document.getElementById('fm-carb').value)||0;
  const fat   = parseFloat(document.getElementById('fm-fat').value)||0;
  const notes = document.getElementById('fm-notes').value.trim();
  if (!name||!kcal) { toast('Nome e kcal sono obbligatori!','var(--danger)'); return; }
  const {db, doc, setDoc, addDoc, collection, updateDoc} = window._fb;
  const data = { name, kcal, protein:prot, carbs, fat, notes, updatedAt:Date.now() };
  if (editingFoodId) {
    await updateDoc(doc(db,'users',uid(),'foods',editingFoodId), data);
    toast('Alimento aggiornato!');
  } else {
    data.createdAt = Date.now();
    await addDoc(collection(db,'users',uid(),'foods'), data);
    toast('Alimento salvato!');
  }
  closeFoodModal();
  await loadUserFoods();
}

async function deleteFood(foodId) {
  if (!confirm('Eliminare questo alimento?')) return;
  const {db, doc, deleteDoc} = window._fb;
  await deleteDoc(doc(db,'users',uid(),'foods',foodId));
  toast('Alimento eliminato','var(--danger)');
  await loadUserFoods();
}

// ══════════════════════════════════
// DIARY
// ══════════════════════════════════
function setDiaryToday() {
  currentDiaryDate = todayStr();
  document.getElementById('diary-date').value = currentDiaryDate;
  setTimeout(updateDiaryDateLabel, 0);
  loadDiary();
}

async function loadDiary() {
  currentDiaryDate = document.getElementById('diary-date').value || todayStr();
  const {db, doc, getDoc} = window._fb;
  const snap = await getDoc(doc(db,'users',uid(),'diary',currentDiaryDate));
  diaryEntries = snap.exists() ? (snap.data().entries||[]) : [];
  // Load targets if not already loaded
  if (!userTargets) await loadUserTargets();
  else updateCarbDayUI();
  renderDiary();
  if (currentDiaryDate === todayStr()) updateHomeDiarySummary();
  loadPlans();
  loadMealPresets();
}

async function saveDiary() {
  const {db, doc, setDoc} = window._fb;
  await setDoc(doc(db,'users',uid(),'diary',currentDiaryDate), {
    entries: diaryEntries, date: currentDiaryDate, updatedAt: Date.now()
  });
}

function searchDiaryFood() {
  const q = document.getElementById('diary-food-search').value.toLowerCase().trim();
  const ac = document.getElementById('diary-ac');
  if (!q) { ac.classList.remove('open'); selectedDiaryFood=null; return; }
  // Search personal foods first, then INRAN
  const personalHits = userFoods.filter(f=>f.name.toLowerCase().includes(q)).map(f=>({...f,source:'personal'}));
  const inranHits = INRAN.filter(f=>f.n.toLowerCase().includes(q)&&!personalHits.find(p=>p.name===f.n)).map(f=>({name:f.n,kcal:f.kcal,protein:f.p,carbs:f.c,fat:f.f,source:'inran',cat:f.cat}));
  const all = [...personalHits, ...inranHits].slice(0,12);
  if (!all.length) { ac.classList.remove('open'); return; }
  ac.innerHTML = all.map((f,i)=>`
    <div class="ac-item" onclick="selectDiaryFood(${i})">
      <div class="ac-item-name">${f.name}${f.source==='personal'?'<span class="badge badge-green" style="font-size:9px;margin-left:6px;vertical-align:middle">mio</span>':''}</div>
      <div class="ac-item-meta">
        <span style="color:var(--green);font-weight:700">${f.kcal} kcal</span>
        <span>· P ${f.protein}g · C ${f.carbs}g · G ${f.fat}g</span>
        ${f.cat?`<span style="color:var(--muted)">[${f.cat}]</span>`:''}
        <span style="opacity:0.5">per 100g</span>
      </div>
    </div>`).join('');
  ac._data = all;
  ac.classList.add('open');
}

function selectDiaryFood(idx) {
  const ac = document.getElementById('diary-ac');
  selectedDiaryFood = ac._data[idx];
  document.getElementById('diary-food-search').value = selectedDiaryFood.name;
  ac.classList.remove('open');
}

async function addToDiary() {
  if (!selectedDiaryFood) { toast('Seleziona un alimento!','var(--danger)'); return; }
  const grams = parseFloat(document.getElementById('diary-grams').value)||100;
  const f = grams/100;
  diaryEntries.push({
    id: Date.now(),
    name: selectedDiaryFood.name,
    grams,
    kcal:  Math.round(selectedDiaryFood.kcal  * f),
    protein: parseFloat((selectedDiaryFood.protein * f).toFixed(1)),
    carbs: parseFloat((selectedDiaryFood.carbs   * f).toFixed(1)),
    fat:   parseFloat((selectedDiaryFood.fat     * f).toFixed(1))
  });
  await saveDiary();
  document.getElementById('diary-food-search').value='';
  document.getElementById('diary-grams').value='100';
  selectedDiaryFood=null;
  renderDiary();
  if (currentDiaryDate===todayStr()) updateHomeDiarySummary();
  toast('Aggiunto al diario!');
  if (currentDiaryDate===todayStr()) checkRingClosure();
}

async function removeDiaryEntry(id) {
  diaryEntries = diaryEntries.filter(e=>e.id!==id);
  await saveDiary();
  renderDiary();
  if (currentDiaryDate===todayStr()) updateHomeDiarySummary();
  if (currentDiaryDate===todayStr()) checkRingClosure();
}

function diaryTotals() {
  return diaryEntries.reduce((t,e)=>({
    kcal:  t.kcal  + e.kcal,
    protein: t.protein + e.protein,
    carbs: t.carbs + e.carbs,
    fat:   t.fat   + e.fat
  }), {kcal:0,protein:0,carbs:0,fat:0});
}

// ══════════════════════════════════════════════
// CARB DAY SYSTEM
// ══════════════════════════════════════════════
let carbDayMode = 'std';   // 'std' | 'hc' | 'lc'
let userTargets = null;    // loaded from Firestore goals

// Presets multipliers vs TDEE or base fallback
const CARB_DAY_PRESETS = {
  std: { kcalMult:1.00, protMult:1.00, carbMult:1.00, fatMult:1.00, label:'Standard' },
  hc:  { kcalMult:1.15, protMult:1.00, carbMult:1.50, fatMult:0.70, label:'High Carb' },
  lc:  { kcalMult:0.85, protMult:1.10, carbMult:0.40, fatMult:1.30, label:'Low Carb'  },
};

function getActiveTargets() {
  // Check for custom targets first
  if (typeof customTargets !== 'undefined' && customTargets && customTargets[carbDayMode]) {
    return customTargets[carbDayMode];
  }
  // Base: from wizard TDEE or fallback 2000 kcal
  const tdee  = (userTargets && userTargets.tdee) || 2000;
  const prot  = (userTargets && userTargets.protein) || Math.round(tdee * 0.25 / 4);
  const carbs = (userTargets && userTargets.carbs)   || Math.round(tdee * 0.50 / 4);
  const fat   = (userTargets && userTargets.fat)     || Math.round(tdee * 0.25 / 9);
  const m = CARB_DAY_PRESETS[carbDayMode];
  return {
    kcal:  Math.round(tdee  * m.kcalMult),
    prot:  Math.round(prot  * m.protMult),
    carbs: Math.round(carbs * m.carbMult),
    fat:   Math.round(fat   * m.fatMult),
  };
}

async function loadUserTargets() {
  const {db, doc, getDoc} = window._fb;
  try {
    // Load from profile (wizard) or goals
    const pSnap = await getDoc(doc(db,'users',uid(),'profile','main'));
    const gSnap = await getDoc(doc(db,'users',uid(),'goals','main'));
    userTargets = {};
    if (pSnap.exists()) Object.assign(userTargets, pSnap.data());
    if (gSnap.exists()) Object.assign(userTargets, gSnap.data());
  } catch(e) { userTargets = {}; }
  updateCarbDayUI();
}

function setCarbDay(mode) {
  carbDayMode = mode;
  ['std','hc','lc'].forEach(m => {
    const btn = document.getElementById('cbd-'+m);
    if (!btn) return;
    btn.className = 'carb-day-btn' + (m===mode ? ' active-'+m : '');
  });
  updateCarbDayUI();
  renderDiary();
}

function updateCarbDayUI() {
  const t = getActiveTargets();
  const lbl = document.getElementById('carb-day-tdee-label');
  if (lbl) lbl.textContent = 'Target: '+t.kcal+' kcal';
  // Show/hide progress card
  const pc = document.getElementById('macro-progress-card');
  if (pc) pc.style.display = 'block';
  // Update target subtitles
  const setT = (id, val, unit='') => {
    const el = document.getElementById(id);
    if (el) el.textContent = 'Target: '+val+(unit?unit:'');
  };
  setT('d-kcal-target', t.kcal, ' kcal');
  setT('d-prot-target', t.prot, 'g');
  setT('d-carb-target', t.carbs, 'g');
  setT('d-fat-target',  t.fat,  'g');
}

function renderDiary() {
  const totals = diaryTotals();
  const t = getActiveTargets();

  // Helper: color based on % of target
  function macroColor(val, target, defaultColor) {
    if (!target) return defaultColor;
    const pct = val / target;
    if (pct >= 1.10) return 'var(--danger)';
    if (pct >= 0.90) return 'var(--orange)';
    return defaultColor;
  }
  function progressPct(val, target) {
    if (!target) return 0;
    return Math.min(100, (val/target)*100);
  }

  // Update macro boxes with color coding
  const setMacro = (id, val, target, defaultColor, unit='g') => {
    const el = document.getElementById(id);
    if (!el) return;
    el.textContent = unit === 'kcal' ? val : val.toFixed(1)+unit;
    el.style.color = macroColor(val, target, defaultColor);
  };
  setMacro('d-kcal', totals.kcal,    t.kcal,  'var(--green)', 'kcal');
  setMacro('d-prot', totals.protein, t.prot,  'var(--orange)');
  setMacro('d-carb', totals.carbs,   t.carbs, '#3b82f6');
  setMacro('d-fat',  totals.fat,     t.fat,   '#ca8a04');

  // Progress bars
  const setBar = (fillId, valId, val, target, color) => {
    const fill = document.getElementById(fillId);
    const valEl = document.getElementById(valId);
    if (!fill || !valEl) return;
    const pct = progressPct(val, target);
    fill.style.width = pct+'%';
    const over = val > target * 1.05;
    fill.style.background = over ? 'var(--danger)' : color;
    valEl.textContent = Math.round(val)+' / '+target;
    valEl.style.color = over ? 'var(--danger)' : (pct > 85 ? 'var(--orange)' : 'var(--muted)');
  };
  setBar('mpr-kcal','mpr-kcal-val', totals.kcal,    t.kcal,  'var(--green)');
  setBar('mpr-prot','mpr-prot-val', totals.protein, t.prot,  'var(--orange)');
  setBar('mpr-carb','mpr-carb-val', totals.carbs,   t.carbs, '#3b82f6');
  setBar('mpr-fat', 'mpr-fat-val',  totals.fat,     t.fat,   '#ca8a04');

  // Entries list
  const el = document.getElementById('diary-entries');
  if (!diaryEntries.length) {
    el.innerHTML='<div class="empty"><div class="empty-icon">🍽️</div><p>Nessun alimento nel diario di questa giornata.</p></div>';
    return;
  }
  el.innerHTML = diaryEntries.map(e=>`
    <div class="diary-entry">
      <div style="flex:1">
        <div class="food-name">${e.name}</div>
        <div style="font-size:12px;color:var(--muted);margin-top:2px">${e.grams}g</div>
      </div>
      <div style="display:flex;gap:6px;flex-wrap:wrap">
        <span class="macro-pill mp-kcal">${e.kcal} kcal</span>
        <span class="macro-pill mp-prot">P ${e.protein}g</span>
        <span class="macro-pill mp-carb">C ${e.carbs}g</span>
        <span class="macro-pill mp-fat">G ${e.fat}g</span>
      </div>
      <button class="btn btn-danger btn-icon btn-sm" onclick="removeDiaryEntry(${e.id})">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M9 6V4h6v2"/></svg>
      </button>
    </div>`).join('');
}

async function updateHomeDiarySummary() {
  // Load today's diary for home summary
  const {db, doc, getDoc} = window._fb;
  const snap = await getDoc(doc(db,'users',uid(),'diary',todayStr()));
  const entries = snap.exists() ? (snap.data().entries||[]) : [];
  const t = entries.reduce((a,e)=>({kcal:a.kcal+e.kcal,protein:a.protein+e.protein,carbs:a.carbs+e.carbs,fat:a.fat+e.fat}),{kcal:0,protein:0,carbs:0,fat:0});
  const el = document.getElementById('home-macro-summary');
  if (el) el.innerHTML = `
    <div class="macro-box"><div class="mval" style="color:var(--green)">${t.kcal}</div><div class="mlbl">KCAL</div></div>
    <div class="macro-box"><div class="mval" style="color:var(--orange)">${t.protein.toFixed(1)}g</div><div class="mlbl">PROTEINE</div></div>
    <div class="macro-box"><div class="mval" style="color:#3b82f6">${t.carbs.toFixed(1)}g</div><div class="mlbl">CARBOIDRATI</div></div>
    <div class="macro-box"><div class="mval" style="color:#ca8a04">${t.fat.toFixed(1)}g</div><div class="mlbl">GRASSI</div></div>`;
  const te = document.getElementById('home-today-entries');
  if (te) te.textContent = entries.length ? entries.slice(0,3).map(e=>e.name).join(', ') + (entries.length>3?` +${entries.length-3} altri`:'') : 'Nessun alimento registrato oggi.';
}


// ══════════════════════════════════
// FEATURE 2 — PIANI PASTO
// ══════════════════════════════════
async function loadPlans() {
  const {db, collection, getDocs, query, orderBy} = window._fb;
  const snap = await getDocs(query(collection(db,'users',uid(),'plans'), orderBy('createdAt','desc')));
  const plans = snap.docs.map(d=>({id:d.id,...d.data()}));
  renderPlans(plans);
}

function renderPlans(plans) {
  const el = document.getElementById('plans-list');
  if (!el) return;
  if (!plans || !plans.length) {
    el.innerHTML = '<div class="empty" style="padding:28px"><div class="empty-icon">📋</div><p>Nessun piano salvato ancora.<br>Compila il diario e salvalo come piano riutilizzabile!</p></div>';
    return;
  }
  el.innerHTML = plans.map(plan => {
    const totKcal = (plan.entries||[]).reduce((a,e)=>a+e.kcal,0);
    const totP = (plan.entries||[]).reduce((a,e)=>a+e.protein,0).toFixed(1);
    const totC = (plan.entries||[]).reduce((a,e)=>a+e.carbs,0).toFixed(1);
    const totF = (plan.entries||[]).reduce((a,e)=>a+e.fat,0).toFixed(1);
    return `
      <div class="food-card" style="margin-bottom:10px">
        <div style="flex:1">
          <div style="font-weight:700;font-size:15px;margin-bottom:4px">📋 ${plan.name}</div>
          <div style="display:flex;gap:6px;flex-wrap:wrap">
            <span class="macro-pill mp-kcal">${totKcal} kcal</span>
            <span class="macro-pill mp-prot">P ${totP}g</span>
            <span class="macro-pill mp-carb">C ${totC}g</span>
            <span class="macro-pill mp-fat">G ${totF}g</span>
            <span style="font-family:var(--font-mono);font-size:10px;color:var(--muted)">${(plan.entries||[]).length} alimenti</span>
          </div>
        </div>
        <div style="display:flex;gap:8px;flex-shrink:0">
          <button class="btn btn-green btn-sm" onclick="loadPlanIntoDiary('${plan.id}')">📥 Carica nel diario</button>
          <button class="btn btn-danger btn-icon btn-sm" onclick="deletePlan('${plan.id}')" title="Elimina">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M9 6V4h6v2"/></svg>
          </button>
        </div>
      </div>`;
  }).join('');
}

async function saveDiaryAsPlan() {
  if (!diaryEntries.length) { toast('Il diario è vuoto! Aggiungi alimenti prima di salvare.','var(--danger)'); return; }
  const name = prompt('Nome del piano (es. "Giorno tipo bulk"):');
  if (!name || !name.trim()) return;
  const {db, collection, addDoc} = window._fb;
  await addDoc(collection(db,'users',uid(),'plans'), {
    name: name.trim(),
    entries: diaryEntries,
    createdAt: Date.now()
  });
  toast('Piano salvato: ' + name.trim());
  loadPlans();
}

async function loadPlanIntoDiary(planId) {
  const {db, doc, getDoc} = window._fb;
  const snap = await getDoc(doc(db,'users',uid(),'plans',planId));
  if (!snap.exists()) return;
  const plan = snap.data();
  if (diaryEntries.length) {
    if (!confirm('Il diario di oggi ha già degli alimenti. Vuoi aggiungerli al piano o sostituirli?\n\nOK = Aggiungi, Annulla = Sostituisci')) {
      diaryEntries = [];
    }
  }
  // Re-stamp IDs to avoid collisions
  const newEntries = (plan.entries||[]).map((e,i) => ({...e, id: Date.now()+i}));
  diaryEntries = [...diaryEntries, ...newEntries];
  await saveDiary();
  renderDiary();
  updateHomeDiarySummary();
  toast('Piano caricato nel diario!');
}

async function deletePlan(planId) {
  if (!confirm('Eliminare questo piano?')) return;
  const {db, doc, deleteDoc} = window._fb;
  await deleteDoc(doc(db,'users',uid(),'plans',planId));
  toast('Piano eliminato','var(--danger)');
  loadPlans();
}

// ══════════════════════════════════
// FEATURE 3 — RICERCA ALIMENTI MIGLIORATA
// Ora mostra in cima i tuoi alimenti personali con badge
// ══════════════════════════════════
// (Already handled in searchDiaryFood — enhanced below)
function searchDiaryFoodEnhanced() {
  const q = document.getElementById('diary-food-search').value.toLowerCase().trim();
  const ac = document.getElementById('diary-ac');
  if (!q) {
    // When empty, show personal foods as suggestions
    if (userFoods.length) {
      const recent = userFoods.slice(0,6);
      ac.innerHTML = '<div style="padding:8px 16px;font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px">I TUOI ALIMENTI</div>'
        + recent.map((f,i)=>`
          <div class="ac-item" onclick="selectDiaryFoodObj(${i}, 'personal')">
            <div class="ac-item-name">${f.name} <span class="badge badge-green" style="font-size:9px;margin-left:4px;vertical-align:middle">mio</span></div>
            <div class="ac-item-meta">
              <span style="color:var(--green);font-weight:700">${f.kcal} kcal</span>
              <span>· P ${f.protein}g · C ${f.carbs}g · G ${f.fat}g</span>
              <span style="opacity:0.5">per 100g</span>
            </div>
          </div>`).join('');
      ac._personal = recent;
      ac._inran = [];
      ac.classList.add('open');
    }
    selectedDiaryFood = null;
    return;
  }
  // Search with personal foods first
  const personalHits = userFoods.filter(f=>f.name.toLowerCase().includes(q));
  const inranHits = INRAN.filter(f=>f.n.toLowerCase().includes(q)&&!personalHits.find(p=>p.name===f.n))
    .map(f=>({name:f.n,kcal:f.kcal,protein:f.p,carbs:f.c,fat:f.f,cat:f.cat}));
  
  let html = '';
  if (personalHits.length) {
    html += '<div style="padding:6px 16px;font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px;background:var(--green-bg)">I TUOI ALIMENTI</div>';
    html += personalHits.slice(0,5).map((f,i)=>`
      <div class="ac-item" onclick="selectDiaryFoodObj(${i},'personal')">
        <div class="ac-item-name">${f.name} <span class="badge badge-green" style="font-size:9px;margin-left:4px;vertical-align:middle">mio</span></div>
        <div class="ac-item-meta">
          <span style="color:var(--green);font-weight:700">${f.kcal} kcal</span>
          <span>· P ${f.protein}g · C ${f.carbs}g · G ${f.fat}g</span>
          <span style="opacity:0.5">per 100g</span>
        </div>
      </div>`).join('');
  }
  if (inranHits.length) {
    html += '<div style="padding:6px 16px;font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px">DATABASE INRAN</div>';
    html += inranHits.slice(0,7).map((f,i)=>`
      <div class="ac-item" onclick="selectDiaryFoodObj(${i},'inran')">
        <div class="ac-item-name">${f.name}${f.cat?` <span style="font-size:11px;color:var(--muted);font-weight:400">[${f.cat}]</span>`:''}</div>
        <div class="ac-item-meta">
          <span style="color:var(--green);font-weight:700">${f.kcal} kcal</span>
          <span>· P ${f.protein}g · C ${f.carbs}g · G ${f.fat}g</span>
          <span style="opacity:0.5">per 100g</span>
        </div>
      </div>`).join('');
  }
  if (!html) { ac.classList.remove('open'); return; }
  ac.innerHTML = html;
  ac._personal = personalHits.slice(0,5);
  ac._inran = inranHits.slice(0,7);
  ac.classList.add('open');
}

function selectDiaryFoodObj(idx, source) {
  const ac = document.getElementById('diary-ac');
  if (source === 'personal') {
    selectedDiaryFood = ac._personal[idx];
  } else {
    selectedDiaryFood = ac._inran[idx];
  }
  document.getElementById('diary-food-search').value = selectedDiaryFood.name;
  ac.classList.remove('open');
}

// ══════════════════════════════════
// FEATURE 4 — GRAFICO MACRO SETTIMANALE
// ══════════════════════════════════
let macroWeekChart = null;

function initMacroWeekChart() {
  const ctx = document.getElementById('macro-week-chart');
  if (!ctx) return;
  macroWeekChart = new Chart(ctx.getContext('2d'), {
    type: 'bar',
    data: { labels: [], datasets: [{
      label: 'Kcal',
      data: [],
      backgroundColor: 'rgba(74,122,53,0.7)',
      borderColor: '#4a7a35',
      borderWidth: 1.5,
      borderRadius: 6,
    }]},
    options: {
      responsive: true, maintainAspectRatio: false,
      plugins: {
        legend: { display: false },
        tooltip: {
          backgroundColor: '#fff', borderColor: '#ddd6c8', borderWidth: 1.5,
          titleColor: '#9a8f85', bodyColor: '#2a2420',
          callbacks: { label: ctx => ' ' + ctx.raw + ' kcal' }
        }
      },
      scales: {
        x: { grid: { display: false }, ticks: { color: '#9a8f85', font: { family: 'DM Mono', size: 10 } } },
        y: { grid: { color: 'rgba(0,0,0,0.05)' }, ticks: { color: '#9a8f85', font: { family: 'DM Mono', size: 10 }, callback: v => v + ' kcal' } }
      }
    }
  });
}

async function loadMacroWeekChart() {
  if (!macroWeekChart) initMacroWeekChart();
  const {db, doc, getDoc} = window._fb;
  const labels = [], values = [];
  for (let i = 6; i >= 0; i--) {
    const d = new Date(); d.setDate(d.getDate()-i);
    const dateStr = d.toISOString().split('T')[0];
    const label = d.toLocaleDateString('it-IT',{weekday:'short',day:'numeric'});
    labels.push(label);
    try {
      const snap = await getDoc(doc(db,'users',uid(),'diary',dateStr));
      const entries = snap.exists() ? (snap.data().entries||[]) : [];
      values.push(entries.reduce((a,e)=>a+e.kcal,0));
    } catch(e) { values.push(0); }
  }
  if (macroWeekChart) {
    macroWeekChart.data.labels = labels;
    macroWeekChart.data.datasets[0].data = values;
    macroWeekChart.update();
  }
}


// ══════════════════════════════════════════════
// SPEED TRACK — Copia ieri + Pasti Preferiti
// ══════════════════════════════════════════════

async function copyYesterdayDiary() {
  const yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  const yStr = yesterday.toISOString().split('T')[0];
  const {db, doc, getDoc} = window._fb;
  const snap = await getDoc(doc(db,'users',uid(),'diary',yStr));
  if (!snap.exists() || !(snap.data().entries||[]).length) {
    toast('Nessun alimento nel diario di ieri!', 'var(--danger)'); return;
  }
  const yEntries = snap.data().entries || [];
  const action = diaryEntries.length
    ? confirm('Il diario di oggi ha già degli alimenti.\nOK = Aggiungi quelli di ieri\nAnnulla = Sostituisci tutto')
    : true;
  if (action === null) return;
  const reStamped = yEntries.map((e,i) => ({...e, id: Date.now()+i}));
  diaryEntries = action ? [...diaryEntries, ...reStamped] : reStamped;
  await saveDiary();
  renderDiary();
  updateHomeDiarySummary();
  toast('📅 Copiati '+reStamped.length+' alimenti da ieri!');
  // (no NutriPoints per copia da ieri)
}

async function saveMealPreset() {
  if (!diaryEntries.length) { toast('Il diario è vuoto!', 'var(--danger)'); return; }
  const name = prompt('Nome del pasto preferito (es. "Colazione standard"):');
  if (!name || !name.trim()) return;
  const {db, collection, addDoc} = window._fb;
  await addDoc(collection(db,'users',uid(),'mealPresets'), {
    name: name.trim(),
    entries: diaryEntries,
    createdAt: Date.now()
  });
  toast('⭐ Pasto preferito salvato!');
  loadMealPresets();
}

async function loadMealPresets() {
  const {db, collection, getDocs, query, orderBy} = window._fb;
  try {
    const snap = await getDocs(query(collection(db,'users',uid(),'mealPresets'), orderBy('createdAt','desc')));
    const presets = snap.docs.map(d=>({id:d.id,...d.data()}));
    renderMealPresets(presets);
  } catch(e) { renderMealPresets([]); }
}

function renderMealPresets(presets) {
  const el = document.getElementById('meal-presets-list');
  if (!el) return;
  if (!presets.length) {
    el.innerHTML = '<div style="color:var(--muted);font-size:13px;padding:8px 0">Nessun pasto preferito salvato ancora.</div>';
    return;
  }
  el.innerHTML = presets.map(p => {
    const entries = p.entries || [];
    const kcal  = entries.reduce((a,e)=>a+e.kcal,0);
    const names = entries.slice(0,3).map(e=>e.name).join(', ')+(entries.length>3?'...':'');
    return `
    <div class="meal-preset-card">
      <div style="flex:1">
        <div style="font-weight:700;font-size:14px">⭐ ${p.name}</div>
        <div style="font-size:12px;color:var(--muted);margin-top:2px">${names}</div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;flex-shrink:0">
        <span class="macro-pill mp-kcal">${kcal} kcal</span>
        <button class="btn btn-orange btn-sm" onclick="loadPresetIntoDiary('${p.id}')">Aggiungi al diario</button>
        <button class="btn btn-danger btn-icon btn-sm" onclick="deleteMealPreset('${p.id}')">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14H6L5 6"/><path d="M9 6V4h6v2"/></svg>
        </button>
      </div>
    </div>`;
  }).join('');
}

async function loadPresetIntoDiary(presetId) {
  const {db, doc, getDoc} = window._fb;
  const snap = await getDoc(doc(db,'users',uid(),'mealPresets',presetId));
  if (!snap.exists()) return;
  const entries = (snap.data().entries||[]).map((e,i) => ({...e, id: Date.now()+i}));
  diaryEntries = [...diaryEntries, ...entries];
  await saveDiary();
  renderDiary();
  updateHomeDiarySummary();
  toast('⭐ Pasto aggiunto al diario!');
  // (no NutriPoints per pasto preferito)
}

async function deleteMealPreset(presetId) {
  if (!confirm('Eliminare questo pasto preferito?')) return;
  const {db, doc, deleteDoc} = window._fb;
  await deleteDoc(doc(db,'users',uid(),'mealPresets',presetId));
  toast('Pasto eliminato', 'var(--danger)');
  loadMealPresets();
}

// close autocomplete on outside click
document.addEventListener('click', e=>{
  const ac = document.getElementById('diary-ac');
  if(ac&&!ac.contains(e.target)&&e.target.id!=='diary-food-search') ac.classList.remove('open');
});

// ══════════════════════════════════
// GOALS
// ══════════════════════════════════
async function loadGoal() {
  const {db, doc, getDoc} = window._fb;
  const snap = await getDoc(doc(db,'users',uid(),'goals','main'));
  goalData = snap.exists() ? snap.data() : null;
  if (goalData) {
    document.getElementById('goal-start').value = goalData.startWeight||'';
    document.getElementById('goal-target').value = goalData.targetWeight||'';
    document.getElementById('goal-note').value = goalData.note||'';
  }
  renderGoalProgress();
}

async function saveGoal() {
  const start  = parseFloat(document.getElementById('goal-start').value);
  const target = parseFloat(document.getElementById('goal-target').value);
  const note   = document.getElementById('goal-note').value;
  if (!start||!target) { toast('Inserisci peso di partenza e obiettivo!','var(--danger)'); return; }
  const {db, doc, setDoc} = window._fb;
  await setDoc(doc(db,'users',uid(),'goals','main'), {startWeight:start,targetWeight:target,note,updatedAt:Date.now()});
  goalData = {startWeight:start,targetWeight:target,note};
  toast('Obiettivo salvato!');
  renderGoalProgress();
}

function renderGoalProgress() {
  const el = document.getElementById('goal-progress-card');
  if (!el) return;
  if (!goalData) { el.innerHTML='<div class="card"><div class="empty"><div class="empty-icon">🎯</div><p>Imposta il tuo obiettivo per vedere i progressi.</p></div></div>'; return; }
  const current = weightData.length ? [...weightData].sort((a,b)=>b.date.localeCompare(a.date))[0].weight : null;
  const {startWeight:start, targetWeight:target, note} = goalData;
  let pct=0,statusText='',statusColor='var(--green)';
  if (current&&start!==target) {
    const totalChange = target-start;
    const currChange  = current-start;
    pct = Math.min(100,Math.max(0,(currChange/totalChange)*100));
    const diff = (current-target).toFixed(1);
    const dv = parseFloat(diff);
    if (Math.abs(dv)<0.3) { statusText='🎯 Obiettivo raggiunto!'; statusColor='var(--green)'; }
    else if (dv<0) { statusText=`Ancora ${Math.abs(dv)} kg da perdere`; statusColor='var(--orange)'; }
    else { statusText=`+${dv} kg sopra l'obiettivo`; statusColor='var(--danger)'; }
  }
  el.innerHTML = `
    <div class="card">
      <h3 style="margin-bottom:16px">📊 I tuoi progressi</h3>
      <div class="grid-3" style="margin-bottom:18px">
        <div class="stat-chip"><div class="val" style="color:var(--muted)">${start} kg</div><div class="lbl">PARTENZA</div></div>
        <div class="stat-chip"><div class="val" style="color:var(--green)">${current?current.toFixed(1)+' kg':'—'}</div><div class="lbl">ATTUALE</div></div>
        <div class="stat-chip"><div class="val" style="color:var(--orange)">${target} kg</div><div class="lbl">OBIETTIVO</div></div>
      </div>
      ${current?`
        <div style="display:flex;justify-content:space-between;margin-bottom:6px;font-size:13px">
          <span style="color:${statusColor};font-weight:700">${statusText}</span>
          <span style="font-family:var(--font-mono);font-size:13px;color:var(--green);font-weight:600">${pct.toFixed(0)}%</span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" style="width:${pct}%;background:var(--green)"></div>
        </div>
        <div style="display:flex;justify-content:space-between;margin-top:6px;font-family:var(--font-mono);font-size:10px;color:var(--muted)">
          <span>${start} kg</span><span>${target} kg</span>
        </div>
      `:'<p style="color:var(--muted);font-size:13px">Inserisci il peso per vedere i progressi.</p>'}
      ${note?`<div style="margin-top:16px;padding:12px;background:var(--cream);border-radius:10px;font-size:13px;color:var(--text2)">${note}</div>`:''}
    </div>`;
}

// ══════════════════════════════════
// BMI CALC
// ══════════════════════════════════
function calcBMI() {
  const w = parseFloat(document.getElementById('bmi-weight').value);
  const h = parseFloat(document.getElementById('bmi-height').value)/100;
  const el = document.getElementById('bmi-result');
  if (!w||!h||h<0.5) { el.textContent=''; return; }
  const bmi = (w/(h*h)).toFixed(1);
  let cat='',col='var(--green)';
  if(bmi<18.5){cat='Sottopeso';col='#3b82f6';}
  else if(bmi<25){cat='Normopeso';col='var(--green)';}
  else if(bmi<30){cat='Sovrappeso';col='var(--orange)';}
  else{cat='Obesità';col='var(--danger)';}
  el.innerHTML=`<span style="color:${col}">${bmi}</span><span style="font-size:12px;font-weight:400;color:${col};margin-left:6px">${cat}</span>`;
}

// ══════════════════════════════════
// ADMIN
// ══════════════════════════════════
async function loadAdminUsers() {
  const tbody = document.getElementById('admin-tbody');
  tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;padding:32px;color:var(--muted)">Caricamento...</td></tr>';
  try {
    const {db, collection, getDocs, query, orderBy} = window._fb;

    // Legge tutti gli utenti senza orderBy (evita errori indici mancanti)
    const snap = await getDocs(collection(db,'users'));
    if (snap.empty) {
      tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;padding:32px;color:var(--muted)">Nessun utente trovato.</td></tr>';
      return;
    }

    // Ordina lato client per data registrazione
    let users = snap.docs.map(d=>({uid:d.id,...d.data()}));
    users.sort((a,b) => (a.createdAt||0) - (b.createdAt||0));
    document.getElementById('admin-user-count').textContent = users.length + ' utenti registrati';

    // Per ogni utente recupera l'ultimo peso — ignora errori permessi
    const rows = await Promise.all(users.map(async u => {
      let lastW = null;
      try {
        const ws = await getDocs(query(
          collection(db,'users',u.uid,'weights'),
          orderBy('date','desc'),
          window._fb.limit(1)
        ));
        if (!ws.empty) lastW = ws.docs[0].data().weight;
      } catch(e) {
        // Utente non ha ancora pesi o mancano permessi lettura subcollection
      }
      return {...u, lastWeight: lastW};
    }));

    tbody.innerHTML = rows.map(u => {
      const isPrem = u.premium === true;
      const premDate = u.premiumActivatedAt
        ? (u.premiumActivatedAt.toDate ? u.premiumActivatedAt.toDate() : new Date(u.premiumActivatedAt)).toLocaleDateString('it-IT')
        : (u.premiumSetAt ? new Date(u.premiumSetAt).toLocaleDateString('it-IT') : null);

      const premBadge = isPrem
        ? `<span style="display:inline-flex;align-items:center;gap:5px;background:linear-gradient(135deg,#b8860b,#daa520);color:#fff;font-size:10px;font-weight:700;padding:3px 10px;border-radius:100px;letter-spacing:.5px">⭐ PREMIUM</span>`
        : `<span style="display:inline-flex;align-items:center;gap:5px;background:var(--surface);color:var(--muted);font-size:10px;font-weight:600;padding:3px 10px;border-radius:100px;border:1px solid var(--border)">FREE</span>`;

      const toggleBtn = isPrem
        ? `<button class="btn btn-sm" onclick="event.stopPropagation();adminSetPremium('${u.uid}',false)"
             style="background:rgba(255,100,50,0.12);color:var(--orange);border:1px solid rgba(255,100,50,0.25);font-size:11px;padding:4px 10px;border-radius:8px;cursor:pointer;white-space:nowrap">
             🔓 Rimuovi
           </button>`
        : `<button class="btn btn-sm" onclick="event.stopPropagation();adminSetPremium('${u.uid}',true)"
             style="background:rgba(218,165,32,0.12);color:#b8860b;border:1px solid rgba(218,165,32,0.3);font-size:11px;padding:4px 10px;border-radius:8px;cursor:pointer;white-space:nowrap">
             ⭐ Attiva
           </button>`;

      return `
      <tr onclick="viewUserDetail('${u.uid}','${(u.name||u.email).replace(/'/g,"\\'")}')">
        <td><strong>${u.name||'—'}</strong></td>
        <td style="font-family:var(--font-mono);font-size:12px">${u.email||'—'}</td>
        <td>${u.role==='admin'?'<span class="badge badge-admin">Admin</span>':'<span class="badge badge-green">Utente</span>'}</td>
        <td>
          <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap">
            ${premBadge}
            ${premDate ? `<span style="font-size:10px;color:var(--muted);font-family:var(--font-mono)">dal ${premDate}</span>` : ''}
          </div>
        </td>
        <td style="font-family:var(--font-mono);font-size:11px;color:var(--muted)">${u.createdAt?new Date(u.createdAt).toLocaleDateString('it-IT'):'—'}</td>
        <td>${u.lastWeight!=null?`<strong style="color:var(--green)">${u.lastWeight} kg</strong>`:'<span style="color:var(--muted)">—</span>'}</td>
        <td onclick="event.stopPropagation()" style="white-space:nowrap">
          <div style="display:flex;gap:6px;align-items:center">
            ${toggleBtn}
            <button class="btn btn-ghost btn-sm" onclick="viewUserDetail('${u.uid}','${(u.name||u.email).replace(/'/g,"\\'")}')">Dettaglio →</button>
          </div>
        </td>
      </tr>`;
    }).join('');

  } catch(e) {
    tbody.innerHTML = `<tr><td colspan="6" style="text-align:center;padding:32px;color:var(--danger)">
      Errore caricamento: ${e.message}<br>
      <span style="font-size:12px;color:var(--muted)">Controlla le regole Firestore (vedi commento nel codice)</span>
    </td></tr>`;
    console.error('Admin loadUsers error:', e);
  }
}

// ══════════════════════════════════
// ADMIN — DETTAGLIO UTENTE
// ══════════════════════════════════
let adminChartInst = null;
let adminCurrentUid = null;        // UID utente visualizzato
let adminUserFoods  = [];          // cache alimenti utente

async function viewUserDetail(targetUid, name) {
  adminCurrentUid = targetUid;

  // Salva uid/name nel pannello per refresh dopo toggle
  const detailPanel = document.getElementById('admin-user-detail');
  detailPanel.dataset.uid  = targetUid;
  detailPanel.dataset.name = name;

  document.getElementById('admin-user-list').style.display = 'none';
  detailPanel.style.display = 'block';
  document.getElementById('admin-detail-name').textContent = name;

  // Carica dati utente per premium card
  try {
    const {db, doc, getDoc} = window._fb;
    const usnap = await getDoc(doc(db, 'users', targetUid));
    if (usnap.exists()) {
      updateAdminPremiumCard(targetUid, usnap.data());
    }
  } catch(e) { console.warn('Premium load:', e.message); }

  // Reset tab a "Pesi"
  switchAdminTab('weights');

  // Reset stats
  ['adm-last','adm-weekly','adm-monthly'].forEach(id => document.getElementById(id).textContent = '—');

  const {db, collection, query, orderBy, getDocs} = window._fb;

  // ── PESI ──
  let data = [];
  try {
    const snap = await getDocs(query(collection(db,'users',targetUid,'weights'), orderBy('date','asc')));
    data = snap.docs.map(d=>d.data());
  } catch(e) { console.warn('Pesi:', e.message); }

  // Stats peso
  if (data.length) {
    const s = [...data].sort((a,b)=>b.date.localeCompare(a.date));
    document.getElementById('adm-last').textContent = s[0].weight+' kg';
    const weekAgo=new Date(); weekAgo.setDate(weekAgo.getDate()-7);
    const wk=data.filter(w=>new Date(w.date+'T00:00:00')>=weekAgo);
    document.getElementById('adm-weekly').textContent = wk.length?(wk.reduce((a,b)=>a+b.weight,0)/wk.length).toFixed(1)+' kg':'—';
    const mo=todayStr().slice(0,7);
    const mm=data.filter(w=>w.date.startsWith(mo));
    document.getElementById('adm-monthly').textContent = mm.length?(mm.reduce((a,b)=>a+b.weight,0)/mm.length).toFixed(1)+' kg':'—';
  }

  // Grafico peso
  if (adminChartInst) adminChartInst.destroy();
  const ctx = document.getElementById('admin-chart').getContext('2d');
  adminChartInst = new Chart(ctx, {
    type:'line',
    data:{
      labels: data.map(w=>new Date(w.date+'T00:00:00').toLocaleDateString('it-IT',{day:'2-digit',month:'short'})),
      datasets:[{label:'Peso', data:data.map(w=>w.weight),
        borderColor:'#e07020', backgroundColor:'rgba(224,112,32,0.08)',
        fill:true, tension:0.4, pointBackgroundColor:'#e07020', pointRadius:4}]
    },
    options:{responsive:true, maintainAspectRatio:false,
      plugins:{legend:{display:false}},
      scales:{
        x:{grid:{color:'rgba(0,0,0,0.05)'}, ticks:{color:'#9a8f85',font:{size:10}}},
        y:{grid:{color:'rgba(0,0,0,0.05)'}, ticks:{color:'#9a8f85',font:{size:10},callback:v=>v+' kg'}}
      }
    }
  });

  // Lista pesi
  const wl = document.getElementById('admin-weight-list');
  const wc = document.getElementById('adm-weight-count');
  if (wc) wc.textContent = data.length + ' misurazion' + (data.length===1?'e':'i');
  if (!data.length) {
    wl.innerHTML = '<div class="empty"><div class="empty-icon">⚖️</div><p>Nessuna misurazione registrata.</p></div>';
  } else {
    const sorted = [...data].sort((a,b)=>b.date.localeCompare(a.date));
    wl.innerHTML = sorted.map((w,i)=>{
      const prev = sorted[i+1];
      let deltaHtml = '';
      if (prev) {
        const diff = (w.weight - prev.weight).toFixed(1);
        const v = parseFloat(diff);
        const col = v>0?'#f87171':v<0?'#4ade80':'var(--muted)';
        deltaHtml = `<span style="font-family:var(--font-mono);font-size:11px;color:${col}">${v>0?'+':''}${diff} kg ${v>0?'↑':v<0?'↓':'→'}</span>`;
      }
      return `
      <div class="hist-row">
        <div style="flex:1">
          <div style="font-family:var(--font-mono);font-size:11px;color:var(--muted)">${formatDate(w.date)}</div>
          <div style="display:flex;align-items:center;gap:10px;margin-top:2px">
            <span style="font-family:var(--font-brand);font-weight:800;font-size:18px;color:var(--orange)">${w.weight} kg</span>
            ${deltaHtml}
          </div>
        </div>
      </div>`;
    }).join('');
  }

  // ── ALIMENTI ──
  adminUserFoods = [];
  try {
    const fsnap = await getDocs(query(collection(db,'users',targetUid,'foods'), orderBy('name','asc')));
    adminUserFoods = fsnap.docs.map(d=>({id:d.id,...d.data()}));
  } catch(e) { console.warn('Alimenti:', e.message); }
  renderAdminFoods(adminUserFoods);

  // ── PIANI PASTO ──
  try {
    const psnap = await getDocs(query(collection(db,'users',targetUid,'plans'), orderBy('createdAt','desc')));
    const plans = psnap.docs.map(d=>({id:d.id,...d.data()}));
    renderAdminPlans(plans);
  } catch(e) {
    console.warn('Piani:', e.message);
    renderAdminPlans([]);
  }
}

// ── TAB SWITCHING ──
function switchAdminTab(tab) {
  ['weights','foods','plans'].forEach(t => {
    document.getElementById('adm-tab-'+t).classList.toggle('active', t===tab);
  });
  document.querySelectorAll('#admin-detail-tabs .tab').forEach((btn,i) => {
    const tabs = ['weights','foods','plans'];
    btn.classList.toggle('active', tabs[i]===tab);
  });
}

// ── RENDER ALIMENTI ──
function renderAdminFoods(foods) {
  const el = document.getElementById('admin-foods-list');
  if (!el) return;
  if (!foods.length) {
    el.innerHTML = '<div class="empty"><div class="empty-icon">🥗</div><p>Nessun alimento creato da questo utente.</p></div>';
    return;
  }
  el.innerHTML = foods.map(f=>`
    <div class="food-card">
      <div style="flex:1">
        <div class="food-name">${f.name}</div>
        ${f.notes?`<div style="font-size:12px;color:var(--muted);margin-top:2px">${f.notes}</div>`:''}
      </div>
      <div style="display:flex;gap:6px;flex-wrap:wrap">
        <span class="macro-pill mp-kcal">${f.kcal} kcal</span>
        <span class="macro-pill mp-prot">P ${f.protein}g</span>
        <span class="macro-pill mp-carb">C ${f.carbs}g</span>
        <span class="macro-pill mp-fat">G ${f.fat}g</span>
        <span style="font-family:var(--font-mono);font-size:10px;color:var(--muted)">/100g</span>
      </div>
    </div>`).join('');
}

function filterAdminFoods() {
  const q = document.getElementById('adm-foods-search').value.toLowerCase();
  renderAdminFoods(adminUserFoods.filter(f=>!q||f.name.toLowerCase().includes(q)));
}

// ── RENDER PIANI PASTO ──
function renderAdminPlans(plans) {
  const el = document.getElementById('admin-plans-list');
  if (!el) return;
  if (!plans.length) {
    el.innerHTML = '<div class="empty"><div class="empty-icon">📋</div><p>Nessun piano pasto salvato da questo utente.</p></div>';
    return;
  }
  el.innerHTML = plans.map(plan=>{
    const entries = plan.entries||[];
    const totKcal = entries.reduce((a,e)=>a+e.kcal,0);
    const totP    = entries.reduce((a,e)=>a+e.protein,0).toFixed(1);
    const totC    = entries.reduce((a,e)=>a+e.carbs,0).toFixed(1);
    const totF    = entries.reduce((a,e)=>a+e.fat,0).toFixed(1);
    const date    = plan.createdAt ? new Date(plan.createdAt).toLocaleDateString('it-IT') : '—';
    return `
    <div class="food-card" style="flex-direction:column;align-items:flex-start;gap:12px;margin-bottom:12px">
      <div style="display:flex;align-items:center;justify-content:space-between;width:100%">
        <div>
          <div style="font-weight:700;font-size:15px">📋 ${plan.name}</div>
          <div style="font-family:var(--font-mono);font-size:10px;color:var(--muted);margin-top:2px">Salvato il ${date} · ${entries.length} alimenti</div>
        </div>
        <div style="display:flex;gap:6px;flex-wrap:wrap">
          <span class="macro-pill mp-kcal">${totKcal} kcal</span>
          <span class="macro-pill mp-prot">P ${totP}g</span>
          <span class="macro-pill mp-carb">C ${totC}g</span>
          <span class="macro-pill mp-fat">G ${totF}g</span>
        </div>
      </div>
      ${entries.length ? `
      <div style="width:100%;border-top:1.5px solid var(--border);padding-top:10px">
        <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);letter-spacing:1.5px;margin-bottom:8px">ALIMENTI NEL PIANO</div>
        ${entries.map(e=>`
          <div style="display:flex;align-items:center;justify-content:space-between;padding:6px 0;border-bottom:1px solid rgba(0,0,0,0.05)">
            <span style="font-size:13px">${e.name} <span style="color:var(--muted);font-size:11px">${e.grams}g</span></span>
            <span style="font-family:var(--font-mono);font-size:11px;color:var(--green)">${e.kcal} kcal</span>
          </div>`).join('')}
      </div>` : ''}
    </div>`;
  }).join('');
}

function closeUserDetail() {
  document.getElementById('admin-user-list').style.display='block';
  document.getElementById('admin-user-detail').style.display='none';
  adminCurrentUid = null;
  adminUserFoods  = [];
}

// ══════════════════════════════════════════════════════
// CUSTOM TARGETS PER CARB DAY
// ══════════════════════════════════════════════════════
let customTargets = { std: null, hc: null, lc: null };  // per-mode overrides

async function loadCustomTargets() {
  const {db, doc, getDoc} = window._fb;
  try {
    const snap = await getDoc(doc(db,'users',uid(),'customTargets','main'));
    if (snap.exists()) customTargets = {...{std:null,hc:null,lc:null}, ...snap.data()};
  } catch(e) {}
}

async function saveCustomTarget() {
  const kcal = parseInt(document.getElementById('te-kcal').value);
  const prot = parseInt(document.getElementById('te-prot').value);
  const carb = parseInt(document.getElementById('te-carb').value);
  const fat  = parseInt(document.getElementById('te-fat').value);
  if (!kcal || !prot || !carb || !fat) { toast('Compila tutti i campi!','var(--danger)'); return; }
  customTargets[carbDayMode] = { kcal, prot, carbs: carb, fat };
  const {db, doc, setDoc} = window._fb;
  await setDoc(doc(db,'users',uid(),'customTargets','main'), customTargets);
  toggleTargetEditor(false);
  updateCarbDayUI();
  renderDiary();
  toast('✅ Target ' + CARB_DAY_PRESETS[carbDayMode].label + ' salvato!');
}

function resetTargetToDefault() {
  customTargets[carbDayMode] = null;
  const t = getActiveTargets();
  document.getElementById('te-kcal').value = t.kcal;
  document.getElementById('te-prot').value = t.prot;
  document.getElementById('te-carb').value = t.carbs;
  document.getElementById('te-fat').value  = t.fat;
  updateTeKcalCheck();
  toast('Target ripristinato ai valori default');
}

function toggleTargetEditor(forceOpen) {
  const panel = document.getElementById('target-edit-panel');
  const open = forceOpen !== undefined ? forceOpen : !panel.classList.contains('open');
  panel.classList.toggle('open', open);
  if (open) {
    // Populate with current targets
    const t = getActiveTargets();
    document.getElementById('te-kcal').value = t.kcal;
    document.getElementById('te-prot').value = t.prot;
    document.getElementById('te-carb').value = t.carbs;
    document.getElementById('te-fat').value  = t.fat;
    const names = { std:'Standard', hc:'High Carb 🔵', lc:'Low Carb 🟠' };
    document.getElementById('target-edit-title').textContent = '✏️ Target Giorno ' + names[carbDayMode];
    updateTeKcalCheck();
    // Live kcal check on input
    ['te-kcal','te-prot','te-carb','te-fat'].forEach(id => {
      const el = document.getElementById(id);
      if (el) el.oninput = updateTeKcalCheck;
    });
  }
}

function updateTeKcalCheck() {
  const p = parseFloat(document.getElementById('te-prot').value) || 0;
  const c = parseFloat(document.getElementById('te-carb').value) || 0;
  const f = parseFloat(document.getElementById('te-fat').value)  || 0;
  const kcalFromMacros = Math.round(p*4 + c*4 + f*9);
  const kcal = parseFloat(document.getElementById('te-kcal').value) || 0;
  const diff = Math.abs(kcal - kcalFromMacros);
  const el = document.getElementById('te-kcal-check');
  if (!el) return;
  if (kcal === 0) { el.textContent = ''; return; }
  el.textContent = 'Kcal dai macro: ' + kcalFromMacros + ' kcal' + (diff > 50 ? ' ⚠️ differenza di '+diff+' kcal' : ' ✅');
  el.style.color = diff > 50 ? 'var(--danger)' : 'var(--green)';
}

// getActiveTargets override — merged into original above

// ══════════════════════════════════════════════════════
// NUTRIPOINTS SYSTEM
// ══════════════════════════════════════════════════════
let nutriPoints = { total: 0, history: [], lastWeighDate: null };

const BADGES = [
  { id:'sprinter_bronze', name:'Sprinter Bronze', icon:'🥉', pts: 0,    cls:'bronze' },
  { id:'sprinter_silver', name:'Sprinter Silver', icon:'🥈', pts: 100,  cls:'silver' },
  { id:'sprinter_gold',   name:'Sprinter Gold',   icon:'🥇', pts: 300,  cls:'gold'   },
  { id:'marathon_silver', name:'Marathon Silver', icon:'🎽', pts: 600,  cls:'silver' },
  { id:'marathon_gold',   name:'Marathon Gold',   icon:'🏅', pts: 1000, cls:'gold'   },
  { id:'flexeno_elite',   name:'Flexeno Elite',   icon:'👑', pts: 2000, cls:'platinum'},
];

const CATALOG = [
  { id:'disc5',    name:'Sconto 5% su Flexeno',       icon:'🏷️',  pts: 150,  desc:'Coupon 5% su tutto il negozio flexenofitness.com', url:'https://flexenofitness.com/collections/all' },
  { id:'straps',   name:'Lifting Straps',             icon:'💪',  pts: 300,  desc:'Cinghie da sollevamento — sale €8,90 (reg. €21,95)', url:'https://flexenofitness.com/products/lifting-straps' },
  { id:'disc10',   name:'Sconto 10% su Flexeno',      icon:'🎁',  pts: 400,  desc:'Coupon 10% su tutto il negozio flexenofitness.com', url:'https://flexenofitness.com/collections/all' },
  { id:'roller',   name:'Fitness Foam Roller Black',  icon:'🔵',  pts: 600,  desc:'Foam roller professionale — sale €12,90 (reg. €23,90)', url:'https://flexenofitness.com/products/fitness-foam-roller-black' },
  { id:'flexlamp', name:'FlexLamp',                   icon:'💡',  pts: 800,  desc:'Lampada fitness premium — sale €16,90 (reg. €49,99)', url:'https://flexenofitness.com/products/flexlamp' },
  { id:'bag',      name:'Magnet Gym Bag',             icon:'🎒',  pts: 1200, desc:'Borsa palestra magnetica — sale €15,90 (reg. €34,90)', url:'https://flexenofitness.com/products/magnet-gym-bag' },
  { id:'fw2526',   name:'Prodotto FW 25/26 a scelta', icon:'👕',  pts: 2000, desc:'Un capo della nuova collezione autunno/inverno Flexeno a tua scelta', url:'https://flexenofitness.com/collections/frontpage' },
];

function currentBadge(pts) {
  let badge = BADGES[0];
  for (const b of BADGES) { if (pts >= b.pts) badge = b; }
  return badge;
}

function nextBadge(pts) {
  for (const b of BADGES) { if (pts < b.pts) return b; }
  return null;
}

async function loadNutriPoints() {
  const {db, doc, getDoc} = window._fb;
  try {
    const snap = await getDoc(doc(db,'users',uid(),'nutripoints','main'));
    if (snap.exists()) nutriPoints = snap.data();
    else nutriPoints = { total: 0, history: [], lastWeighDate: null };
  } catch(e) { nutriPoints = { total: 0, history: [], lastWeighDate: null }; }
  renderPointsUI();
}

async function awardPoints(amount, reason, icon='🪙') {
  if (!nutriPoints.history) nutriPoints.history = [];
  nutriPoints.total = (nutriPoints.total || 0) + amount;
  nutriPoints.history.unshift({
    pts: amount, reason, icon,
    date: todayStr(), ts: Date.now()
  });
  // Keep last 100 entries
  if (nutriPoints.history.length > 100) nutriPoints.history = nutriPoints.history.slice(0,100);
  const {db, doc, setDoc} = window._fb;
  try {
    await setDoc(doc(db,'users',uid(),'nutripoints','main'), nutriPoints);
  } catch(e) {}
  renderPointsUI();
  showPtsToast('+' + amount + ' pts — ' + reason);
}

function showPtsToast(msg) {
  const el = document.getElementById('pts-toast');
  if (!el) return;
  el.textContent = msg + ' 🪙';
  el.classList.add('show');
  setTimeout(() => el.classList.remove('show'), 2500);
}

function renderPointsUI() {
  const pts = nutriPoints.total || 0;
  const badge = currentBadge(pts);
  const next  = nextBadge(pts);

  // Home widget
  const homeTotal = document.getElementById('home-pts-total');
  if (homeTotal) homeTotal.textContent = pts;
  const homeBadge = document.getElementById('home-points-badge');
  if (homeBadge) { homeBadge.textContent = badge.icon + ' ' + badge.name; homeBadge.className = 'badge-chip ' + badge.cls; }
  const homeBar  = document.getElementById('home-pts-bar');
  const homeNext = document.getElementById('home-pts-next-val');
  const homeNextLbl = document.getElementById('home-pts-next-label');
  if (next && homeBar) {
    const prev = BADGES[BADGES.indexOf(badge)];
    const pct  = Math.min(100, ((pts - badge.pts) / (next.pts - badge.pts)) * 100);
    homeBar.style.width = pct + '%';
    if (homeNext) homeNext.textContent = next.pts + ' pts';
    if (homeNextLbl) homeNextLbl.textContent = 'Verso ' + next.icon + ' ' + next.name;
  } else if (homeBar) {
    homeBar.style.width = '100%';
    if (homeNextLbl) homeNextLbl.textContent = '🏆 Badge massimo raggiunto!';
  }

  // Today's points log
  const todayEntries = (nutriPoints.history||[]).filter(h => h.date === todayStr());
  const todayPts = todayEntries.reduce((a,h) => a+h.pts, 0);
  const homePtsToday = document.getElementById('home-pts-today');
  if (homePtsToday) {
    homePtsToday.textContent = todayEntries.length
      ? todayEntries.map(h => h.icon + ' ' + h.reason + ' (+' + h.pts + ' pts)').join('  ·  ')
      : 'Nessun punto guadagnato oggi.';
  }

  // Rewards Hub page
  const rhTotal = document.getElementById('rh-pts-total');
  if (!rhTotal) return;
  rhTotal.textContent = pts;
  const rhBadge = document.getElementById('rh-badge');
  if (rhBadge) { rhBadge.textContent = badge.icon + ' ' + badge.name; rhBadge.className = 'badge-chip ' + badge.cls + ' '; rhBadge.style.fontSize='13px'; rhBadge.style.padding='6px 14px'; }

  const rhBar = document.getElementById('rh-pts-bar');
  if (rhBar && next) {
    const pct = Math.min(100, ((pts - badge.pts) / (next.pts - badge.pts)) * 100);
    rhBar.style.width = pct + '%';
    document.getElementById('rh-next-badge-label').textContent = 'Verso ' + next.icon + ' ' + next.name;
    document.getElementById('rh-pts-current-lbl').textContent = pts + ' pts';
    document.getElementById('rh-pts-next-lbl').textContent = next.pts + ' pts';
  }

  // Badge grid
  const badgeGrid = document.getElementById('rh-badge-grid');
  if (badgeGrid) {
    badgeGrid.innerHTML = BADGES.map(b => {
      const unlocked = pts >= b.pts;
      return `<div style="text-align:center;padding:12px 8px;background:var(--${unlocked?'green-bg':'cream'});border:1.5px solid var(--${unlocked?'green':'border'});border-radius:12px;opacity:${unlocked?1:0.45}">
        <div style="font-size:28px;margin-bottom:4px">${b.icon}</div>
        <div style="font-size:12px;font-weight:600;letter-spacing:0.3px;margin-top:2px">${b.name}</div>
        <div style="font-family:var(--font-mono);font-size:9px;color:var(--muted);margin-top:2px">${b.pts} pts</div>
        ${unlocked ? '<div style="font-size:9px;color:var(--green);margin-top:3px">✅ Sbloccato</div>' : ''}
      </div>`;
    }).join('');
  }

  // History
  const histEl = document.getElementById('rh-history-list');
  if (histEl) {
    const hist = nutriPoints.history || [];
    const histTotal = document.getElementById('rh-history-total');
    if (histTotal) histTotal.textContent = hist.length + ' eventi';
    if (!hist.length) {
      histEl.innerHTML = '<div class="empty"><div class="empty-icon">🪙</div><p>Nessun punto guadagnato ancora.</p></div>';
    } else {
      histEl.innerHTML = hist.slice(0,30).map(h => `
        <div class="points-activity-row">
          <div style="display:flex;align-items:center;gap:10px">
            <span style="font-size:20px">${h.icon}</span>
            <div>
              <div style="font-size:13px;font-weight:500">${h.reason}</div>
              <div style="font-family:var(--font-mono);font-size:10px;color:var(--muted)">${formatDate(h.date)}</div>
            </div>
          </div>
          <span class="pts-pill earned">+${h.pts} pts</span>
        </div>`).join('');
    }
  }

  // Catalog
  const catEl = document.getElementById('rh-catalog');
  if (catEl) {
    catEl.innerHTML = CATALOG.map(r => {
      const unlocked = pts >= r.pts;
      const missing = r.pts - pts;
      return `<div class="reward-card ${unlocked?'unlocked':'locked'}">
        <div class="reward-icon">${r.icon}</div>
        <div style="flex:1;min-width:0">
          <div style="font-size:14px;font-weight:600;display:flex;align-items:center;gap:8px;flex-wrap:wrap">
            ${r.name}
            ${r.price ? `<span style="color:var(--green);font-size:12px;font-family:var(--font-mono)">${r.price}</span>` : ''}
          </div>
          <div style="font-size:12px;color:var(--muted);margin-top:3px;line-height:1.4">${r.desc}</div>
          <div class="reward-cost" style="margin-top:5px">${r.pts} pts ${unlocked ? '— <span style="color:var(--green)">✅ Sbloccato</span>' : '— mancano <strong>'+missing+' pts</strong>'}</div>
        </div>
        <div style="flex-shrink:0;text-align:center;margin-left:8px">
          ${unlocked
            ? `<button class="btn btn-green btn-sm" onclick="redeemReward('${r.id}')">🛒 Riscatta</button>`
            : `<div style="font-family:var(--font-mono);font-size:10px;color:var(--muted);text-align:center;padding:4px 0">🔒<br>${missing} pts</div>`
          }
        </div>
      </div>`;
    }).join('');
  }
}

function redeemReward(id) {
  const r = CATALOG.find(c => c.id === id);
  if (!r) return;
  if (window.confirm('🎁 Stai per riscattare: "' + r.name + '"\n\nVerrai reindirizzato al sito Flexeno Fitness. Mostra questo schermo all\'assistente per ricevere il tuo premio!')) {
    window.open(r.url || 'https://flexenofitness.com', '_blank');
    toast('🎁 ' + r.name + ' — Buona fortuna!');
  }
}

// ── PUNTI: funzioni helper standalone ──
function calcWeightStreak() {
  if (!weightData || !weightData.length) return 0;
  const sorted = [...weightData].sort((a,b) => b.date.localeCompare(a.date));
  let streak = 0;
  let check = new Date();
  for (const w of sorted) {
    const checkStr = check.toISOString().split('T')[0];
    if (w.date === checkStr) { streak++; check.setDate(check.getDate()-1); }
    else break;
  }
  return streak;
}

async function checkRingClosure() {
  const totals = diaryTotals();
  const target = getActiveTargets();
  const today  = todayStr();
  const withinRange = (val, tgt) => tgt > 0 && Math.abs(val - tgt) / tgt <= 0.05;
  if (
    withinRange(totals.kcal,    target.kcal) &&
    withinRange(totals.protein, target.prot) &&
    withinRange(totals.carbs,   target.carbs) &&
    withinRange(totals.fat,     target.fat)
  ) {
    const alreadyAwarded = (nutriPoints.history||[]).some(
      h => h.date === today && h.reason.includes('Ring Closure')
    );
    if (!alreadyAwarded) {
      await awardPoints(30, 'Ring Closure — macro centrati ±5%!', '🎯');
      const pc = document.getElementById('macro-progress-card');
      if (pc) { pc.classList.add('ring-complete'); setTimeout(() => pc.classList.remove('ring-complete'), 4000); }
    }
  }
}

// ══════════════════════════════════════════════════════
// FEATURE 1: DIARY DATE NAVIGATION
// ══════════════════════════════════════════════════════
function diaryGoDay(delta) {
  const cur = document.getElementById('diary-date').value || todayStr();
  const d = new Date(cur + 'T00:00:00');
  d.setDate(d.getDate() + delta);
  const newDate = d.toISOString().split('T')[0];
  if (newDate > todayStr()) return; // can't go to future

  // Free users: max 7 days back
  if (!isPremium) {
    const limit = new Date(); limit.setDate(limit.getDate() - 7);
    const limitStr = limit.toISOString().split('T')[0];
    if (newDate < limitStr) {
      checkPremium('', '📊 Storico Illimitato', 'Con il piano Free puoi visualizzare solo gli ultimi 7 giorni. Premium ti dà accesso a tutto il tuo storico dal primo giorno.');
      return;
    }
  }

  document.getElementById('diary-date').value = newDate;
  loadDiary();
}

function diaryPickDate() {
  const inp = document.getElementById('diary-date');
  inp.max = todayStr();
  inp.style.display = 'block';
  inp.style.position = 'absolute';
  inp.style.opacity = '0';
  inp.focus();
  inp.showPicker && inp.showPicker();
  setTimeout(() => { inp.style.display = 'none'; inp.style.position = ''; inp.style.opacity = ''; }, 200);
}

function updateDiaryDateLabel() {
  const cur = document.getElementById('diary-date').value || todayStr();
  const today = todayStr();
  const yesterday = (() => { const d = new Date(); d.setDate(d.getDate()-1); return d.toISOString().split('T')[0]; })();
  const lbl = document.getElementById('diary-date-label');
  const titleEl = document.getElementById('diary-entries-title');
  let label, title;
  if (cur === today) { label = 'Oggi'; title = 'Alimenti di oggi'; }
  else if (cur === yesterday) { label = 'Ieri'; title = 'Alimenti di ieri'; }
  else { label = formatDate(cur); title = 'Alimenti del ' + formatDate(cur); }
  if (lbl) lbl.textContent = label;
  if (titleEl) titleEl.textContent = title;
  // Disable next button if on today
  const nextBtn = document.getElementById('diary-next-btn');
  if (nextBtn) nextBtn.style.opacity = cur === today ? '0.3' : '1';
}

// updateDiaryDateLabel is called directly from the patched originals below

// ══════════════════════════════════════════════════════
// FEATURE 2: BARCODE SCANNER
// ══════════════════════════════════════════════════════
let html5QrCode = null;
let scannedFood = null;

function openScanner() {
  document.getElementById('scanner-modal').classList.add('open');
  document.getElementById('scanner-result').style.display = 'none';
  document.getElementById('scanner-loading').style.display = 'none';
  document.getElementById('scanner-error').style.display = 'none';
  setTimeout(() => startScanner(), 300);
}

function startScanner() {
  if (html5QrCode) return;
  html5QrCode = new Html5Qrcode('qr-reader');
  html5QrCode.start(
    { facingMode: 'environment' },
    { fps: 10, qrbox: { width: 250, height: 150 }, aspectRatio: 1.5 },
    async (decodedText) => {
      await onBarcodeScanned(decodedText);
    },
    () => {}
  ).catch(err => {
    const errEl = document.getElementById('scanner-error');
    errEl.textContent = '⚠️ Fotocamera non disponibile: ' + (err.message || err);
    errEl.style.display = 'block';
  });
}

async function onBarcodeScanned(barcode) {
  if (html5QrCode) {
    try { await html5QrCode.stop(); } catch(e) {}
    html5QrCode = null;
  }
  document.getElementById('scanner-loading').style.display = 'block';
  document.getElementById('scanner-result').style.display = 'none';
  document.getElementById('scanner-error').style.display = 'none';
  try {
    const res = await fetch(`https://world.openfoodfacts.org/api/v0/product/${barcode}.json`);
    const data = await res.json();
    document.getElementById('scanner-loading').style.display = 'none';
    if (data.status !== 1 || !data.product) {
      throw new Error('Prodotto non trovato nel database.');
    }
    const p = data.product;
    const n = p.nutriments || {};
    const per100 = {
      kcal:    Math.round(n['energy-kcal_100g'] || n['energy_100g'] / 4.184 || 0),
      protein: Math.round(n['proteins_100g'] || 0),
      carbs:   Math.round(n['carbohydrates_100g'] || 0),
      fat:     Math.round(n['fat_100g'] || 0),
    };
    scannedFood = {
      name: p.product_name || p.product_name_it || 'Prodotto sconosciuto',
      per100
    };
    document.getElementById('scanner-found-name').textContent = scannedFood.name;
    document.getElementById('scanner-found-macros').textContent =
      `Per 100g: ${per100.kcal} kcal · P ${per100.protein}g · C ${per100.carbs}g · G ${per100.fat}g`;
    document.getElementById('scanner-result').style.display = 'block';
  } catch(e) {
    document.getElementById('scanner-loading').style.display = 'none';
    const errEl = document.getElementById('scanner-error');
    errEl.textContent = '⚠️ ' + (e.message || 'Errore di rete');
    errEl.style.display = 'block';
    setTimeout(() => { errEl.style.display = 'none'; startScanner(); }, 2500);
  }
}

function addScannedFood() {
  if (!scannedFood) return;
  const grams = parseFloat(document.getElementById('scanner-grams').value) || 100;
  const ratio = grams / 100;
  const f = scannedFood;
  selectedDiaryFood = {
    name: f.name,
    kcal:    Math.round(f.per100.kcal    * ratio),
    protein: Math.round(f.per100.protein * ratio),
    carbs:   Math.round(f.per100.carbs   * ratio),
    fat:     Math.round(f.per100.fat     * ratio),
    kcalPer100:    f.per100.kcal,
    proteinPer100: f.per100.protein,
    carbsPer100:   f.per100.carbs,
    fatPer100:     f.per100.fat,
  };
  document.getElementById('diary-grams').value = grams;
  document.getElementById('diary-food-search').value = f.name;
  closeScanner();
  addToDiary();
}

function closeScanner() {
  if (html5QrCode) {
    html5QrCode.stop().catch(()=>{});
    html5QrCode = null;
  }
  document.getElementById('scanner-modal').classList.remove('open');
  document.getElementById('qr-reader').innerHTML = '';
}

// ══════════════════════════════════════════════════════
// FEATURE 3: PUSH NOTIFICATIONS
// ══════════════════════════════════════════════════════
function initNotifications() {
  if (!('Notification' in window)) return;
  const banner = document.getElementById('notif-permission-banner');
  if (Notification.permission === 'default' && !localStorage.getItem('nt-notif-dismissed')) {
    if (banner) banner.style.display = 'flex';
  }
  if (Notification.permission === 'granted') scheduleNotifications();
}

async function requestNotifications() {
  const banner = document.getElementById('notif-permission-banner');
  if (!('Notification' in window)) { toast('Notifiche non supportate dal browser','var(--danger)'); return; }
  const perm = await Notification.requestPermission();
  if (banner) banner.style.display = 'none';
  if (perm === 'granted') {
    scheduleNotifications();
    toast('🔔 Notifiche attivate!');
    localStorage.setItem('nt-notif-granted', '1');
  } else {
    localStorage.setItem('nt-notif-dismissed', '1');
    toast('Notifiche non attivate', 'var(--muted)');
  }
}

function scheduleNotifications() {
  if (Notification.permission !== 'granted') return;
  // Clear existing
  if (window._notifTimers) window._notifTimers.forEach(clearTimeout);
  window._notifTimers = [];
  // Schedule daily weight reminder at 8:00
  const scheduleDaily = (hour, minute, title, body, icon = '⚖️') => {
    const now = new Date();
    const target = new Date();
    target.setHours(hour, minute, 0, 0);
    if (target <= now) target.setDate(target.getDate() + 1);
    const delay = target - now;
    const t = setTimeout(() => {
      if (Notification.permission === 'granted') {
        new Notification(title, { body, icon: 'data:text/plain,'+icon, tag: 'nutritrack-' + hour });
      }
      scheduleDaily(hour, minute, title, body, icon); // reschedule for tomorrow
    }, delay);
    window._notifTimers.push(t);
  };
  scheduleDaily(8, 0, '⚖️ NutriTrack — Peso', 'Ricordati di pesarti stamattina!', '⚖️');
  scheduleDaily(20, 30, '🍽️ NutriTrack — Diario', 'Hai registrato tutti i pasti di oggi?', '🍽️');
}

// ══════════════════════════════════════════════════════
// FEATURE 4: PHOTO → AI FOOD ANALYSIS
// ══════════════════════════════════════════════════════
const ANTHROPIC_API_KEY = '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';
let aiAnalyzedFood = null;
let currentPhotoBase64 = null;

function openPhotoAnalysis() {
  document.getElementById('photo-modal').classList.add('open');
  document.getElementById('photo-ai-result').style.display = 'none';
  document.getElementById('photo-ai-loading').style.display = 'none';
  document.getElementById('photo-ai-error').style.display = 'none';
  // Show/hide API key section
  const keySection = document.getElementById('apikey-section');
  if (keySection) keySection.style.display = 'none';
  if (key) {
    if (keySection) keySection.style.display = 'none';
    document.getElementById('apikey-status').textContent = '✅ API Key salvata';
  } else {
    if (keySection) keySection.style.display = 'block';
  }
}

function closePhotoAnalysis() {
  document.getElementById('photo-modal').classList.remove('open');
}

function saveApiKey() { /* key pre-configured */ }

async function handlePhotoSelected(event) {
  const file = event.target.files[0];
  if (!file) return;
  event.target.value = '';
  // Show preview
  const reader = new FileReader();
  reader.onload = async (e) => {
    const base64Full = e.target.result;
    const base64 = base64Full.split(',')[1];
    currentPhotoBase64 = base64;
    const preview = document.getElementById('photo-preview');
    preview.src = base64Full;
    preview.classList.add('show');
    document.getElementById('photo-ai-result').style.display = 'none';
    document.getElementById('photo-ai-error').style.display = 'none';
    await analyzePhotoWithAI(base64, file.type || 'image/jpeg');
  };
  reader.readAsDataURL(file);
}

async function analyzePhotoWithAI(base64, mediaType) {
  const apiKey = ANTHROPIC_API_KEY;
  if (!apiKey) { toast('API Key mancante', 'var(--danger)'); return; }
  document.getElementById('photo-ai-loading').style.display = 'block';
  document.getElementById('photo-ai-result').style.display = 'none';
  document.getElementById('photo-ai-error').style.display = 'none';
  try {
    const response = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'x-api-key': apiKey,
        'anthropic-version': '2023-06-01',
        'anthropic-dangerous-direct-browser-access': 'true',
      },
      body: JSON.stringify({
        model: 'claude-opus-4-5',
        max_tokens: 400,
        messages: [{
          role: 'user',
          content: [
            { type: 'image', source: { type: 'base64', media_type: mediaType, data: base64 } },
            { type: 'text', text: 'Analizza questo pasto e stima i valori nutrizionali. Rispondi SOLO con un JSON valido senza markdown, nel formato: {"name":"nome del pasto","kcal":numero,"protein":numero,"carbs":numero,"fat":numero,"note":"breve nota sulla stima","grams":numero} I valori devono essere per la porzione INTERA visibile nella foto. Stima in modo realistico.' }
          ]
        }]
      })
    });
    document.getElementById('photo-ai-loading').style.display = 'none';
    if (!response.ok) {
      const err = await response.json();
      throw new Error(err.error?.message || 'Errore API (' + response.status + ')');
    }
    const data = await response.json();
    const text = data.content?.[0]?.text || '';
    let parsed;
    try {
      parsed = JSON.parse(text.replace(/```json|```/g, '').trim());
    } catch(e) {
      const match = text.match(/\{[\s\S]*\}/);
      if (match) parsed = JSON.parse(match[0]);
      else throw new Error('Risposta AI non valida');
    }
    aiAnalyzedFood = parsed;
    document.getElementById('ai-food-name').textContent = parsed.name || 'Pasto analizzato';
    document.getElementById('ai-kcal').textContent = Math.round(parsed.kcal || 0);
    document.getElementById('ai-prot').textContent = Math.round(parsed.protein || 0) + 'g';
    document.getElementById('ai-carb').textContent = Math.round(parsed.carbs || 0) + 'g';
    document.getElementById('ai-fat').textContent = Math.round(parsed.fat || 0) + 'g';
    document.getElementById('ai-note').textContent = parsed.note || '';
    document.getElementById('photo-ai-result').style.display = 'block';
  } catch(e) {
    document.getElementById('photo-ai-loading').style.display = 'none';
    const errEl = document.getElementById('photo-ai-error');
    errEl.textContent = '⚠️ ' + (e.message || 'Errore sconosciuto');
    errEl.style.display = 'block';
  }
}

async function addAiFood() {
  if (!aiAnalyzedFood) return;
  const f = aiAnalyzedFood;
  const entry = {
    id: Date.now(),
    name: f.name || 'Pasto AI',
    grams: f.grams || 1,
    kcal:    Math.round(f.kcal || 0),
    protein: Math.round(f.protein || 0),
    carbs:   Math.round(f.carbs || 0),
    fat:     Math.round(f.fat || 0),
  };
  diaryEntries.push(entry);
  await saveDiary();
  renderDiary();
  updateHomeDiarySummary();
  if (currentDiaryDate === todayStr()) checkRingClosure();
  closePhotoAnalysis();
  toast('🤖 Pasto AI aggiunto al diario!');
}

// ══════════════════════════════════════════════════════
// FEATURE 5: SHARE PROGRESS CARD
// ══════════════════════════════════════════════════════
function openShareCard() {
  document.getElementById('share-modal').classList.add('open');
  setTimeout(() => drawShareCanvas(), 100);
}
function closeShareCard() {
  document.getElementById('share-modal').classList.remove('open');
}

function drawShareCanvas() {
  const canvas = document.getElementById('share-canvas');
  const ctx = canvas.getContext('2d');
  const W = 1080, H = 1080;
  canvas.width = W; canvas.height = H;
  const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
  const bg = isDark ? '#1a1a18' : '#f3ede2';
  const card = isDark ? '#2a2a27' : '#ffffff';
  const text = isDark ? '#f0ebe0' : '#1a1a18';
  const muted = isDark ? '#888' : '#888';
  const green = '#4a7a35';

  // Background
  ctx.fillStyle = bg;
  ctx.fillRect(0, 0, W, H);

  // Header stripe
  ctx.fillStyle = green;
  ctx.fillRect(0, 0, W, 180);

  // NutriTrack title
  ctx.fillStyle = '#ffffff';
  ctx.font = 'bold 72px system-ui, sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText('NutriTrack', W/2, 90);
  ctx.font = '32px system-ui, sans-serif';
  ctx.fillStyle = 'rgba(255,255,255,0.75)';
  ctx.fillText(new Date().toLocaleDateString('it-IT', { weekday:'long', day:'numeric', month:'long', year:'numeric' }), W/2, 145);

  // Weight card
  const latestWeight = weightData.length
    ? [...weightData].sort((a,b) => b.date.localeCompare(a.date))[0].weight
    : null;
  drawCard(ctx, 60, 220, 440, 240, card);
  ctx.fillStyle = muted; ctx.font = '28px monospace'; ctx.textAlign = 'center';
  ctx.fillText('PESO ATTUALE', 280, 275);
  ctx.fillStyle = green; ctx.font = 'bold 96px system-ui, sans-serif';
  ctx.fillText(latestWeight ? latestWeight + ' kg' : '—', 280, 380);

  // NutriPoints card
  const pts = nutriPoints.total || 0;
  const badge = currentBadge(pts);
  drawCard(ctx, 560, 220, 460, 240, card);
  ctx.fillStyle = muted; ctx.font = '28px monospace'; ctx.textAlign = 'center';
  ctx.fillText('NUTRIPOINTS', 790, 275);
  ctx.fillStyle = '#ca8a04'; ctx.font = 'bold 96px system-ui, sans-serif';
  ctx.fillText(pts, 790, 380);
  ctx.fillStyle = muted; ctx.font = '32px system-ui, sans-serif';
  ctx.fillText(badge.icon + ' ' + badge.name, 790, 430);

  // Macro circles
  const totals = diaryTotals();
  const targets = getActiveTargets();
  const macros = [
    { label: 'KCAL', val: totals.kcal, tgt: targets.kcal, color: green, unit: '' },
    { label: 'PROT', val: totals.protein, tgt: targets.prot, color: '#f97316', unit: 'g' },
    { label: 'CARB', val: totals.carbs, tgt: targets.carbs, color: '#3b82f6', unit: 'g' },
    { label: 'GRASSI', val: totals.fat, tgt: targets.fat, color: '#ca8a04', unit: 'g' },
  ];
  macros.forEach((m, i) => {
    const cx = 135 + i * 210, cy = 600;
    const pct = m.tgt > 0 ? Math.min(1, m.val / m.tgt) : 0;
    // Track
    ctx.beginPath(); ctx.arc(cx, cy, 80, 0, Math.PI*2);
    ctx.strokeStyle = isDark ? '#333' : '#e5e0d5'; ctx.lineWidth = 18;
    ctx.stroke();
    // Fill
    if (pct > 0) {
      ctx.beginPath(); ctx.arc(cx, cy, 80, -Math.PI/2, -Math.PI/2 + pct*Math.PI*2);
      ctx.strokeStyle = m.color; ctx.lineWidth = 18; ctx.lineCap = 'round';
      ctx.stroke();
    }
    // Value
    ctx.fillStyle = text; ctx.font = 'bold 38px system-ui, sans-serif'; ctx.textAlign = 'center';
    ctx.fillText(Math.round(m.val) + m.unit, cx, cy + 14);
    ctx.fillStyle = muted; ctx.font = '24px monospace';
    ctx.fillText(m.label, cx, cy + 50);
    ctx.fillStyle = m.color; ctx.font = '20px monospace';
    ctx.fillText('/ ' + m.tgt + m.unit, cx, cy + 110);
  });

  // Streak
  const streak = computeStreak ? computeStreak(weightData) : 0;
  drawCard(ctx, 60, 740, 960, 170, card);
  ctx.fillStyle = muted; ctx.font = '28px monospace'; ctx.textAlign = 'center';
  ctx.fillText('STREAK PESATE CONSECUTIVE', W/2, 790);
  ctx.fillStyle = text; ctx.font = 'bold 80px system-ui, sans-serif';
  ctx.fillText('🔥 ' + streak + ' giorni', W/2, 880);

  // Footer
  ctx.fillStyle = muted; ctx.font = '24px monospace'; ctx.textAlign = 'center';
  ctx.fillText('Generato con NutriTrack · flexenofitness.com', W/2, 1050);
}

function drawCard(ctx, x, y, w, h, color) {
  ctx.fillStyle = color;
  const r = 24;
  ctx.beginPath();
  ctx.moveTo(x+r, y); ctx.lineTo(x+w-r, y);
  ctx.arcTo(x+w, y, x+w, y+r, r); ctx.lineTo(x+w, y+h-r);
  ctx.arcTo(x+w, y+h, x+w-r, y+h, r); ctx.lineTo(x+r, y+h);
  ctx.arcTo(x, y+h, x, y+h-r, r); ctx.lineTo(x, y+r);
  ctx.arcTo(x, y, x+r, y, r); ctx.closePath();
  ctx.fill();
}

async function doShare() {
  const canvas = document.getElementById('share-canvas');
  try {
    canvas.toBlob(async (blob) => {
      if (navigator.share && navigator.canShare) {
        const file = new File([blob], 'nutritrack-progressi.png', { type: 'image/png' });
        if (navigator.canShare({ files: [file] })) {
          await navigator.share({ files: [file], title: 'I miei progressi NutriTrack 🌱' });
          return;
        }
      }
      downloadShareCard();
    }, 'image/png');
  } catch(e) { downloadShareCard(); }
}

function downloadShareCard() {
  const canvas = document.getElementById('share-canvas');
  const a = document.createElement('a');
  a.download = 'nutritrack-progressi.png';
  a.href = canvas.toDataURL('image/png');
  a.click();
  toast('📥 Card scaricata!');
}

// ══════════════════════════════════════════════════════
// FEATURE 6: OFFLINE MODE
// ══════════════════════════════════════════════════════
let offlineQueue = [];
const OFFLINE_QUEUE_KEY = 'nt-offline-queue';

function initOfflineMode() {
  const bar = document.getElementById('offline-bar');
  const updateBar = () => {
    if (bar) bar.classList.toggle('show', !navigator.onLine);
  };
  window.addEventListener('online',  () => { updateBar(); processOfflineQueue(); });
  window.addEventListener('offline', updateBar);
  updateBar();
  // Load pending queue
  try {
    const q = localStorage.getItem(OFFLINE_QUEUE_KEY);
    if (q) offlineQueue = JSON.parse(q);
  } catch(e) { offlineQueue = []; }
  if (navigator.onLine && offlineQueue.length) processOfflineQueue();
}

function queueOfflineWrite(path, data) {
  offlineQueue.push({ path, data, ts: Date.now() });
  try { localStorage.setItem(OFFLINE_QUEUE_KEY, JSON.stringify(offlineQueue)); } catch(e) {}
}

async function processOfflineQueue() {
  if (!offlineQueue.length) return;
  const {db, doc, setDoc} = window._fb;
  const processed = [];
  for (const item of offlineQueue) {
    try {
      await setDoc(doc(db, ...item.path.split('/')), item.data, { merge: true });
      processed.push(item);
    } catch(e) { break; }
  }
  offlineQueue = offlineQueue.filter(i => !processed.includes(i));
  try { localStorage.setItem(OFFLINE_QUEUE_KEY, JSON.stringify(offlineQueue)); } catch(e) {}
  if (processed.length) toast(`✅ Sincronizzati ${processed.length} record offline`);
}

// ══════════════════════════════════════════════════════
// PREMIUM SYSTEM
// ══════════════════════════════════════════════════════
let isPremium = false;
let _premiumListener = null; // riferimento al listener per poterlo cancellare al logout

// ══════════════════════════════════════════════════════════════
// STRIPE CHECKOUT
// Stripe Payment Link con client_reference_id = Firebase UID
// Il webhook Pipedream legge questo campo e attiva il premium.
// ══════════════════════════════════════════════════════════════
const STRIPE_PAYMENT_LINK   = 'https://buy.stripe.com/7sY6oG8VqckA5kfcgj6Na00';
const STRIPE_SUCCESS_URL    = 'https://jefebcn.github.io/dietapp/app.html?stripe_success=1';

function openStripeCheckout() {
  trackUpgradeClick();
  const userUid = uid();
  if (!userUid) { toast('Effettua il login prima', 'var(--danger)'); return; }

  // Stripe Payment Links accettano ?client_reference_id= per passare dati custom
  // Il webhook riceverà questo valore nel campo client_reference_id della session
  const url = new URL(STRIPE_PAYMENT_LINK);
  url.searchParams.set('client_reference_id', userUid);
  url.searchParams.set('success_url',         STRIPE_SUCCESS_URL);

  window.location.href = url.toString();
}

// Alias per compatibilità con i bottoni già nel DOM
function openPayPalCheckout() { openStripeCheckout(); }

// ── Gestisce il ritorno da Stripe dopo pagamento completato ──
(function checkStripeReturn() {
  if (!window.location.search.includes('stripe_success=1')) return;
  window.history.replaceState({}, '', window.location.pathname);

  // Mostra banner — il listener onSnapshot aggiornerà isPremium
  // in automatico non appena Pipedream scrive su Firestore (pochi secondi)
  setTimeout(() => {
    const banner = document.createElement('div');
    banner.id = 'stripe-success-banner';
    banner.style.cssText = `
      position:fixed;top:70px;left:12px;right:12px;z-index:9000;
      background:linear-gradient(135deg,#3a6b27,#5a9e3a);color:#fff;
      border-radius:16px;padding:16px 20px;
      box-shadow:0 8px 32px rgba(0,0,0,0.25);
      display:flex;align-items:center;gap:14px;
      animation:slideUp 0.4s ease;
      font-family:var(--font-body,sans-serif);
    `;
    banner.innerHTML = `
      <span style="font-size:32px">🎉</span>
      <div style="flex:1">
        <div style="font-weight:700;font-size:16px;margin-bottom:3px">Pagamento completato!</div>
        <div style="font-size:13px;opacity:0.9">Riceverai la conferma di attivazione Premium entro breve. Grazie! 🌿</div>
      </div>
    `;
    document.body.appendChild(banner);
    // Rimuovi dopo 10s (o prima se onSnapshot attiva il premium)
    setTimeout(() => {
      banner.style.transition = 'opacity 0.5s';
      banner.style.opacity = '0';
      setTimeout(() => banner.remove(), 500);
    }, 10000);
  }, 1500);
})();

function loadPremiumStatus() {
  // Cancella eventuale listener precedente (es. dopo logout/login)
  if (_premiumListener) { _premiumListener(); _premiumListener = null; }

  const {db, doc, onSnapshot} = window._fb;
  const userRef = doc(db, 'users', uid());

  // onSnapshot si richiama AUTOMATICAMENTE ogni volta che Firestore cambia
  // → se l'admin attiva il premium, l'utente lo vede subito senza refresh
  _premiumListener = onSnapshot(userRef, (snap) => {
    const wasAlreadyPremium = isPremium;
    isPremium = snap.exists() && snap.data().premium === true;
    updatePremiumUI();

    // Se è appena diventato premium (cambio da false → true) mostra notifica di benvenuto
    if (!wasAlreadyPremium && isPremium) {
      toast('🎉 Premium attivato! Tutte le funzioni sono sbloccate.', 'var(--green)');
      // Rimuovi eventuali banner/nudge promozionali ancora aperti
      const nudgeBanner = document.getElementById('premium-nudge-banner');
      if (nudgeBanner) nudgeBanner.remove();
    }

    // Nudge solo se free e prima lettura (wasAlreadyPremium === false all'inizio)
    if (!isPremium && !wasAlreadyPremium) {
      const createdAt = snap.exists() ? snap.data().createdAt : null;
      checkPremiumNudge(createdAt);
    }
  }, (e) => {
    // Errore listener (es. permessi) → fallback silenzioso
    console.warn('Premium listener error:', e.message);
    isPremium = false;
  });
}

// ══════════════════════════════════════════════════════
// PREMIUM NUDGE — notifica push dopo 3 giorni
// ══════════════════════════════════════════════════════
function checkPremiumNudge(createdAt) {
  if (!createdAt) return;

  const THREE_DAYS = 3 * 24 * 60 * 60 * 1000;
  const accountAge = Date.now() - createdAt;
  if (accountAge < THREE_DAYS) return;                         // troppo presto

  const nudgeKey = 'nt-premium-nudge-' + uid();
  const lastNudge = parseInt(localStorage.getItem(nudgeKey) || '0');
  const SEVEN_DAYS = 7 * 24 * 60 * 60 * 1000;
  if (Date.now() - lastNudge < SEVEN_DAYS) return;            // già mostrato di recente

  // Salva timestamp per non ripetere per 7 giorni
  localStorage.setItem(nudgeKey, Date.now().toString());

  // Prova prima la notifica push
  if ('Notification' in window && Notification.permission === 'granted') {
    setTimeout(() => {
      try {
        const n = new Notification('🌟 NutriTrack — Sblocca il Premium!', {
          body: 'Hai 3 giorni di risultati! Prova la Foto AI e lo storico completo → solo 2,99€/mese.',
          icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><text y="52" font-size="52">🌿</text></svg>',
          tag: 'premium-nudge',
          requireInteraction: false,
          data: { url: 'paypal-checkout' }
        });
        n.onclick = () => {
          window.focus();
          openPayPalCheckout();
          n.close();
        };
      } catch(e) {
        // fallback toast se notifica fallisce
        showPremiumNudgeToast();
      }
    }, 8000); // attende 8s dopo il login per non spammare subito

  } else {
    // Nessuna notifica push → mostra in-app banner dopo 5s
    setTimeout(showPremiumNudgeToast, 5000);
  }
}

function showPremiumNudgeToast() {
  // Crea banner premium in-app se non esiste già
  if (document.getElementById('premium-nudge-banner')) return;
  const banner = document.createElement('div');
  banner.id = 'premium-nudge-banner';
  banner.style.cssText = `
    position:fixed; bottom:80px; left:12px; right:12px; z-index:9000;
    background:linear-gradient(135deg,#3a6b27,#5a9e3a);
    color:#fff; border-radius:16px; padding:14px 16px;
    box-shadow:0 8px 32px rgba(0,0,0,0.25);
    display:flex; align-items:center; gap:12px;
    animation:slideUp 0.4s ease;
    font-family:var(--font-body,sans-serif);
  `;
  banner.innerHTML = `
    <span style="font-size:28px;flex-shrink:0">🌟</span>
    <div style="flex:1;min-width:0">
      <div style="font-weight:700;font-size:14px;margin-bottom:2px">Sei su NutriTrack da 3 giorni!</div>
      <div style="font-size:12px;opacity:0.85">Sblocca Foto AI e storico illimitato → solo 2,99€/mese</div>
    </div>
    <div style="display:flex;flex-direction:column;gap:6px;flex-shrink:0">
      <a href="#" onclick="document.getElementById('premium-nudge-banner').remove();openPayPalCheckout();return false"
         style="background:#fff;color:#3a6b27;font-weight:700;font-size:12px;
                padding:6px 12px;border-radius:8px;text-decoration:none;text-align:center;white-space:nowrap">
        Vai Premium
      </a>
      <button onclick="document.getElementById('premium-nudge-banner').remove()"
              style="background:transparent;border:none;color:rgba(255,255,255,0.7);
                     font-size:11px;cursor:pointer;padding:2px 0">
        Non ora
      </button>
    </div>
  `;
  document.body.appendChild(banner);
  // Rimuove automaticamente dopo 20s
  setTimeout(() => banner.remove(), 20000);
}

function updatePremiumUI() {
  // Nav badge
  const badge = document.getElementById('premium-nav-badge');
  if (badge) badge.style.display = isPremium ? 'inline-flex' : 'none';

  // Photo AI button label
  const photoBtn = document.querySelector('[onclick*="openPhotoAnalysis"]');
  if (photoBtn) photoBtn.innerHTML = isPremium ? '🤖 Foto AI' : '🤖 Foto AI ⭐';

  // Share card button — unlock if premium
  if (isPremium) {
    const shareBtn = document.querySelector('[onclick*="checkPremium(\'openShareCard\'"]');
    if (shareBtn) shareBtn.setAttribute('onclick', 'openShareCard()');
  }

  // Rewards page premium cards
  const promoCard = document.getElementById('premium-promo-card');
  const activeCard = document.getElementById('premium-active-card');
  if (promoCard) promoCard.style.display = isPremium ? 'none' : 'block';
  if (activeCard) activeCard.style.display = isPremium ? 'block' : 'none';
}

// Check premium before running a feature
function checkPremium(fnName, featureTitle, featureDesc) {
  if (isPremium) {
    // Already premium — run directly
    if (window[fnName]) window[fnName]();
    return;
  }
  // Show upgrade modal
  document.getElementById('upgrade-modal-title').textContent = featureTitle;
  document.getElementById('upgrade-modal-sub').textContent = featureDesc + '\n\nCon Premium hai accesso illimitato a questa e tutte le altre funzioni avanzate.';
  document.getElementById('upgrade-modal').style.display = 'flex';
  // Store which feature they wanted
  window._pendingPremiumFn = fnName;
}

function closeUpgradeModal() {
  document.getElementById('upgrade-modal').style.display = 'none';
  window._pendingPremiumFn = null;
}

function trackUpgradeClick() {
  // Track that user clicked upgrade
  try {
    const {db, doc, updateDoc, serverTimestamp} = window._fb;
    updateDoc(doc(db, 'users', uid()), {
      upgradeClickedAt: Date.now(),
      upgradeClickedFor: window._pendingPremiumFn || 'unknown'
    }).catch(()=>{});
  } catch(e) {}
  toast('🚀 Apertura pagamento sicuro...', 'var(--green)');
}

// Admin: set premium status for a user
// ── Aggiorna la premium card nel pannello dettaglio ──────────
function updateAdminPremiumCard(targetUid, userData) {
  const isPrem   = userData.premium === true;
  const setAt    = userData.premiumSetAt || (userData.premiumActivatedAt?.toDate ? userData.premiumActivatedAt.toDate().getTime() : null);
  const expiresAt = userData.premiumExpiresAt
    ? (userData.premiumExpiresAt.toDate ? userData.premiumExpiresAt.toDate() : new Date(userData.premiumExpiresAt))
    : null;

  // Indicator dot
  const dot = document.getElementById('adm-prem-indicator');
  if (dot) dot.style.background = isPrem ? '#22c55e' : '#9ca3af';

  // Status label
  const lbl = document.getElementById('adm-prem-status-label');
  const sub = document.getElementById('adm-prem-status-sub');
  if (lbl) lbl.textContent = isPrem ? '⭐ Piano Premium attivo' : 'Piano Free';
  if (lbl) lbl.style.color = isPrem ? 'var(--green)' : 'var(--text)';
  if (sub) sub.textContent = isPrem
    ? (expiresAt ? `Scade il ${expiresAt.toLocaleDateString('it-IT')}` : 'Senza scadenza impostata')
    : 'Funzioni avanzate non attive';

  // Toggle track color e thumb position
  const track = document.getElementById('adm-prem-track');
  const thumb = document.getElementById('adm-prem-thumb');
  const lblOn  = document.getElementById('adm-toggle-lbl-on');
  const lblOff = document.getElementById('adm-toggle-lbl-off');
  if (track) track.style.background = isPrem ? 'var(--green)' : 'var(--border)';
  if (thumb) thumb.style.transform  = isPrem ? 'translateX(26px)' : 'translateX(0)';
  if (lblOn)  lblOn.style.color  = isPrem ? 'var(--green)' : 'var(--muted)';
  if (lblOff) lblOff.style.color = isPrem ? 'var(--muted)' : 'var(--text)';

  // Details strip (solo se premium)
  const details = document.getElementById('adm-prem-details');
  if (details) details.style.display = isPrem ? 'block' : 'none';

  if (isPrem) {
    const dateEl = document.getElementById('adm-prem-date');
    const byEl   = document.getElementById('adm-prem-by');
    const expEl  = document.getElementById('adm-prem-expires');
    if (dateEl) dateEl.textContent = setAt ? new Date(setAt).toLocaleDateString('it-IT') : '—';
    if (byEl)   byEl.textContent   = userData.premiumTxnId ? 'Stripe' : 'Admin';
    if (expEl)  expEl.textContent  = expiresAt ? expiresAt.toLocaleDateString('it-IT') : '∞ Nessuna';
  }
}

// ── Toggle da dentro il pannello dettaglio ───────────────────
async function adminTogglePremiumFromDetail() {
  const panel = document.getElementById('admin-user-detail');
  const targetUid = panel?.dataset?.uid;
  if (!targetUid) return;

  // Leggi stato attuale dal dot indicator
  const dot = document.getElementById('adm-prem-indicator');
  const isCurrentlyPremium = dot && dot.style.background === 'rgb(34, 197, 94)'; // #22c55e

  await adminSetPremium(targetUid, !isCurrentlyPremium);
}

async function adminSetPremium(targetUid, value) {
  const {db, doc, updateDoc, collection, addDoc} = window._fb;

  // Conferma prima di rimuovere
  if (!value) {
    const ok = confirm('Rimuovere il Premium a questo utente?');
    if (!ok) return;
  }

  const now = Date.now();

  // ── 1. Aggiorna campo premium sull'utente (operazione principale) ──
  try {
    await updateDoc(doc(db, 'users', targetUid), {
      premium:          value,
      premiumSetAt:     value ? now : null,
      premiumSetBy:     value ? uid() : null,
      premiumRemovedAt: value ? null : now,
      premiumRemovedBy: value ? null : uid(),
    });
  } catch(e) {
    // Errore principale → mostra e fermati
    toast('Errore permessi: ' + e.message + ' — Controlla le Firestore Rules (vedi console)', 'var(--danger)');
    console.error('adminSetPremium updateDoc failed:', e);
    console.warn('👉 Soluzione: vai su Firebase Console → Firestore → Regole e aggiungi:\n\nmatch /users/{userId} {\n  allow write: if request.auth != null && get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == "admin";\n}');
    return;
  }

  // ── 2. Log in admin_actions (operazione secondaria — non blocca se fallisce) ──
  try {
    await addDoc(collection(db, 'admin_actions'), {
      type:      value ? 'premium_activate' : 'premium_remove',
      targetUid,
      adminUid:  uid(),
      timestamp: now,
      note:      value ? 'Attivato manualmente da admin' : 'Rimosso manualmente da admin'
    });
  } catch(e) {
    // Non critico — solo un log, non blocca l'attivazione
    console.warn('Log admin_actions non salvato (permessi mancanti, non critico):', e.message);
  }

  // ── 3. Feedback e refresh UI ──
  toast(
    value ? '⭐ Premium attivato!' : '🔓 Premium rimosso',
    value ? 'var(--green)' : 'var(--orange)'
  );

  // Ricarica tabella utenti
  await loadAdminUsers();

  // Se il pannello dettaglio è aperto per questo utente, ricarica la premium card
  const panel = document.getElementById('admin-user-detail');
  if (panel && panel.dataset.uid === targetUid) {
    try {
      const {getDoc} = window._fb;
      const usnap = await getDoc(doc(db, 'users', targetUid));
      if (usnap.exists()) updateAdminPremiumCard(targetUid, usnap.data());
    } catch(e) { /* silenzioso */ }
  }
}

// ══════════════════════════════════════════════════════
// REFERRAL SYSTEM
// ══════════════════════════════════════════════════════
let referralData = { code: null, usedCode: null, referrals: [], ptsEarned: 0 };

function generateReferralCode(userId) {
  // Deterministic 8-char code from uid
  const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
  let code = 'FLX';
  for (let i = 0; i < 5; i++) {
    const charCode = userId.charCodeAt(i % userId.length) + i * 7;
    code += chars[charCode % chars.length];
  }
  return code;
}

async function loadReferralData() {
  const {db, doc, getDoc, getDocs, collection, query, where} = window._fb;
  try {
    // Load this user's referral doc
    const snap = await getDoc(doc(db, 'referrals', uid()));
    if (snap.exists()) {
      referralData = { ...referralData, ...snap.data() };
    } else {
      // First time: generate code and save
      const code = generateReferralCode(uid());
      referralData.code = code;
      const {setDoc} = window._fb;
      await setDoc(doc(db, 'referrals', uid()), {
        code,
        uid: uid(),
        email: window._currentUser?.email || '',
        usedCode: null,
        referrals: [],
        ptsEarned: 0,
        createdAt: Date.now()
      });
    }

    // Check if this user hasn't used a referral code yet (show input section)
    if (!referralData.usedCode) {
      const sec = document.getElementById('referral-enter-section');
      if (sec) sec.style.display = 'block';
    }

    renderReferralUI();

    // Award welcome bonus if came via referral and not yet awarded
    const urlParams = new URLSearchParams(window.location.search);
    const refCode = urlParams.get('ref') || sessionStorage.getItem('nt-ref-code');
    if (refCode && !referralData.usedCode) {
      sessionStorage.removeItem('nt-ref-code');
      await applyReferralCode(refCode, true);
    }
  } catch(e) {
    console.warn('Referral load error:', e);
    // Still show generated code offline
    if (!referralData.code) referralData.code = generateReferralCode(uid());
    renderReferralUI();
  }
}

function renderReferralUI() {
  const codeEl = document.getElementById('referral-code-display');
  if (codeEl) codeEl.textContent = referralData.code || '——';

  const countEl = document.getElementById('referral-count');
  if (countEl) countEl.textContent = (referralData.referrals || []).length;

  const ptsEl = document.getElementById('referral-pts-earned');
  if (ptsEl) ptsEl.textContent = referralData.ptsEarned || 0;

  // Friends list
  const friendsList = document.getElementById('referral-friends-list');
  const friendsInner = document.getElementById('referral-friends-inner');
  if (referralData.referrals && referralData.referrals.length > 0) {
    if (friendsList) friendsList.style.display = 'block';
    if (friendsInner) {
      friendsInner.innerHTML = referralData.referrals.map(r =>
        `<div style="display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid var(--border)">
          <div style="width:32px;height:32px;background:var(--green);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:13px">${(r.email||'?')[0].toUpperCase()}</div>
          <div style="flex:1">
            <div style="font-size:13px;font-weight:600">${r.email || 'Amico'}</div>
            <div style="font-size:11px;color:var(--muted)">${new Date(r.joinedAt||Date.now()).toLocaleDateString('it-IT')}</div>
          </div>
          <span style="font-family:var(--font-mono);font-size:11px;color:var(--green);font-weight:700">+100 pts</span>
        </div>`
      ).join('');
    }
  }
}

function copyReferralCode() {
  const code = referralData.code;
  if (!code) return;
  navigator.clipboard.writeText(code).then(() => toast('📋 Codice copiato!'));
}

function getReferralLink() {
  const base = window.location.href.split('?')[0];
  return `${base}?ref=${referralData.code}`;
}

function shareReferral(mode) {
  const code = referralData.code;
  const link = getReferralLink();
  const msg = `🌱 Sto usando NutriTrack per tracciare i miei macro e progressi in palestra!\nIscriviti con il mio codice *${code}* e ottieni subito +50 punti bonus 💪\n\n${link}`;

  if (mode === 'whatsapp') {
    window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`, '_blank');
  } else if (mode === 'copy') {
    navigator.clipboard.writeText(msg).then(() => toast('🔗 Link copiato!'));
  } else if (mode === 'native') {
    if (navigator.share) {
      navigator.share({ title: 'NutriTrack — Porta un Amico', text: msg, url: link })
        .catch(() => {});
    } else {
      navigator.clipboard.writeText(msg).then(() => toast('🔗 Link copiato!'));
    }
  }
}

async function submitReferralCode() {
  const input = document.getElementById('referral-enter-input');
  const statusEl = document.getElementById('referral-enter-status');
  const code = (input?.value || '').trim().toUpperCase();
  if (!code || code.length < 6) {
    if (statusEl) { statusEl.textContent = '⚠️ Codice non valido'; statusEl.style.color = 'var(--danger)'; }
    return;
  }
  if (code === referralData.code) {
    if (statusEl) { statusEl.textContent = '⚠️ Non puoi usare il tuo stesso codice!'; statusEl.style.color = 'var(--danger)'; }
    return;
  }
  if (statusEl) { statusEl.textContent = '🔍 Verifica in corso...'; statusEl.style.color = 'var(--muted)'; }
  await applyReferralCode(code, false);
}

async function applyReferralCode(code, fromUrl) {
  const {db, doc, getDoc, setDoc, updateDoc, getDocs, collection, query, where} = window._fb;
  const statusEl = document.getElementById('referral-enter-status');
  try {
    // Find owner of this code
    const allRefs = await getDocs(collection(db, 'referrals'));
    let ownerDoc = null;
    let ownerId = null;
    allRefs.forEach(d => {
      if (d.data().code === code && d.id !== uid()) {
        ownerDoc = d.data();
        ownerId = d.id;
      }
    });

    if (!ownerDoc) {
      if (statusEl) { statusEl.textContent = '❌ Codice non trovato'; statusEl.style.color = 'var(--danger)'; }
      return;
    }

    // Update: mark this user as having used the code
    referralData.usedCode = code;
    await updateDoc(doc(db, 'referrals', uid()), { usedCode: code });

    // Award +50 pts to this user (welcome bonus)
    await awardPoints(50, '🎁 Bonus benvenuto — codice amico ' + code, '🎁');

    // Award +100 pts to the referrer
    const referrerRefs = ownerDoc.referrals || [];
    const alreadyReferred = referrerRefs.some(r => r.uid === uid());
    if (!alreadyReferred) {
      const newReferrals = [...referrerRefs, {
        uid: uid(),
        email: window._currentUser?.email || 'Amico',
        joinedAt: Date.now()
      }];
      const newPts = (ownerDoc.ptsEarned || 0) + 100;
      await updateDoc(doc(db, 'referrals', ownerId), {
        referrals: newReferrals,
        ptsEarned: newPts
      });

      // Award points to referrer's nutripoints
      // Load referrer points and update
      const refPtsSnap = await getDoc(doc(db, 'users', ownerId, 'nutripoints', 'main'));
      const refPts = refPtsSnap.exists() ? refPtsSnap.data() : { total: 0, history: [] };
      refPts.total = (refPts.total || 0) + 100;
      refPts.history = [{ pts: 100, reason: '👥 Amico ' + (window._currentUser?.email||'nuovo') + ' si è iscritto!', icon: '👥', date: todayStr(), ts: Date.now() }, ...(refPts.history||[])].slice(0, 100);
      await setDoc(doc(db, 'users', ownerId, 'nutripoints', 'main'), refPts);
    }

    // Hide enter section
    const sec = document.getElementById('referral-enter-section');
    if (sec) sec.style.display = 'none';
    if (statusEl) { statusEl.textContent = '✅ Codice applicato! +50 pts ricevuti'; statusEl.style.color = 'var(--green)'; }

    toast('🎁 Benvenuto! +50 NutriPoints bonus!');
    await loadReferralData();

  } catch(e) {
    if (statusEl) { statusEl.textContent = '⚠️ Errore: ' + (e.message || 'riprova'); statusEl.style.color = 'var(--danger)'; }
  }
}

// Check ref code in URL on page load (before auth)
(function checkRefInUrl() {
  const params = new URLSearchParams(window.location.search);
  const ref = params.get('ref');
  if (ref) sessionStorage.setItem('nt-ref-code', ref);
})();

// ══════════════════════════════════════════════════════
// DARK MODE
// ══════════════════════════════════════════════════════
function initDarkMode() {
  const saved = localStorage.getItem('nt-theme') || 'light';
  applyTheme(saved);
}

function toggleDarkMode() {
  const current = document.documentElement.getAttribute('data-theme') || 'light';
  applyTheme(current === 'dark' ? 'light' : 'dark');
}

function applyTheme(theme) {
  document.documentElement.setAttribute('data-theme', theme);
  localStorage.setItem('nt-theme', theme);
  const btn = document.getElementById('dark-toggle-btn');
  if (btn) btn.classList.toggle('on', theme === 'dark');
}

// Call on page load immediately
initDarkMode();

// ══════════════════════════════════════════════════════
// FLOATING ACTION BUTTON (FAB)
// ══════════════════════════════════════════════════════
let fabOpen = false;
let fabScrollTimer = null;

// Auto-hide FAB while scrolling
document.addEventListener('scroll', () => {
  const fab = document.getElementById('fab-btn');
  if (!fab || fabOpen) return;
  fab.classList.add('fab-hidden');
  clearTimeout(fabScrollTimer);
  fabScrollTimer = setTimeout(() => fab.classList.remove('fab-hidden'), 800);
}, { passive: true });
// Also listen on main content scroll
document.addEventListener('DOMContentLoaded', () => {
  const main = document.querySelector('.main');
  if (main) main.addEventListener('scroll', () => {
    const fab = document.getElementById('fab-btn');
    if (!fab || fabOpen) return;
    fab.classList.add('fab-hidden');
    clearTimeout(fabScrollTimer);
    fabScrollTimer = setTimeout(() => fab.classList.remove('fab-hidden'), 800);
  }, { passive: true });
});

function toggleFab() {
  fabOpen = !fabOpen;
  document.getElementById('fab-menu').classList.toggle('open', fabOpen);
  document.getElementById('fab-icon').textContent = fabOpen ? '✕' : '+';
}

function closeFab() {
  fabOpen = false;
  const m = document.getElementById('fab-menu');
  if (m) m.classList.remove('open');
  const i = document.getElementById('fab-icon');
  if (i) i.textContent = '+';
}

function fabQuickWeight() {
  closeFab();
  goPage('home');
  setTimeout(() => {
    const inp = document.getElementById('weight-today');
    if (inp) { inp.focus(); inp.scrollIntoView({behavior:'smooth', block:'center'}); }
  }, 200);
}

function fabQuickFood(type) {
  closeFab();
  if (type === 'alimento') {
    goPage('foods');
    setTimeout(() => openFoodModal(), 200);
  } else {
    goPage('diary');
    setTimeout(() => {
      const inp = document.getElementById('diary-food-search');
      if (inp) { inp.focus(); inp.scrollIntoView({behavior:'smooth', block:'center'}); }
    }, 200);
  }
}

// Close FAB on outside click
document.addEventListener('click', e => {
  const fab = document.getElementById('fab-btn');
  const menu = document.getElementById('fab-menu');
  if (fab && menu && !fab.contains(e.target) && !menu.contains(e.target)) {
    closeFab();
  }
});

// ══════════════════════════════════════════════════════
// OPENFOODFACTS API
// ══════════════════════════════════════════════════════
let offSearchTimeout = null;
let offResults = [];

async function searchOpenFoodFacts(query) {
  if (!query || query.length < 3) return [];
  try {
    const url = `https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(query)}&search_simple=1&action=process&json=1&page_size=8&fields=product_name,nutriments,brands`;
    const res = await fetch(url);
    const data = await res.json();
    return (data.products || [])
      .filter(p => p.product_name && p.nutriments)
      .map(p => ({
        name:    p.product_name + (p.brands ? ' ('+p.brands.split(',')[0]+')' : ''),
        kcal:    Math.round(p.nutriments['energy-kcal_100g'] || p.nutriments['energy-kcal'] || 0),
        protein: parseFloat((p.nutriments['proteins_100g'] || 0).toFixed(1)),
        carbs:   parseFloat((p.nutriments['carbohydrates_100g'] || 0).toFixed(1)),
        fat:     parseFloat((p.nutriments['fat_100g'] || 0).toFixed(1)),
        source:  'off'
      }))
      .filter(p => p.kcal > 0);
  } catch(e) {
    console.warn('OpenFoodFacts error:', e);
    return [];
  }
}

// Enhanced search — personal foods + INRAN + OpenFoodFacts
// ══════════════════════════════════════════════════════
// ONBOARDING WIZARD
// ══════════════════════════════════════════════════════
let wizardActivity = null;

async function checkOnboarding() {
  // Show wizard only if user has no profile data saved
  const {db, doc, getDoc} = window._fb;
  try {
    const snap = await getDoc(doc(db,'users',uid(),'profile','main'));
    if (!snap.exists() && window._currentUser.role !== 'admin') {
      document.getElementById('wizard-overlay').style.display = 'flex';
    }
  } catch(e) {
    console.warn('Onboarding check:', e);
  }
}

function wizardSetDots(step) {
  for (let i = 0; i < 4; i++) {
    const d = document.getElementById('wd-'+i);
    if (!d) continue;
    d.className = 'wizard-dot' + (i < step ? ' done' : i === step ? ' active' : '');
  }
}

function wizardNext(from) {
  if (from === 1) {
    const dob    = document.getElementById('wz-dob').value;
    const height = document.getElementById('wz-height').value;
    const weight = document.getElementById('wz-weight').value;
    const sex    = document.getElementById('wz-sex').value;
    if (!dob || !height || !weight || !sex) {
      toast('Compila tutti i campi per continuare.', 'var(--danger)'); return;
    }
  }
  if (from === 2) {
    if (!wizardActivity) { toast('Seleziona il livello di attività.', 'var(--danger)'); return; }
    computeWizardResult();
  }
  document.getElementById('wstep-'+from).classList.remove('active');
  document.getElementById('wstep-'+(from+1)).classList.add('active');
  wizardSetDots(from+1);
}

function wizardBack(from) {
  document.getElementById('wstep-'+from).classList.remove('active');
  document.getElementById('wstep-'+(from-1)).classList.add('active');
  wizardSetDots(from-1);
}

function selectActivity(el) {
  document.querySelectorAll('.wz-activity-opt').forEach(o => o.classList.remove('selected'));
  el.classList.add('selected');
  wizardActivity = parseFloat(el.dataset.val);
}

function computeWizardResult() {
  const dob    = document.getElementById('wz-dob').value;
  const height = parseFloat(document.getElementById('wz-height').value);
  const weight = parseFloat(document.getElementById('wz-weight').value);
  const sex    = document.getElementById('wz-sex').value;

  const age = Math.floor((new Date() - new Date(dob)) / (365.25 * 24*3600*1000));
  // Mifflin-St Jeor formula
  let bmr = sex === 'm'
    ? 10*weight + 6.25*height - 5*age + 5
    : 10*weight + 6.25*height - 5*age - 161;
  const tdee = Math.round(bmr * wizardActivity);
  const bmi  = (weight / ((height/100)**2)).toFixed(1);

  // Save to state for wizardFinish
  window._wizardData = { dob, height, weight, sex, age, bmr:Math.round(bmr), tdee, bmi, activity: wizardActivity };

  let bmiLabel = '', bmiColor = 'var(--green)';
  if(bmi<18.5){bmiLabel='Sottopeso';bmiColor='#3b82f6';}
  else if(bmi<25){bmiLabel='Normopeso';bmiColor='var(--green)';}
  else if(bmi<30){bmiLabel='Sovrappeso';bmiColor='var(--orange)';}
  else{bmiLabel='Obesità';bmiColor='var(--danger)';}

  document.getElementById('wz-result').innerHTML = `
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px">
      <div class="stat-chip">
        <div class="val" style="color:var(--green)">${tdee}</div>
        <div class="lbl">KCAL/GIORNO (TDEE)</div>
      </div>
      <div class="stat-chip">
        <div class="val" style="color:${bmiColor}">${bmi}</div>
        <div class="lbl">BMI — ${bmiLabel}</div>
      </div>
    </div>
    <div style="padding:12px 16px;background:var(--cream);border-radius:10px;font-size:13px;color:var(--text2)">
      <div style="display:flex;justify-content:space-between;margin-bottom:4px">
        <span>Età</span><strong>${age} anni</strong>
      </div>
      <div style="display:flex;justify-content:space-between;margin-bottom:4px">
        <span>BMR (a riposo)</span><strong>${Math.round(bmr)} kcal</strong>
      </div>
      <div style="display:flex;justify-content:space-between">
        <span>Deficit consigliato (-15%)</span><strong>${Math.round(tdee*0.85)} kcal</strong>
      </div>
    </div>`;
}

async function wizardFinish() {
  const d = window._wizardData;
  if (!d) { document.getElementById('wizard-overlay').style.display='none'; return; }
  const {db, doc, setDoc} = window._fb;
  try {
    await setDoc(doc(db,'users',uid(),'profile','main'), {
      dob: document.getElementById('wz-dob').value,
      height: parseFloat(document.getElementById('wz-height').value),
      sex: document.getElementById('wz-sex').value,
      activity: wizardActivity,
      tdee: d.tdee, bmr: d.bmr,
      updatedAt: Date.now()
    });
    // Pre-fill goal with TDEE
    document.getElementById('goal-start').value = d.weight;
    toast('Profilo salvato! TDEE: '+d.tdee+' kcal/giorno', 'var(--green)');
  } catch(e) { console.warn('Wizard save:', e); }
  document.getElementById('wizard-overlay').style.display = 'none';
}

// ══════════════════════════════════════════════════════
// PWA — SERVICE WORKER + MANIFEST
// ══════════════════════════════════════════════════════
function initPWA() {
  // Inline manifest via blob URL
  const manifest = {
    name: "NutriTrack",
    short_name: "NutriTrack",
    description: "Traccia peso, dieta e macro ogni giorno",
    start_url: "./",
    display: "standalone",
    background_color: "#f3ede2",
    theme_color: "#4a7a35",
    orientation: "portrait-primary",
    icons: [
      { src: "data:image/jpeg;base64,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", sizes: "192x192", type: "image/jpeg", purpose: "any maskable" },
      { src: "data:image/jpeg;base64,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", sizes: "512x512", type: "image/jpeg", purpose: "any maskable" }
    ]
  };
  const blob = new Blob([JSON.stringify(manifest)], {type:'application/json'});
  const url  = URL.createObjectURL(blob);
  document.getElementById('pwa-manifest').setAttribute('href', url);

  // Register Service Worker (only if on HTTPS/Firebase/GitHub Pages)
}


// Init PWA immediately (no auth needed)
initPWA();


</script>
</body>
</html>
